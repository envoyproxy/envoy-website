<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UDP proxy (proto) &mdash; envoy 1.25.5-4b5f54 documentation</title>
      <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../../_static/css/envoy.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK" src="../../../../../../_static/jquery.js"></script>
        <script integrity="sha384-lSZeSIVKp9myfKbDQ3GkN/KHjUc+mzg17VKDN4Y2kUeBSJioB9QSM639vM9fuY//" src="../../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../../../../../" id="documentation_options" src="../../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../../_static/doctools.js"></script>
        <script src="../../../../../../_static/sphinx_highlight.js"></script>
        <script src="../../../../../../_static/clipboard.min.js"></script>
        <script src="../../../../../../_static/copybutton.js"></script>
    <script src="../../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />
    <link rel="next" title="HTTP filters" href="../../../../../config/filter/http/http.html" />
    <link rel="prev" title="UDP proxy route configuration (proto)" href="route.proto.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../../index.html">
            
              <img src="../../../../../../_static/envoy-logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.25.5-4b5f54
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../../../api/api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../../../api/api_supported_versions.html">Supported API versions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../../../api.html">v3 API reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../../../bootstrap/bootstrap.html">Bootstrap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../listeners/listeners.html">Listeners</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../clusters/clusters.html">Clusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../http_routes/http_routes.html">HTTP route management</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../../../../config/config.html">Extensions</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/accesslog/filters.html">Access log extension filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/formatter/formatter.html">Access log formatters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/accesslog/accesslog.html">Access loggers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/cluster/cluster.html">Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/common/common.html">Common</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/compression/compression.html">Compression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/config_validators/config_validators.html">Config validators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/contrib/contrib.html">Contrib extensions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/dns_resolver/dns_resolver.html">DNS resolver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/endpoint/endpoint.html">Endpoint</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../../../../config/filter/filter.html">Filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/grpc_credential/grpc_credential.html">Grpc credentials</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/health_checker/health_checker.html">Health checkers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/http/early_header_mutation.html">HTTP early header mutation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/http/custom_response.html">Custom response policies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/http/header_formatters.html">HTTP header formatters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/http/header_validators.html">HTTP header validators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/http/original_ip_detection.html">HTTP original IP detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/http/stateful_session.html">HTTP stateful session</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/trace/trace.html">HTTP tracers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/internal_redirect/internal_redirect.html">Internal redirect predicates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/path/match/path_matcher.html">Path matcher</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/path/rewrite/path_rewriter.html">Path rewriter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/quic/quic_extensions.html">Quic extensions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/descriptors/descriptors.html">Rate limit descriptors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/rbac/rbac.html">RBAC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/rbac/matchers.html">RBAC matchers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/request_id/request_id.html">Request ID</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/resource_monitor/resource_monitor.html">Resource monitors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/retry/retry.html">Retry predicates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/stat_sinks/stat_sinks.html">Stat sinks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/transport_socket/transport_socket.html">Transport sockets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/upstream/upstream.html">Upstream configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/wasm/wasm.html">WASM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/watchdog/watchdog.html">Watchdog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../config/load_balancing_policies/load_balancing_policies.html">Load balancing policies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../admin/admin.html">Admin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../data/data.html">Envoy data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../service/service.html">Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../common_messages/common_messages.html">Common messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../common_messages/common_messages_xds.html">Common messages (XDS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../types/types.html">Types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../api-docs/xds_protocol.html">xDS REST and gRPC protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../api/client_features.html">Well Known Client Features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../faq/overview.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../version_history/version_history.html">Version history</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../index.html">envoy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../../../api/api.html">API</a></li>
          <li class="breadcrumb-item"><a href="../../../../../api.html">v3 API reference</a></li>
          <li class="breadcrumb-item"><a href="../../../../../config/config.html">Extensions</a></li>
          <li class="breadcrumb-item"><a href="../../../../../config/filter/filter.html">Filters</a></li>
          <li class="breadcrumb-item"><a href="../../../../../config/filter/udp/udp.html">UDP listener filters</a></li>
      <li class="breadcrumb-item active">UDP proxy (proto)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../../_sources/api-v3/extensions/filters/udp/udp_proxy/v3/udp_proxy.proto.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="udp-proxy-proto">
<span id="envoy-v3-api-file-envoy-extensions-filters-udp-udp-proxy-v3-udp-proxy-proto"></span><h1>UDP proxy (proto)<a class="headerlink" href="#udp-proxy-proto" title="Permalink to this heading"></a></h1>
<p id="extension-envoy-filters-udp-listener-udp-proxy">This extension has the qualified name <code class="docutils literal notranslate"><span class="pre">envoy.filters.udp_listener.udp_proxy</span></code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This extension is intended to be robust against untrusted downstream traffic. It
assumes that the upstream is trusted.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This extension extends and can be used with the following extension category:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../../../config/listener/v3/listener_components.proto.html#extension-category-envoy-filters-udp-listener"><span class="std std-ref">envoy.filters.udp_listener</span></a></p></li>
</ul>
<p>This extension must be configured with one of the following type URLs:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#envoy-v3-api-msg-extensions-filters-udp-udp-proxy-v3-udpproxyconfig"><span class="std std-ref">type.googleapis.com/envoy.extensions.filters.udp.udp_proxy.v3.UdpProxyConfig</span></a></p></li>
</ul>
</div>
<p>UDP proxy <a class="reference internal" href="../../../../../../configuration/listeners/udp_filters/udp_proxy.html#config-udp-listener-filters-udp-proxy"><span class="std std-ref">configuration overview</span></a>.</p>
<section id="extensions-filters-udp-udp-proxy-v3-udpproxyconfig">
<span id="envoy-v3-api-msg-extensions-filters-udp-udp-proxy-v3-udpproxyconfig"></span><h2>extensions.filters.udp.udp_proxy.v3.UdpProxyConfig<a class="headerlink" href="#extensions-filters-udp-udp-proxy-v3-udpproxyconfig" title="Permalink to this heading"></a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/4b5f5474f35763423684c0fe25c99cc7b2a01fcf/api/envoy/extensions/filters/udp/udp_proxy/v3/udp_proxy.proto#L29">[extensions.filters.udp.udp_proxy.v3.UdpProxyConfig proto]</a></p>
<p>Configuration for the UDP proxy filter.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;stat_prefix&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;cluster&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;matcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;idle_timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;use_original_src_ip&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;hash_policies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">  </span><span class="nt">&quot;upstream_socket_config&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;use_per_packet_load_balancing&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;access_log&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">  </span><span class="nt">&quot;proxy_access_log&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-stat-prefix">
<dt>stat_prefix</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>, <em>REQUIRED</em>) The stat prefix used when emitting UDP proxy filter stats.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-cluster">
<dt>cluster</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>) The upstream cluster to connect to.
This field is deprecated in favor of
<a class="reference internal" href="#envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-matcher"><span class="std std-ref">matcher</span></a>.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-cluster"><span class="std std-ref">cluster</span></a>, <a class="reference internal" href="#envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-matcher"><span class="std std-ref">matcher</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-matcher">
<dt>matcher</dt><dd><p>(<a class="reference internal" href="../../../../../../xds/type/matcher/v3/matcher.proto.html#envoy-v3-api-msg-xds-type-matcher-v3-matcher"><span class="std std-ref">.xds.type.matcher.v3.Matcher</span></a>) The match tree to use when resolving route actions for incoming requests.
See <a class="reference internal" href="../../../../../../configuration/listeners/udp_filters/udp_proxy.html#config-udp-listener-filters-udp-proxy-routing"><span class="std std-ref">Routing</span></a> for more information.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This API feature is currently work-in-progress. API features marked as work-in-progress are not considered stable, are not covered by the <a class="reference internal" href="../../../../../../intro/arch_overview/security/threat_model.html#arch-overview-threat-model"><span class="std std-ref">threat model</span></a>, are not supported by the security team, and are subject to breaking changes. Do not use this feature without understanding each of the previous points.</p>
</div>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-cluster"><span class="std std-ref">cluster</span></a>, <a class="reference internal" href="#envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-matcher"><span class="std std-ref">matcher</span></a> must be set.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-idle-timeout">
<dt>idle_timeout</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#duration">Duration</a>) The idle timeout for sessions. Idle is defined as no datagrams between received or sent by
the session. The default if not specified is 1 minute.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-use-original-src-ip">
<dt>use_original_src_ip</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">bool</a>) Use the remote downstream IP address as the sender IP address when sending packets to upstream hosts.
This option requires Envoy to be run with the <code class="docutils literal notranslate"><span class="pre">CAP_NET_ADMIN</span></code> capability on Linux.
And the IPv6 stack must be enabled on Linux kernel.
This option does not preserve the remote downstream port.
If this option is enabled, the IP address of sent datagrams will be changed to the remote downstream IP address.
This means that Envoy will not receive packets that are sent by upstream hosts because the upstream hosts
will send the packets with the remote downstream IP address as the destination. All packets will be routed
to the remote downstream directly if there are route rules on the upstream host side.
There are two options to return the packets back to the remote downstream.
The first one is to use DSR (Direct Server Return).
The other one is to configure routing rules on the upstream hosts to forward
all packets back to Envoy and configure iptables rules on the host running Envoy to
forward all packets from upstream hosts to the Envoy process so that Envoy can forward the packets to the downstream.
If the platform does not support this option, Envoy will raise a configuration error.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-hash-policies">
<dt>hash_policies</dt><dd><p>(<strong>repeated</strong> <a class="reference internal" href="#envoy-v3-api-msg-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-hashpolicy"><span class="std std-ref">extensions.filters.udp.udp_proxy.v3.UdpProxyConfig.HashPolicy</span></a>) Optional configuration for UDP proxy hash policies. If hash_policies is not set, the hash-based
load balancing algorithms will select a host randomly. Currently the number of hash policies is
limited to 1.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-upstream-socket-config">
<dt>upstream_socket_config</dt><dd><p>(<a class="reference internal" href="../../../../../config/core/v3/udp_socket_config.proto.html#envoy-v3-api-msg-config-core-v3-udpsocketconfig"><span class="std std-ref">config.core.v3.UdpSocketConfig</span></a>) UDP socket configuration for upstream sockets. The default for
<a class="reference internal" href="../../../../../config/core/v3/udp_socket_config.proto.html#envoy-v3-api-field-config-core-v3-udpsocketconfig-prefer-gro"><span class="std std-ref">prefer_gro</span></a> is true for upstream
sockets as the assumption is datagrams will be received from a single source.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-use-per-packet-load-balancing">
<dt>use_per_packet_load_balancing</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">bool</a>) Perform per packet load balancing (upstream host selection) on each received data chunk.
The default if not specified is false, that means each data chunk is forwarded
to upstream host selected on first chunk receival for that “session” (identified by source IP/port and local IP/port).</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-access-log">
<dt>access_log</dt><dd><p>(<strong>repeated</strong> <a class="reference internal" href="../../../../../config/accesslog/v3/accesslog.proto.html#envoy-v3-api-msg-config-accesslog-v3-accesslog"><span class="std std-ref">config.accesslog.v3.AccessLog</span></a>) Configuration for session access logs emitted by the UDP proxy. Note that certain UDP specific data is emitted as <a class="reference internal" href="../../../../../../configuration/observability/access_log/usage.html#config-access-log-format-dynamic-metadata"><span class="std std-ref">Dynamic Metadata</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-proxy-access-log">
<dt>proxy_access_log</dt><dd><p>(<strong>repeated</strong> <a class="reference internal" href="../../../../../config/accesslog/v3/accesslog.proto.html#envoy-v3-api-msg-config-accesslog-v3-accesslog"><span class="std std-ref">config.accesslog.v3.AccessLog</span></a>) Configuration for proxy access logs emitted by the UDP proxy. Note that certain UDP specific data is emitted as <a class="reference internal" href="../../../../../../configuration/observability/access_log/usage.html#config-access-log-format-dynamic-metadata"><span class="std std-ref">Dynamic Metadata</span></a>.</p>
</dd>
</dl>
</section>
<section id="extensions-filters-udp-udp-proxy-v3-udpproxyconfig-hashpolicy">
<span id="envoy-v3-api-msg-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-hashpolicy"></span><h2>extensions.filters.udp.udp_proxy.v3.UdpProxyConfig.HashPolicy<a class="headerlink" href="#extensions-filters-udp-udp-proxy-v3-udpproxyconfig-hashpolicy" title="Permalink to this heading"></a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/4b5f5474f35763423684c0fe25c99cc7b2a01fcf/api/envoy/extensions/filters/udp/udp_proxy/v3/udp_proxy.proto#L35">[extensions.filters.udp.udp_proxy.v3.UdpProxyConfig.HashPolicy proto]</a></p>
<p>Specifies the UDP hash policy.
The packets can be routed by hash policy.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;source_ip&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">...</span>
<span class="p">}</span>
</pre></div>
</div>
<dl id="envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-hashpolicy-source-ip">
<dt>source_ip</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">bool</a>) The source IP will be used to compute the hash used by hash-based load balancing algorithms.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-hashpolicy-source-ip"><span class="std std-ref">source_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-hashpolicy-key"><span class="std std-ref">key</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-hashpolicy-key">
<dt>key</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>) A given key will be used to compute the hash used by hash-based load balancing algorithms.
In certain cases there is a need to direct different UDP streams jointly towards the selected set of endpoints.
A possible use-case is VoIP telephony, where media (RTP) and its corresponding control (RTCP) belong to the same logical session,
although they travel in separate streams. To ensure that these pair of streams are load-balanced on session level
(instead of individual stream level), dynamically created listeners can use the same hash key for each stream in the session.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-hashpolicy-source-ip"><span class="std std-ref">source_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-extensions-filters-udp-udp-proxy-v3-udpproxyconfig-hashpolicy-key"><span class="std std-ref">key</span></a> must be set.</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="route.proto.html" class="btn btn-neutral float-left" title="UDP proxy route configuration (proto)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../../../config/filter/http/http.html" class="btn btn-neutral float-right" title="HTTP filters" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2023, Envoy Project Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
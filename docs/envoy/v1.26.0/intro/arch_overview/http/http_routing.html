<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HTTP routing &mdash; envoy 1.26.0-e7543a documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/envoy.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK" src="../../../_static/jquery.js"></script>
        <script integrity="sha384-lSZeSIVKp9myfKbDQ3GkN/KHjUc+mzg17VKDN4Y2kUeBSJioB9QSM639vM9fuY//" src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="HTTP upgrades" href="upgrades.html" />
    <link rel="prev" title="HTTP filters" href="http_filters.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/envoy-logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.26.0-e7543a
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../intro.html">Introduction</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../what_is_envoy.html">What is Envoy</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../arch_overview.html">Architecture overview</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../intro/intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../listeners/listeners_toc.html">Listeners</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="http.html">HTTP</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="http_connection_management.html">HTTP connection management</a></li>
<li class="toctree-l4"><a class="reference internal" href="http_filters.html">HTTP filters</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">HTTP routing</a></li>
<li class="toctree-l4"><a class="reference internal" href="upgrades.html">HTTP upgrades</a></li>
<li class="toctree-l4"><a class="reference internal" href="http_proxy.html">HTTP dynamic forward proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="http3.html">HTTP/3 overview</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../upstream/upstream.html">Upstream clusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../observability/observability.html">Observability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security/security.html">Security</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operations/operations.html">Operations &amp; configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../other_features/other_features.html">Other features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../other_protocols/other_protocols.html">Other protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../advanced/advanced.html">Advanced</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../life_of_a_request.html">Life of a Request</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../deployment_types/deployment_types.html">Deployment types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_help.html">Getting help</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/overview.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../version_history/version_history.html">Version history</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">envoy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../intro.html">Introduction</a></li>
          <li class="breadcrumb-item"><a href="../arch_overview.html">Architecture overview</a></li>
          <li class="breadcrumb-item"><a href="http.html">HTTP</a></li>
      <li class="breadcrumb-item active">HTTP routing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/intro/arch_overview/http/http_routing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="http-routing">
<span id="arch-overview-http-routing"></span><h1>HTTP routing<a class="headerlink" href="#http-routing" title="Permalink to this heading"></a></h1>
<p>Envoy includes an HTTP <a class="reference internal" href="../../../configuration/http/http_filters/router_filter.html#config-http-filters-router"><span class="std std-ref">router filter</span></a> which can be installed to
perform advanced routing tasks.</p>
<p>This is useful both for handling edge traffic (traditional reverse proxy request handling) as well
as for building a service to service Envoy mesh (typically via routing on the host/authority HTTP
header to reach a particular upstream service cluster).</p>
<p>Envoy also has the ability to be configured as forward proxy. In the forward proxy configuration, mesh
clients can participate by appropriately configuring their HTTP proxy to be an Envoy.</p>
<p>At a high level the router takes an incoming HTTP request, matches it to an upstream cluster, acquires a
<a class="reference internal" href="../upstream/connection_pooling.html#arch-overview-conn-pool"><span class="std std-ref">connection pool</span></a> to a host in the upstream cluster, and forwards the
request.</p>
<p>The router filter supports many features, including:</p>
<dl>
<dt>Virtual hosts and clusters</dt><dd><p>Map domains/authorities to a set of routing rules.</p>
<p>A virtual cluster is specified at the virtual host level and is
used by Envoy to generate additional statistics on top of the standard cluster level ones. Virtual
clusters can use regex matching.</p>
</dd>
<dt>Path, prefix and header matching</dt><dd><p>Route according to case <a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-routematch-case-sensitive"><span class="std std-ref">sensitive</span></a>
and insensitive prefix and exact request paths, or use
<a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-routematch-safe-regex"><span class="std std-ref">regex path matching</span></a>
and for more complex matching rules.</p>
<p>Match routes according to <a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-msg-config-route-v3-headermatcher"><span class="std std-ref">arbitrary headers</span></a>.</p>
</dd>
<dt>Path, prefix and host rewriting</dt><dd><p>Rewrite the <a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-redirectaction-prefix-rewrite"><span class="std std-ref">prefix</span></a>, or
<a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-routeaction-regex-rewrite"><span class="std std-ref">path using a regular expression and capture groups</span></a>.</p>
<p><a class="reference internal" href="../../../api-v3/extensions/filters/http/aws_request_signing/v3/aws_request_signing.proto.html#envoy-v3-api-field-extensions-filters-http-aws-request-signing-v3-awsrequestsigning-host-rewrite"><span class="std std-ref">Explicit host rewriting</span></a>,
and <a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-routeaction-auto-host-rewrite"><span class="std std-ref">automatic host rewriting</span></a> based on
the DNS name of the selected upstream host.</p>
</dd>
<dt>Request redirection</dt><dd><p><a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-redirectaction-path-redirect"><span class="std std-ref">Path</span></a>/<a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-redirectaction-host-redirect"><span class="std std-ref">host</span></a> redirection at the route level.</p>
<p><a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-virtualhost-require-tls"><span class="std std-ref">TLS redirection</span></a>
at the virtual host level.</p>
</dd>
<dt>Request timeouts, retries and hedging</dt><dd><p><a class="reference internal" href="#arch-overview-http-routing-retry"><span class="std std-ref">Request retries</span></a> can be specified either via HTTP header or via
route configuration.</p>
<p>Timeouts can be specified either via <a class="reference internal" href="../../../configuration/http/http_filters/router_filter.html#config-http-filters-router-headers-consumed"><span class="std std-ref">HTTP
header</span></a> or via <a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-routeaction-timeout"><span class="std std-ref">route configuration</span></a>.</p>
<p>Envoy also provides <a class="reference internal" href="#arch-overview-http-routing-hedging"><span class="std std-ref">request hedging</span></a> for
retries in response to a request (per try) timeout.</p>
</dd>
<dt>Traffic shifting and splitting</dt><dd><p>Shift traffic from one upstream cluster to another via <a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-routematch-runtime-fraction"><span class="std std-ref">runtime values</span></a> or split traffic across multiple
upstream clusters according to
<a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-routeaction-weighted-clusters"><span class="std std-ref">weight/percentage-based routing</span></a>
(see <a class="reference internal" href="../../../configuration/http/http_conn_man/traffic_splitting.html#config-http-conn-man-route-table-traffic-splitting"><span class="std std-ref">traffic shifting/splitting</span></a>).</p>
</dd>
<dt>Policy-based routing</dt><dd><p>Routing based on <a class="reference internal" href="#arch-overview-http-routing-priority"><span class="std std-ref">priority</span></a> or a
<a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-routeaction-hash-policy"><span class="std std-ref">hash policy</span></a>.</p>
</dd>
<dt>Direct responses</dt><dd><p><a class="reference internal" href="#arch-overview-http-routing-direct-response"><span class="std std-ref">Non-proxied HTTP responses</span></a>
at the route level.</p>
</dd>
<dt>Absolute URLs</dt><dd><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto.html#envoy-v3-api-field-extensions-filters-network-http-connection-manager-v3-httpconnectionmanager-http-protocol-options"><span class="std std-ref">Absolute URLs</span></a>
are supported for non-TLS forward proxies.</p>
</dd>
</dl>
<section id="route-scope">
<span id="arch-overview-http-routing-route-scope"></span><h2>Route scope<a class="headerlink" href="#route-scope" title="Permalink to this heading"></a></h2>
<p>Scoped routing enables Envoy to put constraints on search space of domains and route rules.</p>
<p>A <a class="reference internal" href="../../../api-v3/config/route/v3/scoped_route.proto.html#envoy-v3-api-msg-config-route-v3-scopedrouteconfiguration"><span class="std std-ref">Route Scope</span></a> associates
a key with a <a class="reference internal" href="#arch-overview-http-routing-route-table"><span class="std std-ref">route table</span></a>.</p>
<p>For each request, a scope key is computed dynamically by the HTTP connection manager to pick the
<a class="reference internal" href="../../../api-v3/config/route/v3/route.proto.html#envoy-v3-api-msg-config-route-v3-routeconfiguration"><span class="std std-ref">route table</span></a>.</p>
<p><a class="reference internal" href="../../../api-v3/config/route/v3/route.proto.html#envoy-v3-api-msg-config-route-v3-routeconfiguration"><span class="std std-ref">RouteConfiguration</span></a> associated with scope
can be configured with the <a class="reference internal" href="../../../api-v3/extensions/filters/http/on_demand/v3/on_demand.proto.html#envoy-v3-api-msg-extensions-filters-http-on-demand-v3-ondemand"><span class="std std-ref">OnDemand</span></a>
filter.</p>
<p>The <a class="reference internal" href="../operations/dynamic_configuration.html#arch-overview-dynamic-config-srds"><span class="std std-ref">Scoped RDS (SRDS) API</span></a> contains a set of
<a class="reference internal" href="../../../api-v3/config/route/v3/scoped_route.proto.html#envoy-v3-api-msg-config-route-v3-scopedrouteconfiguration"><span class="std std-ref">Scopes</span></a> resources,
each defining independent routing configuration, along with a
<a class="reference internal" href="../../../api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto.html#envoy-v3-api-msg-extensions-filters-network-http-connection-manager-v3-scopedroutes-scopekeybuilder"><span class="std std-ref">ScopeKeyBuilder</span></a>
defining the key construction algorithm used by Envoy to look up the scope corresponding to each request.</p>
<p>In the following (statically configured) scoped route example, Envoy will split the
<code class="docutils literal notranslate"><span class="pre">Addr</span></code> header value by <code class="docutils literal notranslate"><span class="pre">;</span></code>, ascertain key value pairs by splitting them on <code class="docutils literal notranslate"><span class="pre">=</span></code>,
and use the first value found for key <code class="docutils literal notranslate"><span class="pre">x-foo-key</span></code> as the scope key.</p>
<p>Specifically, if the <code class="docutils literal notranslate"><span class="pre">Addr</span></code> header value is <code class="docutils literal notranslate"><span class="pre">foo=1;x-foo-key=bar;x-bar-key=something-else</span></code>, then <code class="docutils literal notranslate"><span class="pre">bar</span></code>
will be computed as the scope key to look up for corresponding route configuration.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text"><a class="reference download internal" download="" href="../../../_downloads/78d5e9513a5a40ea8a847aa0e5eef986/route-scope.yaml"><code class="xref download docutils literal notranslate"><span class="pre">route-scope.yaml</span></code></a></span><a class="headerlink" href="#id1" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="linenos">11</span><span class="w">        </span><span class="nt">typed_config</span><span class="p">:</span>
<span class="linenos">12</span><span class="w">          </span><span class="s">&quot;@type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager</span>
<span class="linenos">13</span><span class="w">          </span><span class="nt">stat_prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ingress_http</span>
<span class="linenos">14</span><span class="w">          </span><span class="nt">codec_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">AUTO</span>
<span class="linenos">15</span><span class="w">          </span><span class="nt">http_filters</span><span class="p">:</span>
<span class="linenos">16</span><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">envoy.filters.http.router</span>
<span class="linenos">17</span><span class="w">            </span><span class="nt">typed_config</span><span class="p">:</span>
<span class="linenos">18</span><span class="w">              </span><span class="s">&quot;@type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type.googleapis.com/envoy.extensions.filters.http.router.v3.Router</span>
<span class="linenos">19</span><span class="w">          </span><span class="nt">scoped_routes</span><span class="p">:</span>
<span class="linenos">20</span><span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scope_by_addr</span>
<span class="linenos">21</span><span class="w">            </span><span class="nt">scope_key_builder</span><span class="p">:</span>
<span class="hll"><span class="linenos">22</span><span class="w">              </span><span class="nt">fragments</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">23</span><span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">header_value_extractor</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">24</span><span class="w">                  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Addr</span>
</span><span class="hll"><span class="linenos">25</span><span class="w">                  </span><span class="nt">element_separator</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;;&quot;</span>
</span><span class="hll"><span class="linenos">26</span><span class="w">                  </span><span class="nt">element</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">27</span><span class="w">                    </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">x-foo-key</span>
</span><span class="hll"><span class="linenos">28</span><span class="w">                    </span><span class="nt">separator</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;=&quot;</span>
</span><span class="linenos">29</span><span class="w">            </span><span class="nt">scoped_route_configurations_list</span><span class="p">:</span>
<span class="linenos">30</span><span class="w">              </span><span class="nt">scoped_route_configurations</span><span class="p">:</span>
<span class="linenos">31</span><span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">on_demand</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="linenos">32</span><span class="w">                </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scoped_route_0</span>
<span class="linenos">33</span><span class="w">                </span><span class="nt">key</span><span class="p">:</span>
<span class="hll"><span class="linenos">34</span><span class="w">                  </span><span class="nt">fragments</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">35</span><span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">string_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span>
</span><span class="linenos">36</span><span class="w">                </span><span class="nt">route_configuration</span><span class="p">:</span>
<span class="linenos">37</span><span class="w">                  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">local_route</span>
<span class="linenos">38</span><span class="w">                  </span><span class="nt">virtual_hosts</span><span class="p">:</span>
<span class="linenos">39</span><span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">local_service</span>
<span class="linenos">40</span><span class="w">                    </span><span class="nt">domains</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;*&quot;</span><span class="p p-Indicator">]</span>
<span class="linenos">41</span><span class="w">                    </span><span class="nt">routes</span><span class="p">:</span>
<span class="linenos">42</span><span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">match</span><span class="p">:</span>
<span class="linenos">43</span><span class="w">                        </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/&quot;</span>
<span class="linenos">44</span><span class="w">                      </span><span class="nt">route</span><span class="p">:</span>
<span class="linenos">45</span><span class="w">                        </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cluster_0</span>
</pre></div>
</div>
</div>
<p>For a key to match a <a class="reference internal" href="../../../api-v3/config/route/v3/scoped_route.proto.html#envoy-v3-api-msg-config-route-v3-scopedrouteconfiguration"><span class="std std-ref">ScopedRouteConfiguration</span></a>,
the number of fragments in the computed key has to match that of the
<a class="reference internal" href="../../../api-v3/config/route/v3/scoped_route.proto.html#envoy-v3-api-msg-config-route-v3-scopedrouteconfiguration"><span class="std std-ref">ScopedRouteConfiguration</span></a>. The fragments are then matched in order.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A missing fragment (treated as <code class="docutils literal notranslate"><span class="pre">NULL</span></code>) in the built key makes the request unable to match
any scope, i.e. no route entry can be found for the request.</p>
</div>
</section>
<section id="route-table">
<span id="arch-overview-http-routing-route-table"></span><h2>Route table<a class="headerlink" href="#route-table" title="Permalink to this heading"></a></h2>
<p>The <a class="reference internal" href="../../../configuration/http/http_conn_man/http_conn_man.html#config-http-conn-man"><span class="std std-ref">configuration</span></a> for the HTTP connection manager owns the <a class="reference internal" href="../../../api-v3/config/route/v3/route.proto.html#envoy-v3-api-msg-config-route-v3-routeconfiguration"><span class="std std-ref">route
table</span></a> that is used by all configured HTTP filters.</p>
<p>Although the router filter is the primary consumer of the route table, other filters also have access in case
they want to make decisions based on the ultimate destination of the request. For example, the built
in rate limit filter consults the route table to determine whether the global rate limit service
should be called based on the route.</p>
<p>The connection manager makes sure that all calls to acquire a route are stable for a particular request,
even if the decision involves randomness (e.g. in the case of a runtime configuration route rule).</p>
</section>
<section id="retry-semantics">
<span id="arch-overview-http-routing-retry"></span><h2>Retry semantics<a class="headerlink" href="#retry-semantics" title="Permalink to this heading"></a></h2>
<p>Envoy allows retries to be configured both in the <a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-routeaction-retry-policy"><span class="std std-ref">route configuration</span></a> as well as for specific requests via <a class="reference internal" href="../../../configuration/http/http_filters/router_filter.html#config-http-filters-router-headers-consumed"><span class="std std-ref">request
headers</span></a>.</p>
<p>The following configurations are possible:</p>
<dl>
<dt>Maximum number of retries</dt><dd><p>Envoy will continue to retry any number of times.</p>
<p>The intervals between retries are decided either by an exponential backoff algorithm (the default),
or based on feedback from the upstream server via headers (if present).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All retries are contained within the overall request timeout.</p>
<p>This avoids long request times due to a large number of retries.</p>
</div>
</dd>
<dt>Retry conditions</dt><dd><p>Envoy can retry on different types of conditions depending on application
requirements. For example, network failure, all 5xx response codes, idempotent 4xx response codes,
etc.</p>
</dd>
<dt>Retry budgets</dt><dd><p>Envoy can limit the proportion of active requests via
<a class="reference internal" href="../../../api-v3/config/cluster/v3/circuit_breaker.proto.html#envoy-v3-api-field-config-cluster-v3-circuitbreakers-thresholds-retry-budget"><span class="std std-ref">retry budgets</span></a>
that can be retried to prevent their contribution to large increases in traffic volume.</p>
</dd>
<dt>Host selection retry plugins</dt><dd><p>Envoy can be configured to apply additional logic when selecting hosts for retries.</p>
<p>Specifying a <a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-retrypolicy-retry-host-predicate"><span class="std std-ref">retry host predicate</span></a>
allows for reattempting host selection when certain hosts are selected (e.g. when an already
attempted host is selected), while a
<a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-retrypolicy-retry-priority"><span class="std std-ref">retry priority</span></a> can be
configured to adjust the priority load used when selecting a priority for retries.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Envoy retries requests when <a class="reference internal" href="../../../configuration/http/http_filters/router_filter.html#config-http-filters-router-x-envoy-overloaded-set"><span class="std std-ref">x-envoy-overloaded</span></a> is present. It is recommended to
either configure
<a class="reference internal" href="../../../api-v3/config/cluster/v3/circuit_breaker.proto.html#envoy-v3-api-field-config-cluster-v3-circuitbreakers-thresholds-retry-budget"><span class="std std-ref">retry budgets (preferred)</span></a>
or set
<a class="reference internal" href="../upstream/circuit_breaking.html#arch-overview-circuit-break"><span class="std std-ref">maximum active retries circuit breaker</span></a> to an appropriate
value to avoid retry storms.</p>
</div>
</section>
<section id="request-hedging">
<span id="arch-overview-http-routing-hedging"></span><h2>Request hedging<a class="headerlink" href="#request-hedging" title="Permalink to this heading"></a></h2>
<p>Envoy supports request hedging which can be enabled by specifying a <a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-msg-config-route-v3-hedgepolicy"><span class="std std-ref">hedge
policy</span></a>.</p>
<p>This means that Envoy will race multiple simultaneous upstream requests and return the first
response with acceptable headers to the downstream.</p>
<p>The retry policy is used to determine whether a response should be returned or whether more
responses should be awaited.</p>
<p>Currently hedging can only be performed in response to a request timeout. This
means that a retry request will be issued without cancelling the initial
timed-out request and a late response will be awaited. The first “good”
response according to the retry policy will be returned downstream.</p>
<p>This implementation ensures that the same upstream request is not retried twice,
which might otherwise occur if a request times out and then results in a 5xx
response, creating two retriable events.</p>
</section>
<section id="priority-routing">
<span id="arch-overview-http-routing-priority"></span><h2>Priority routing<a class="headerlink" href="#priority-routing" title="Permalink to this heading"></a></h2>
<p>Envoy supports priority routing at the <a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-msg-config-route-v3-route"><span class="std std-ref">route</span></a> level.</p>
<p>The current priority implementation uses different <a class="reference internal" href="../upstream/connection_pooling.html#arch-overview-conn-pool"><span class="std std-ref">connection pool</span></a>
and <a class="reference internal" href="../../../configuration/upstream/cluster_manager/cluster_circuit_breakers.html#config-cluster-manager-cluster-circuit-breakers"><span class="std std-ref">circuit breaking</span></a> settings for each
priority level, which means that even for HTTP/2 requests, two physical connections will be used to
an upstream host.</p>
<p>The currently supported priorities are <code class="docutils literal notranslate"><span class="pre">default</span></code> and <code class="docutils literal notranslate"><span class="pre">high</span></code>.</p>
</section>
<section id="direct-responses">
<span id="arch-overview-http-routing-direct-response"></span><h2>Direct responses<a class="headerlink" href="#direct-responses" title="Permalink to this heading"></a></h2>
<p>Envoy supports the sending of “direct” responses. These are preconfigured HTTP responses
that do not require proxying to an upstream server.</p>
<p>There are two ways to specify a direct response in a Route:</p>
<ul class="simple">
<li><p>Set the <a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-route-direct-response"><span class="std std-ref">direct_response</span></a> field.
This works for all HTTP response statuses.</p></li>
<li><p>Set the <a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-route-redirect"><span class="std std-ref">redirect</span></a> field. This works for
redirect response statuses only, but it simplifies the setting of the <code class="docutils literal notranslate"><span class="pre">Location</span></code> header.</p></li>
</ul>
<p>A direct response has an HTTP status code and an optional body.</p>
<p>The Route configuration can specify the response body inline or specify the path of
a file containing the body.</p>
<p>If the Route configuration specifies a file pathname, Envoy will read the file upon configuration load
and cache the contents.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>If a response body is specified, by default it is limited to 4KB in size, regardless of
whether it is provided inline or in a file.</p>
<p>Envoy currently holds the entirety of the body in memory, so the 4KB default is intended to keep
the proxy’s memory footprint from growing too large.</p>
<p>If required, this limit can be changed through setting the <a class="reference internal" href="../../../api-v3/config/route/v3/route.proto.html#envoy-v3-api-field-config-route-v3-routeconfiguration-max-direct-response-body-size-bytes"><span class="std std-ref">max_direct_response_body_size_bytes</span></a>
field.</p>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">response_headers_to_add</span></code> has been set for the Route or the enclosing Virtual Host,
Envoy will include the specified headers in the direct HTTP response.</p>
</section>
<section id="routing-via-generic-matching">
<span id="arch-overview-http-routing-matcher"></span><h2>Routing via generic matching<a class="headerlink" href="#routing-via-generic-matching" title="Permalink to this heading"></a></h2>
<p>Envoy supports using a <a class="reference internal" href="../advanced/matching/matching_api.html#arch-overview-matching-api"><span class="std std-ref">generic match tree</span></a> to
specify the route table.</p>
<p>This is a more expressive matching engine than the original one, allowing
for sublinear matching on arbitrary headers (unlike the original matching engine which could only
do this for <code class="docutils literal notranslate"><span class="pre">:authority</span></code> in some cases).</p>
<p>To use the generic matching tree, specify a matcher on a virtual host with a <a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-msg-config-route-v3-route"><span class="std std-ref">Route</span></a>
or <a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-msg-config-route-v3-routelist"><span class="std std-ref">RouteList</span></a> as the action:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text"><a class="reference download internal" download="" href="../../../_downloads/86e9710fa09528b53de54dd852c62760/route-match-tree.yaml"><code class="xref download docutils literal notranslate"><span class="pre">route-scope.yaml</span></code></a></span><a class="headerlink" href="#id2" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="linenos">11</span><span class="w">        </span><span class="nt">typed_config</span><span class="p">:</span>
<span class="linenos">12</span><span class="w">          </span><span class="s">&quot;@type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager</span>
<span class="linenos">13</span><span class="w">          </span><span class="nt">stat_prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ingress_http</span>
<span class="linenos">14</span><span class="w">          </span><span class="nt">codec_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">AUTO</span>
<span class="linenos">15</span><span class="w">          </span><span class="nt">http_filters</span><span class="p">:</span>
<span class="linenos">16</span><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">envoy.filters.http.router</span>
<span class="linenos">17</span><span class="w">            </span><span class="nt">typed_config</span><span class="p">:</span>
<span class="linenos">18</span><span class="w">              </span><span class="s">&quot;@type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type.googleapis.com/envoy.extensions.filters.http.router.v3.Router</span>
<span class="linenos">19</span><span class="w">          </span><span class="nt">route_config</span><span class="p">:</span>
<span class="linenos">20</span><span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">local_route</span>
<span class="linenos">21</span><span class="w">            </span><span class="nt">virtual_hosts</span><span class="p">:</span>
<span class="linenos">22</span><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">local_service</span>
<span class="linenos">23</span><span class="w">              </span><span class="nt">domains</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;*&quot;</span><span class="p p-Indicator">]</span>
<span class="hll"><span class="linenos">24</span><span class="w">              </span><span class="nt">matcher</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">25</span><span class="w">                </span><span class="nt">matcher_tree</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">26</span><span class="w">                  </span><span class="nt">input</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">27</span><span class="w">                    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">request-headers</span>
</span><span class="hll"><span class="linenos">28</span><span class="w">                    </span><span class="nt">typed_config</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">29</span><span class="w">                      </span><span class="s">&quot;@type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type.googleapis.com/envoy.type.matcher.v3.HttpRequestHeaderMatchInput</span>
</span><span class="hll"><span class="linenos">30</span><span class="w">                      </span><span class="nt">header_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">:path</span>
</span><span class="hll"><span class="linenos">31</span><span class="w">                  </span><span class="nt">exact_match_map</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">32</span><span class="w">                    </span><span class="nt">map</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">33</span><span class="w">                      </span><span class="s">&quot;/new_endpoint/foo&quot;</span><span class="p p-Indicator">:</span>
</span><span class="hll"><span class="linenos">34</span><span class="w">                        </span><span class="nt">action</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">35</span><span class="w">                          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">route_foo</span>
</span><span class="hll"><span class="linenos">36</span><span class="w">                          </span><span class="nt">typed_config</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">37</span><span class="w">                            </span><span class="s">&quot;@type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type.googleapis.com/envoy.config.route.v3.Route</span>
</span><span class="hll"><span class="linenos">38</span><span class="w">                            </span><span class="nt">match</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">39</span><span class="w">                              </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/foo</span>
</span><span class="hll"><span class="linenos">40</span><span class="w">                            </span><span class="nt">route</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">41</span><span class="w">                              </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cluster_0</span>
</span><span class="hll"><span class="linenos">42</span><span class="w">                            </span><span class="nt">request_headers_to_add</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">43</span><span class="w">                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">header</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">44</span><span class="w">                                </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">x-route-header</span>
</span><span class="hll"><span class="linenos">45</span><span class="w">                                </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">new-value</span>
</span><span class="hll"><span class="linenos">46</span><span class="w">                      </span><span class="s">&quot;/new_endpoint/bar&quot;</span><span class="p p-Indicator">:</span>
</span><span class="hll"><span class="linenos">47</span><span class="w">                        </span><span class="nt">action</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">48</span><span class="w">                          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">route_bar</span>
</span><span class="hll"><span class="linenos">49</span><span class="w">                          </span><span class="nt">typed_config</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">50</span><span class="w">                            </span><span class="s">&quot;@type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type.googleapis.com/envoy.config.route.v3.Route</span>
</span><span class="hll"><span class="linenos">51</span><span class="w">                            </span><span class="nt">match</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">52</span><span class="w">                              </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/bar</span>
</span><span class="hll"><span class="linenos">53</span><span class="w">                            </span><span class="nt">route</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">54</span><span class="w">                              </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cluster_1</span>
</span><span class="hll"><span class="linenos">55</span><span class="w">                            </span><span class="nt">request_headers_to_add</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">56</span><span class="w">                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">header</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">57</span><span class="w">                                </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">x-route-header</span>
</span><span class="hll"><span class="linenos">58</span><span class="w">                                </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">new-value</span>
</span><span class="hll"><span class="linenos">59</span>
</span><span class="hll"><span class="linenos">60</span><span class="w">                      </span><span class="s">&quot;/new_endpoint/baz&quot;</span><span class="p p-Indicator">:</span>
</span><span class="hll"><span class="linenos">61</span><span class="w">                        </span><span class="nt">action</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">62</span><span class="w">                          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">route_list</span>
</span><span class="hll"><span class="linenos">63</span><span class="w">                          </span><span class="nt">typed_config</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">64</span><span class="w">                            </span><span class="s">&quot;@type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type.googleapis.com/envoy.config.route.v3.RouteList</span>
</span><span class="hll"><span class="linenos">65</span><span class="w">                            </span><span class="nt">routes</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">66</span><span class="w">                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">match</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">67</span><span class="w">                                </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/baz</span>
</span><span class="hll"><span class="linenos">68</span><span class="w">                                </span><span class="nt">headers</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">69</span><span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">x-match-header</span>
</span><span class="hll"><span class="linenos">70</span><span class="w">                                  </span><span class="nt">string_match</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">71</span><span class="w">                                    </span><span class="nt">exact</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span>
</span><span class="hll"><span class="linenos">72</span><span class="w">                              </span><span class="nt">route</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">73</span><span class="w">                                </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cluster_2</span>
</span><span class="hll"><span class="linenos">74</span><span class="w">                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">match</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">75</span><span class="w">                                </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/baz</span>
</span><span class="hll"><span class="linenos">76</span><span class="w">                                </span><span class="nt">headers</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">77</span><span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">x-match-header</span>
</span><span class="hll"><span class="linenos">78</span><span class="w">                                  </span><span class="nt">string_match</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">79</span><span class="w">                                    </span><span class="nt">exact</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span>
</span><span class="hll"><span class="linenos">80</span><span class="w">                              </span><span class="nt">route</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">81</span><span class="w">                                </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cluster_3</span>
</span><span class="linenos">82</span>
<span class="linenos">83</span><span class="w"> </span><span class="w w-Error"> </span><span class="nt">clusters</span><span class="p">:</span>
</pre></div>
</div>
</div>
<p>This allows resolving the same <code class="docutils literal notranslate"><span class="pre">Route</span></code> proto message used for the <code class="docutils literal notranslate"><span class="pre">routes</span></code>-based routing using the additional
matching flexibility provided by the generic matching framework.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The resulting <a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-msg-config-route-v3-route"><span class="std std-ref">Route</span></a> also specifies a match criteria.</p>
<p>This must be satisfied in addition to resolving the route in order to achieve a route match.</p>
<p>When path rewrites are used, the matched path will only depend on the match criteria of the resolved
<a class="reference internal" href="../../../api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-msg-config-route-v3-route"><span class="std std-ref">Route</span></a>.</p>
<p>Path matching done during the match tree traversal does not contribute to path rewrites.</p>
</div>
<p>The only inputs supported are request headers (via <a class="reference internal" href="../../../api-v3/type/matcher/v3/http_inputs.proto.html#envoy-v3-api-msg-type-matcher-v3-httprequestheadermatchinput"><span class="std std-ref">HttpRequestHeaderMatchInput</span></a>).</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>See the docs for the <a class="reference internal" href="../advanced/matching/matching_api.html#arch-overview-matching-api"><span class="std std-ref">matching API</span></a> for more information about the API as a whole.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="http_filters.html" class="btn btn-neutral float-left" title="HTTP filters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="upgrades.html" class="btn btn-neutral float-right" title="HTTP upgrades" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2023, Envoy Project Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
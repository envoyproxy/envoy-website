<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Unified Matcher API (proto) &mdash; envoy 1.25.7-ddb94b documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/envoy.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK" src="../../../../_static/jquery.js"></script>
        <script integrity="sha384-lSZeSIVKp9myfKbDQ3GkN/KHjUc+mzg17VKDN4Y2kUeBSJioB9QSM639vM9fuY//" src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
        <script src="../../../../_static/clipboard.min.js"></script>
        <script src="../../../../_static/copybutton.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="xds/core/v3/authority.proto (proto)" href="../../../core/v3/authority.proto.html" />
    <link rel="prev" title="String matcher (proto)" href="string.proto.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html">
            
              <img src="../../../../_static/envoy-logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.25.7-ddb94b
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../api/api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../api/api_supported_versions.html">Supported API versions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../../api-v3/api.html">v3 API reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../../api-v3/bootstrap/bootstrap.html">Bootstrap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../api-v3/listeners/listeners.html">Listeners</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../api-v3/clusters/clusters.html">Clusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../api-v3/http_routes/http_routes.html">HTTP route management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../api-v3/config/config.html">Extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../api-v3/admin/admin.html">Admin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../api-v3/data/data.html">Envoy data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../api-v3/service/service.html">Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../api-v3/common_messages/common_messages.html">Common messages</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../../../api-v3/common_messages/common_messages_xds.html">Common messages (XDS)</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../v3/cel.proto.html">Common Expression Language (CEL) (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="cel.proto.html">Common Expression Language (CEL) matchers (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="http_inputs.proto.html">Common HTTP Inputs (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="ip.proto.html">IP matcher (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../v3/range.proto.html">Number range (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="range.proto.html">Range matcher (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="regex.proto.html">Regex matcher (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="domain.proto.html">Server name matcher (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="string.proto.html">String matcher (proto)</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Unified Matcher API (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../core/v3/authority.proto.html">xds/core/v3/authority.proto (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../core/v3/cidr.proto.html">xds/core/v3/cidr.proto (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../core/v3/collection_entry.proto.html">xds/core/v3/collection_entry.proto (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../core/v3/context_params.proto.html">xds/core/v3/context_params.proto (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../core/v3/extension.proto.html">xds/core/v3/extension.proto (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../core/v3/resource.proto.html">xds/core/v3/resource.proto (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../core/v3/resource_locator.proto.html">xds/core/v3/resource_locator.proto (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../core/v3/resource_name.proto.html">xds/core/v3/resource_name.proto (proto)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../v3/typed_struct.proto.html">xds/type/v3/typed_struct.proto (proto)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../api-v3/types/types.html">Types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api-docs/xds_protocol.html">xDS REST and gRPC protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api/client_features.html">Well Known Client Features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faq/overview.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../version_history/version_history.html">Version history</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">envoy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../api/api.html">API</a></li>
          <li class="breadcrumb-item"><a href="../../../../api-v3/api.html">v3 API reference</a></li>
          <li class="breadcrumb-item"><a href="../../../../api-v3/common_messages/common_messages_xds.html">Common messages (XDS)</a></li>
      <li class="breadcrumb-item active">Unified Matcher API (proto)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/xds/type/matcher/v3/matcher.proto.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="unified-matcher-api-proto">
<span id="envoy-v3-api-file-xds-type-matcher-v3-matcher-proto"></span><h1>Unified Matcher API (proto)<a class="headerlink" href="#unified-matcher-api-proto" title="Permalink to this heading"></a></h1>
<section id="xds-type-matcher-v3-matcher">
<span id="envoy-v3-api-msg-xds-type-matcher-v3-matcher"></span><h2>.xds.type.matcher.v3.Matcher<a class="headerlink" href="#xds-type-matcher-v3-matcher" title="Permalink to this heading"></a></h2>
<p><a class="reference external" href="https://github.com/cncf/xds/blob/main/xds/type/matcher/v3/matcher.proto#L22">[.xds.type.matcher.v3.Matcher proto]</a></p>
<p>A matcher, which may traverse a matching tree in order to result in a match action.
During matching, the tree will be traversed until a match is found, or if no match
is found the action specified by the most specific on_no_match will be evaluated.
As an on_no_match might result in another matching tree being evaluated, this process
might repeat several times until the final OnMatch (or no match) is decided.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This API feature is currently work-in-progress. API features marked as work-in-progress are not considered stable, are not covered by the <a class="reference internal" href="../../../../intro/arch_overview/security/threat_model.html#arch-overview-threat-model"><span class="std std-ref">threat model</span></a>, are not supported by the security team, and are subject to breaking changes. Do not use this feature without understanding each of the previous points.</p>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;matcher_list&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;matcher_tree&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;on_no_match&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matcher-list">
<dt>matcher_list</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-xds-type-matcher-v3-matcher-matcherlist"><span class="std std-ref">.xds.type.matcher.v3.Matcher.MatcherList</span></a>) A linear list of matchers to evaluate.</p>
<p>Only one of <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcher-list"><span class="std std-ref">matcher_list</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcher-tree"><span class="std std-ref">matcher_tree</span></a> may be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matcher-tree">
<dt>matcher_tree</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-xds-type-matcher-v3-matcher-matchertree"><span class="std std-ref">.xds.type.matcher.v3.Matcher.MatcherTree</span></a>) A match tree to evaluate.</p>
<p>Only one of <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcher-list"><span class="std std-ref">matcher_list</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcher-tree"><span class="std std-ref">matcher_tree</span></a> may be set.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-xds-type-matcher-v3-matcher-on-no-match">
<dt>on_no_match</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-xds-type-matcher-v3-matcher-onmatch"><span class="std std-ref">.xds.type.matcher.v3.Matcher.OnMatch</span></a>) Optional OnMatch to use if no matcher above matched (e.g., if there are no matchers specified
above, or if none of the matches specified above succeeded).
If no matcher above matched and this field is not populated, the match will be considered unsuccessful.</p>
</dd>
</dl>
</section>
<section id="xds-type-matcher-v3-matcher-onmatch">
<span id="envoy-v3-api-msg-xds-type-matcher-v3-matcher-onmatch"></span><h2>.xds.type.matcher.v3.Matcher.OnMatch<a class="headerlink" href="#xds-type-matcher-v3-matcher-onmatch" title="Permalink to this heading"></a></h2>
<p><a class="reference external" href="https://github.com/cncf/xds/blob/main/xds/type/matcher/v3/matcher.proto#L26">[.xds.type.matcher.v3.Matcher.OnMatch proto]</a></p>
<p>What to do if a match is successful.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;matcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl id="envoy-v3-api-field-xds-type-matcher-v3-matcher-onmatch-matcher">
<dt>matcher</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-xds-type-matcher-v3-matcher"><span class="std std-ref">.xds.type.matcher.v3.Matcher</span></a>) Nested matcher to evaluate.
If the nested matcher does not match and does not specify
on_no_match, then this matcher is considered not to have
matched, even if a predicate at this level or above returned
true.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-onmatch-matcher"><span class="std std-ref">matcher</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-onmatch-action"><span class="std std-ref">action</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-xds-type-matcher-v3-matcher-onmatch-action">
<dt>action</dt><dd><p>(<a class="reference internal" href="../../../core/v3/extension.proto.html#envoy-v3-api-msg-xds-core-v3-typedextensionconfig"><span class="std std-ref">.xds.core.v3.TypedExtensionConfig</span></a>) Protocol-specific action to take.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-onmatch-matcher"><span class="std std-ref">matcher</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-onmatch-action"><span class="std std-ref">action</span></a> must be set.</p>
</dd>
</dl>
</section>
<section id="xds-type-matcher-v3-matcher-matcherlist">
<span id="envoy-v3-api-msg-xds-type-matcher-v3-matcher-matcherlist"></span><h2>.xds.type.matcher.v3.Matcher.MatcherList<a class="headerlink" href="#xds-type-matcher-v3-matcher-matcherlist" title="Permalink to this heading"></a></h2>
<p><a class="reference external" href="https://github.com/cncf/xds/blob/main/xds/type/matcher/v3/matcher.proto#L45">[.xds.type.matcher.v3.Matcher.MatcherList proto]</a></p>
<p>A linear list of field matchers.
The field matchers are evaluated in order, and the first match
wins.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;matchers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-matchers">
<dt>matchers</dt><dd><p>(<strong>repeated</strong> <a class="reference internal" href="#envoy-v3-api-msg-xds-type-matcher-v3-matcher-matcherlist-fieldmatcher"><span class="std std-ref">.xds.type.matcher.v3.Matcher.MatcherList.FieldMatcher</span></a>, <em>REQUIRED</em>) A list of matchers. First match wins.</p>
</dd>
</dl>
</section>
<section id="xds-type-matcher-v3-matcher-matcherlist-predicate">
<span id="envoy-v3-api-msg-xds-type-matcher-v3-matcher-matcherlist-predicate"></span><h2>.xds.type.matcher.v3.Matcher.MatcherList.Predicate<a class="headerlink" href="#xds-type-matcher-v3-matcher-matcherlist-predicate" title="Permalink to this heading"></a></h2>
<p><a class="reference external" href="https://github.com/cncf/xds/blob/main/xds/type/matcher/v3/matcher.proto#L47">[.xds.type.matcher.v3.Matcher.MatcherList.Predicate proto]</a></p>
<p>Predicate to determine if a match is successful.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;single_predicate&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;or_matcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;and_matcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;not_matcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-single-predicate">
<dt>single_predicate</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-xds-type-matcher-v3-matcher-matcherlist-predicate-singlepredicate"><span class="std std-ref">.xds.type.matcher.v3.Matcher.MatcherList.Predicate.SinglePredicate</span></a>) A single predicate to evaluate.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-single-predicate"><span class="std std-ref">single_predicate</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-or-matcher"><span class="std std-ref">or_matcher</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-and-matcher"><span class="std std-ref">and_matcher</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-not-matcher"><span class="std std-ref">not_matcher</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-or-matcher">
<dt>or_matcher</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-xds-type-matcher-v3-matcher-matcherlist-predicate-predicatelist"><span class="std std-ref">.xds.type.matcher.v3.Matcher.MatcherList.Predicate.PredicateList</span></a>) A list of predicates to be OR-ed together.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-single-predicate"><span class="std std-ref">single_predicate</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-or-matcher"><span class="std std-ref">or_matcher</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-and-matcher"><span class="std std-ref">and_matcher</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-not-matcher"><span class="std std-ref">not_matcher</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-and-matcher">
<dt>and_matcher</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-xds-type-matcher-v3-matcher-matcherlist-predicate-predicatelist"><span class="std std-ref">.xds.type.matcher.v3.Matcher.MatcherList.Predicate.PredicateList</span></a>) A list of predicates to be AND-ed together.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-single-predicate"><span class="std std-ref">single_predicate</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-or-matcher"><span class="std std-ref">or_matcher</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-and-matcher"><span class="std std-ref">and_matcher</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-not-matcher"><span class="std std-ref">not_matcher</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-not-matcher">
<dt>not_matcher</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-xds-type-matcher-v3-matcher-matcherlist-predicate"><span class="std std-ref">.xds.type.matcher.v3.Matcher.MatcherList.Predicate</span></a>) The invert of a predicate</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-single-predicate"><span class="std std-ref">single_predicate</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-or-matcher"><span class="std std-ref">or_matcher</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-and-matcher"><span class="std std-ref">and_matcher</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-not-matcher"><span class="std std-ref">not_matcher</span></a> must be set.</p>
</dd>
</dl>
</section>
<section id="xds-type-matcher-v3-matcher-matcherlist-predicate-singlepredicate">
<span id="envoy-v3-api-msg-xds-type-matcher-v3-matcher-matcherlist-predicate-singlepredicate"></span><h2>.xds.type.matcher.v3.Matcher.MatcherList.Predicate.SinglePredicate<a class="headerlink" href="#xds-type-matcher-v3-matcher-matcherlist-predicate-singlepredicate" title="Permalink to this heading"></a></h2>
<p><a class="reference external" href="https://github.com/cncf/xds/blob/main/xds/type/matcher/v3/matcher.proto#L49">[.xds.type.matcher.v3.Matcher.MatcherList.Predicate.SinglePredicate proto]</a></p>
<p>Predicate for a single input field.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;value_match&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;custom_match&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-singlepredicate-input">
<dt>input</dt><dd><p>(<a class="reference internal" href="../../../core/v3/extension.proto.html#envoy-v3-api-msg-xds-core-v3-typedextensionconfig"><span class="std std-ref">.xds.core.v3.TypedExtensionConfig</span></a>, <em>REQUIRED</em>) Protocol-specific specification of input field to match on.</p>
<div class="admonition tip" id="extension-category-envoy-matching-common-inputs">
<p class="admonition-title">Tip</p>
<p>This extension category has the following known extensions:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../../api-v3/extensions/matching/common_inputs/environment_variable/v3/input.proto.html#extension-envoy-matching-common-inputs-environment-variable"><span class="std std-ref">envoy.matching.common_inputs.environment_variable</span></a></p></li>
</ul>
</div>
</dd>
</dl>
<dl id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-singlepredicate-value-match">
<dt>value_match</dt><dd><p>(<a class="reference internal" href="string.proto.html#envoy-v3-api-msg-xds-type-matcher-v3-stringmatcher"><span class="std std-ref">.xds.type.matcher.v3.StringMatcher</span></a>) Built-in string matcher.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-singlepredicate-value-match"><span class="std std-ref">value_match</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-singlepredicate-custom-match"><span class="std std-ref">custom_match</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-singlepredicate-custom-match">
<dt>custom_match</dt><dd><p>(<a class="reference internal" href="../../../core/v3/extension.proto.html#envoy-v3-api-msg-xds-core-v3-typedextensionconfig"><span class="std std-ref">.xds.core.v3.TypedExtensionConfig</span></a>) Extension for custom matching logic.</p>
<div class="admonition tip" id="extension-category-envoy-matching-input-matchers">
<p class="admonition-title">Tip</p>
<p>This extension category has the following known extensions:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../../api-v3/extensions/matching/input_matchers/consistent_hashing/v3/consistent_hashing.proto.html#extension-envoy-matching-matchers-consistent-hashing"><span class="std std-ref">envoy.matching.matchers.consistent_hashing</span></a></p></li>
<li><p><a class="reference internal" href="../../../../api-v3/extensions/matching/input_matchers/ip/v3/ip.proto.html#extension-envoy-matching-matchers-ip"><span class="std std-ref">envoy.matching.matchers.ip</span></a></p></li>
</ul>
<p>The following extensions are available in <a class="reference internal" href="../../../../start/install.html#install-contrib"><span class="std std-ref">contrib</span></a> images only:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../../api-v3/extensions/matching/input_matchers/hyperscan/v3alpha/hyperscan.proto.html#extension-envoy-matching-input-matchers-hyperscan"><span class="std std-ref">envoy.matching.input_matchers.hyperscan</span></a></p></li>
</ul>
</div>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-singlepredicate-value-match"><span class="std std-ref">value_match</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-singlepredicate-custom-match"><span class="std std-ref">custom_match</span></a> must be set.</p>
</dd>
</dl>
</section>
<section id="xds-type-matcher-v3-matcher-matcherlist-predicate-predicatelist">
<span id="envoy-v3-api-msg-xds-type-matcher-v3-matcher-matcherlist-predicate-predicatelist"></span><h2>.xds.type.matcher.v3.Matcher.MatcherList.Predicate.PredicateList<a class="headerlink" href="#xds-type-matcher-v3-matcher-matcherlist-predicate-predicatelist" title="Permalink to this heading"></a></h2>
<p><a class="reference external" href="https://github.com/cncf/xds/blob/main/xds/type/matcher/v3/matcher.proto#L67">[.xds.type.matcher.v3.Matcher.MatcherList.Predicate.PredicateList proto]</a></p>
<p>A list of two or more matchers. Used to allow using a list within a oneof.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;predicate&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-predicate-predicatelist-predicate">
<dt>predicate</dt><dd><p>(<strong>repeated</strong> <a class="reference internal" href="#envoy-v3-api-msg-xds-type-matcher-v3-matcher-matcherlist-predicate"><span class="std std-ref">.xds.type.matcher.v3.Matcher.MatcherList.Predicate</span></a>, <em>REQUIRED</em>)</p>
</dd>
</dl>
</section>
<section id="xds-type-matcher-v3-matcher-matcherlist-fieldmatcher">
<span id="envoy-v3-api-msg-xds-type-matcher-v3-matcher-matcherlist-fieldmatcher"></span><h2>.xds.type.matcher.v3.Matcher.MatcherList.FieldMatcher<a class="headerlink" href="#xds-type-matcher-v3-matcher-matcherlist-fieldmatcher" title="Permalink to this heading"></a></h2>
<p><a class="reference external" href="https://github.com/cncf/xds/blob/main/xds/type/matcher/v3/matcher.proto#L89">[.xds.type.matcher.v3.Matcher.MatcherList.FieldMatcher proto]</a></p>
<p>An individual matcher.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;predicate&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;on_match&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-fieldmatcher-predicate">
<dt>predicate</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-xds-type-matcher-v3-matcher-matcherlist-predicate"><span class="std std-ref">.xds.type.matcher.v3.Matcher.MatcherList.Predicate</span></a>, <em>REQUIRED</em>) Determines if the match succeeds.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matcherlist-fieldmatcher-on-match">
<dt>on_match</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-xds-type-matcher-v3-matcher-onmatch"><span class="std std-ref">.xds.type.matcher.v3.Matcher.OnMatch</span></a>, <em>REQUIRED</em>) What to do if the match succeeds.</p>
</dd>
</dl>
</section>
<section id="xds-type-matcher-v3-matcher-matchertree">
<span id="envoy-v3-api-msg-xds-type-matcher-v3-matcher-matchertree"></span><h2>.xds.type.matcher.v3.Matcher.MatcherTree<a class="headerlink" href="#xds-type-matcher-v3-matcher-matchertree" title="Permalink to this heading"></a></h2>
<p><a class="reference external" href="https://github.com/cncf/xds/blob/main/xds/type/matcher/v3/matcher.proto#L101">[.xds.type.matcher.v3.Matcher.MatcherTree proto]</a></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;exact_match_map&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;prefix_match_map&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;custom_match&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matchertree-input">
<dt>input</dt><dd><p>(<a class="reference internal" href="../../../core/v3/extension.proto.html#envoy-v3-api-msg-xds-core-v3-typedextensionconfig"><span class="std std-ref">.xds.core.v3.TypedExtensionConfig</span></a>, <em>REQUIRED</em>) Protocol-specific specification of input field to match on.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matchertree-exact-match-map">
<dt>exact_match_map</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-xds-type-matcher-v3-matcher-matchertree-matchmap"><span class="std std-ref">.xds.type.matcher.v3.Matcher.MatcherTree.MatchMap</span></a>)
Exact or prefix match maps in which to look up the input value.
If the lookup succeeds, the match is considered successful, and
the corresponding OnMatch is used.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matchertree-exact-match-map"><span class="std std-ref">exact_match_map</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matchertree-prefix-match-map"><span class="std std-ref">prefix_match_map</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matchertree-custom-match"><span class="std std-ref">custom_match</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matchertree-prefix-match-map">
<dt>prefix_match_map</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-xds-type-matcher-v3-matcher-matchertree-matchmap"><span class="std std-ref">.xds.type.matcher.v3.Matcher.MatcherTree.MatchMap</span></a>) Longest matching prefix wins.</p>
<p>Exact or prefix match maps in which to look up the input value.
If the lookup succeeds, the match is considered successful, and
the corresponding OnMatch is used.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matchertree-exact-match-map"><span class="std std-ref">exact_match_map</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matchertree-prefix-match-map"><span class="std std-ref">prefix_match_map</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matchertree-custom-match"><span class="std std-ref">custom_match</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matchertree-custom-match">
<dt>custom_match</dt><dd><p>(<a class="reference internal" href="../../../core/v3/extension.proto.html#envoy-v3-api-msg-xds-core-v3-typedextensionconfig"><span class="std std-ref">.xds.core.v3.TypedExtensionConfig</span></a>) Extension for custom matching logic.</p>
<p>Exact or prefix match maps in which to look up the input value.
If the lookup succeeds, the match is considered successful, and
the corresponding OnMatch is used.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matchertree-exact-match-map"><span class="std std-ref">exact_match_map</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matchertree-prefix-match-map"><span class="std std-ref">prefix_match_map</span></a>, <a class="reference internal" href="#envoy-v3-api-field-xds-type-matcher-v3-matcher-matchertree-custom-match"><span class="std std-ref">custom_match</span></a> must be set.</p>
</dd>
</dl>
</section>
<section id="xds-type-matcher-v3-matcher-matchertree-matchmap">
<span id="envoy-v3-api-msg-xds-type-matcher-v3-matcher-matchertree-matchmap"></span><h2>.xds.type.matcher.v3.Matcher.MatcherTree.MatchMap<a class="headerlink" href="#xds-type-matcher-v3-matcher-matchertree-matchmap" title="Permalink to this heading"></a></h2>
<p><a class="reference external" href="https://github.com/cncf/xds/blob/main/xds/type/matcher/v3/matcher.proto#L103">[.xds.type.matcher.v3.Matcher.MatcherTree.MatchMap proto]</a></p>
<p>A map of configured matchers. Used to allow using a map within a oneof.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;map&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-xds-type-matcher-v3-matcher-matchertree-matchmap-map">
<dt>map</dt><dd><p>(<strong>repeated</strong> map&lt;<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>, <a class="reference internal" href="#envoy-v3-api-msg-xds-type-matcher-v3-matcher-onmatch"><span class="std std-ref">.xds.type.matcher.v3.Matcher.OnMatch</span></a>&gt;)</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="string.proto.html" class="btn btn-neutral float-left" title="String matcher (proto)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../core/v3/authority.proto.html" class="btn btn-neutral float-right" title="xds/core/v3/authority.proto (proto)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2023, Envoy Project Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
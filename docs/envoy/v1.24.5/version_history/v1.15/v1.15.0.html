<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.15.0 (July 7, 2020) &mdash; envoy 1.24.5-a29f06 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/envoy.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK" src="../../_static/jquery.js"></script>
        <script integrity="sha384-lSZeSIVKp9myfKbDQ3GkN/KHjUc+mzg17VKDN4Y2kUeBSJioB9QSM639vM9fuY//" src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="v1.14" href="../v1.14/v1.14.html" />
    <link rel="prev" title="1.15.1 (September 29, 2020)" href="v1.15.1.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/envoy-logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.24.5-a29f06
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/overview.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../version_history.html">Version history</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../version_history.html#stable-versions">Stable versions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../version_history.html#archived-versions">Archived versions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../v1.20/v1.20.html">v1.20: 1.20.7 (July 21, 2022)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.19/v1.19.html">v1.19: 1.19.5 (June 9, 2022)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.18/v1.18.html">v1.18: 1.18.6 (February 22, 2022)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.17/v1.17.html">v1.17: 1.17.4 (August 24, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.16/v1.16.html">v1.16: 1.16.5 (August 24, 2021)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="v1.15.html">v1.15: 1.15.5 (May 11, 2021)</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="v1.15.5.html">1.15.5 (May 11, 2021)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.15.4.html">1.15.4 (April 15, 2021)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.15.3.html">1.15.3 (December 7, 2020)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.15.2.html">1.15.2 (September 29, 2020)</a></li>
<li class="toctree-l4"><a class="reference internal" href="v1.15.1.html">1.15.1 (September 29, 2020)</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">1.15.0 (July 7, 2020)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../v1.14/v1.14.html">v1.14: 1.14.7 (April 15, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.13/v1.13.html">v1.13: 1.13.8 (January 15, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.12/v1.12.html">v1.12: 1.12.7 (September 29, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.11/v1.11.html">v1.11: 1.11.2 (October 8, 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.10/v1.10.html">v1.10: 1.10.0 (April 5, 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.9/v1.9.html">v1.9: 1.9.1 (April 2, 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.8/v1.8.html">v1.8: 1.8.0 (October 4, 2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.7/v1.7.html">v1.7: 1.7.1 (August 3, 2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.6/v1.6.html">v1.6: 1.6.0 (March 20, 2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.5/v1.5.html">v1.5: 1.5.0 (December 4, 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.4/v1.4.html">v1.4: 1.4.0 (August 24, 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.3/v1.3.html">v1.3: 1.3.0 (May 17, 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.2/v1.2.html">v1.2: 1.2.0 (March 7, 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.1/v1.1.html">v1.1: 1.1.0 (November 30, 2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v1.0/v1.0.html">v1.0: 1.0.0 (September 12, 2016)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../version_history.html#deprecation-policy">Deprecation Policy</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">envoy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../version_history.html">Version history</a></li>
          <li class="breadcrumb-item"><a href="v1.15.html">v1.15</a></li>
      <li class="breadcrumb-item active">1.15.0 (July 7, 2020)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/version_history/v1.15/v1.15.0.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="july-7-2020">
<span id="version-history-1-15-0"></span><h1>1.15.0 (July 7, 2020)<a class="headerlink" href="#july-7-2020" title="Permalink to this heading"></a></h1>
<section id="incompatible-behavior-changes">
<h2>Incompatible behavior changes<a class="headerlink" href="#incompatible-behavior-changes" title="Permalink to this heading"></a></h2>
<p><em>Changes that are expected to cause an incompatibility if applicable; deployment changes are likely required</em></p>
<ul class="simple">
<li><p><strong>build</strong>: official released binary is now built on Ubuntu 18.04, requires glibc &gt;= 2.27.</p></li>
<li><p><strong>client_ssl_auth</strong>: the <code class="docutils literal notranslate"><span class="pre">auth_ip_white_list</span></code> stat has been renamed to
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/listeners/network_filters/client_ssl_auth_filter.html#config-network-filters-client-ssl-auth-stats" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">auth_ip_allowlist</span></a>.</p></li>
<li><p><strong>header to metadata</strong>: on_header_missing rules with empty values are now rejected (they were skipped before).</p></li>
<li><p><strong>router</strong>: path_redirect now keeps query string by default. This behavior may be reverted by setting runtime feature <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.preserve_query_string_in_path_redirects</span></code> to false.</p></li>
<li><p><strong>tls</strong>: fixed a bug where wilcard matching for “*.foo.com” also matched domains of the form “a.b.foo.com”. This behavior can be temporarily reverted by setting runtime feature <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.fix_wildcard_matching</span></code> to false.</p></li>
</ul>
</section>
<section id="minor-behavior-changes">
<h2>Minor behavior changes<a class="headerlink" href="#minor-behavior-changes" title="Permalink to this heading"></a></h2>
<p><em>Changes that may cause incompatibilities for some users, but should not for most</em></p>
<ul class="simple">
<li><p><strong>access loggers</strong>: applied existing buffer limits to access logs, as well as <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/observability/access_log/stats.html#config-access-log-stats" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">stats</span></a> for logged / dropped logs. This can be reverted temporarily by setting runtime feature <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.disallow_unbounded_access_logs</span></code> to false.</p></li>
<li><p><strong>build</strong>: runs as non-root inside Docker containers. Existing behaviour can be restored by setting the environment variable <code class="docutils literal notranslate"><span class="pre">ENVOY_UID</span></code> to <code class="docutils literal notranslate"><span class="pre">0</span></code>. <code class="docutils literal notranslate"><span class="pre">ENVOY_UID</span></code> and <code class="docutils literal notranslate"><span class="pre">ENVOY_GID</span></code> can be used to set the envoy user’s <code class="docutils literal notranslate"><span class="pre">uid</span></code> and <code class="docutils literal notranslate"><span class="pre">gid</span></code> respectively.</p></li>
<li><p><strong>health check</strong>: in the health check filter the <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v2/config/filter/http/health_check/v2/health_check.proto.html#envoy-api-field-config-filter-http-health-check-v2-healthcheck-cluster-min-healthy-percentages" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">percentage of healthy servers in upstream clusters</span></a> is now interpreted as an integer.</p></li>
<li><p><strong>hot restart</strong>: added the option <a class="reference internal" href="../../operations/cli.html#cmdoption-use-dynamic-base-id"><code class="xref std std-option docutils literal notranslate"><span class="pre">--use-dynamic-base-id</span></code></a> to select an unused base ID at startup and the option <a class="reference internal" href="../../operations/cli.html#cmdoption-base-id-path"><code class="xref std std-option docutils literal notranslate"><span class="pre">--base-id-path</span></code></a> to write the base id to a file (for reuse with later hot restarts).</p></li>
<li><p><strong>http</strong>: changed early error path for HTTP/1.1 so that responses consistently flow through the http connection manager, and the http filter chains. This behavior may be temporarily reverted by setting runtime feature <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.early_errors_via_hcm</span></code> to false.</p></li>
<li><p><strong>http</strong>: fixed a bug where the upgrade header was not cleared on responses to non-upgrade requests.
Can be reverted temporarily by setting runtime feature <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.fix_upgrade_response</span></code> to false.</p></li>
<li><p><strong>http</strong>: fixed several bugs with applying correct connection close behavior across the http connection manager, health checker, and connection pool. This behavior may be temporarily reverted by setting runtime feature <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.fix_connection_close</span></code> to false.</p></li>
<li><p><strong>http</strong>: stopped adding a synthetic path to CONNECT requests, meaning unconfigured CONNECT requests will now return 404 instead of 403. This behavior can be temporarily reverted by setting <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.stop_faking_paths</span></code> to false.</p></li>
<li><p><strong>http</strong>: stopped allowing upstream 1xx or 204 responses with Transfer-Encoding or non-zero Content-Length headers. Content-Length of 0 is allowed, but stripped. This behavior can be temporarily reverted by setting <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.strict_1xx_and_204_response_headers</span></code> to false.</p></li>
<li><p><strong>http</strong>: stopped overwriting <code class="docutils literal notranslate"><span class="pre">date</span></code> response headers. Responses without a <code class="docutils literal notranslate"><span class="pre">date</span></code> header will still have the header properly set. This behavior can be temporarily reverted by setting <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.preserve_upstream_date</span></code> to false.</p></li>
<li><p><strong>http</strong>: upstream connections will now automatically set ALPN when this value is not explicitly set elsewhere (e.g. on the upstream TLS config). This behavior may be temporarily reverted by setting runtime feature <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.http_default_alpn</span></code> to false.</p></li>
<li><p><strong>listener</strong>: fixed a bug where when a static listener fails to be added to a worker, the listener was not removed from the active listener list.</p></li>
<li><p><strong>router</strong>: extended to allow retries by default when upstream responds with <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/http/http_filters/router_filter.html#config-http-filters-router-x-envoy-overloaded-set" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">x-envoy-overloaded</span></a>.</p></li>
<li><p><strong>router</strong>: extended to allow retries of streaming or incomplete requests. This removes stat <code class="docutils literal notranslate"><span class="pre">rq_retry_skipped_request_not_complete</span></code>.</p></li>
</ul>
</section>
<section id="bug-fixes">
<h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this heading"></a></h2>
<p><em>Changes expected to improve the state of the world and are unlikely to have negative effects</em></p>
<ul class="simple">
<li><p><strong>adaptive concurrency</strong>: fixed a minRTT calculation bug where requests started before the concurrency
limit was pinned to the minimum would skew the new minRTT value if the replies arrived after the
start of the new minRTT window.</p></li>
<li><p><strong>buffer</strong>: fixed CVE-2020-12603 by avoiding fragmentation, and tracking of HTTP/2 data and control frames in the output buffer.</p></li>
<li><p><strong>grpc-json</strong>: fixed a bug when in trailers only gRPC response (e.g. error) HTTP status code is not being re-written.</p></li>
<li><p><strong>http</strong>: fixed CVE-2020-12604 by changing <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v2/config/filter/network/http_connection_manager/v2/http_connection_manager.proto.html#envoy-api-field-config-filter-network-http-connection-manager-v2-httpconnectionmanager-stream-idle-timeout" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">stream_idle_timeout</span></a>
to also defend against an HTTP/2 peer that does not open stream window once an entire response has been buffered to be sent to a downstream client.</p></li>
<li><p><strong>http</strong>: fixed CVE-2020-12605 by including request URL in request header size computation, and rejecting partial headers that exceed configured limits.</p></li>
<li><p><strong>http</strong>: fixed a bug in the grpc_http1_reverse_bridge filter where header-only requests were forwarded with a non-zero content length.</p></li>
<li><p><strong>http</strong>: fixed a bug where in some cases slash was moved from path to query string when <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v2/config/filter/network/http_connection_manager/v2/http_connection_manager.proto.html#envoy-api-field-config-filter-network-http-connection-manager-v2-httpconnectionmanager-merge-slashes" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">merging of adjacent slashes</span></a> is enabled.</p></li>
<li><p><strong>http</strong>: fixed several bugs with applying correct connection close behavior across the http connection manager, health checker, and connection pool. This behavior may be temporarily reverted by setting runtime feature <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.fix_connection_close</span></code> to false.</p></li>
<li><p><strong>listener</strong>: fixed CVE-2020-8663 by adding runtime support for <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/listeners/runtime.html#config-listeners-runtime" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">per-listener limits</span></a> on active/accepted connections.</p></li>
<li><p><strong>overload management</strong>: fixed CVE-2020-8663 by adding runtime support for <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/operations/overload_manager/overload_manager.html#config-overload-manager" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">global limits</span></a> on active/accepted connections.</p></li>
<li><p><strong>prometheus stats</strong>: fixed the sort order of output lines to comply with the standard.</p></li>
<li><p><strong>udp</strong>: the <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v2/api/v2/listener.proto.html#envoy-api-field-listener-reuse-port" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">reuse_port</span></a> listener option must now be
specified for UDP listeners if concurrency is &gt; 1. This previously crashed so is considered a
bug fix.</p></li>
<li><p><strong>upstream</strong>: fixed a bug where Envoy would panic when receiving a GRPC SERVICE_UNKNOWN status on the health check.</p></li>
</ul>
</section>
<section id="removed-config-or-runtime">
<h2>Removed config or runtime<a class="headerlink" href="#removed-config-or-runtime" title="Permalink to this heading"></a></h2>
<p><em>Normally occurs at the end of the</em> <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/version_history/version_history.html#deprecated" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">deprecation period</span></a></p>
<ul class="simple">
<li><p><strong>http</strong>: removed legacy connection pool code and their runtime features: <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.new_http1_connection_pool_behavior</span></code> and
<code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.new_http2_connection_pool_behavior</span></code>.</p></li>
</ul>
</section>
<section id="new-features">
<h2>New features<a class="headerlink" href="#new-features" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><strong>access loggers</strong>: added GRPC_STATUS operator on logging format.</p></li>
<li><p><strong>access loggers</strong>: added file access logger config <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/access_loggers/file/v3/file.proto.html#envoy-v3-api-field-extensions-access-loggers-file-v3-fileaccesslog-log-format" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">log_format</span></a>.</p></li>
<li><p><strong>access loggers</strong>: added gRPC access logger config added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/access_loggers/grpc/v3/als.proto.html#envoy-v3-api-field-extensions-access-loggers-grpc-v3-commongrpcaccesslogconfig-transport-api-version" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">API version</span></a> to explicitly set the version of gRPC service endpoint and message to be used.</p></li>
<li><p><strong>access loggers</strong>: extended specifier for FilterStateFormatter to output <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/observability/access_log/usage.html#config-access-log-format-filter-state" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">unstructured log string</span></a>.</p></li>
<li><p><strong>admin</strong>: added support for dumping EDS config at <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/operations/admin.html#operations-admin-interface-config-dump-include-eds" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">/config_dump?include_eds</span></a>.</p></li>
<li><p><strong>aggregate cluster</strong>: made route <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-retrypolicy-retry-priority" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">retry_priority</span></a> predicates work with <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/clusters/aggregate/v3/cluster.proto.html#envoy-v3-api-msg-extensions-clusters-aggregate-v3-clusterconfig" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">this cluster type</span></a>.</p></li>
<li><p><strong>build</strong>: official released binary is now built on Ubuntu 18.04, requires glibc &gt;= 2.27.</p></li>
<li><p><strong>build</strong>: official released binary is now built with Clang 10.0.0.</p></li>
<li><p><strong>cluster</strong>: added an extension point for configurable <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/config/cluster/v3/cluster.proto.html#envoy-v3-api-field-config-cluster-v3-cluster-upstream-config" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">upstreams</span></a>.</p></li>
<li><p><strong>compressor</strong>: exposed generic <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/http/http_filters/compressor_filter.html#config-http-filters-compressor" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">compressor</span></a> filter to users.</p></li>
<li><p><strong>config</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/upstream/cluster_manager/cds.html#config-cluster-manager-cds" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">identifier</span></a> stat that reflects control plane identifier.</p></li>
<li><p><strong>config</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/upstream/cluster_manager/cds.html#config-cluster-manager-cds" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">version_text</span></a> stat that reflects xDS version.</p></li>
<li><p><strong>decompressor</strong>: exposed generic <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/http/http_filters/decompressor_filter.html#config-http-filters-decompressor" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">decompressor</span></a> filter to users.</p></li>
<li><p><strong>dynamic forward proxy</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/listeners/network_filters/sni_dynamic_forward_proxy_filter.html#config-network-filters-sni-dynamic-forward-proxy" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">SNI based dynamic forward proxy</span></a> support.</p></li>
<li><p><strong>dynamic forward proxy</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/clusters/dynamic_forward_proxy/v3/cluster.proto.html#envoy-v3-api-field-extensions-clusters-dynamic-forward-proxy-v3-clusterconfig-allow-insecure-cluster-options" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">allow_insecure_cluster_options</span></a> to allow disabling of auto_san_validation and auto_sni.</p></li>
<li><p><strong>dynamic forward proxy</strong>: added configurable <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/http/http_filters/dynamic_forward_proxy_filter.html#dns-cache-circuit-breakers" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">circuit breakers</span></a> for resolver on DNS cache.
This behavior can be temporarily disabled by the runtime feature <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.enable_dns_cache_circuit_breakers</span></code>.
If this runtime feature is disabled, the upstream circuit breakers for the cluster will be used even if the <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/http/http_filters/dynamic_forward_proxy_filter.html#dns-cache-circuit-breakers" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">DNS Cache circuit breakers</span></a> are configured.</p></li>
<li><p><strong>ext_authz filter</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v2/config/filter/http/ext_authz/v2/ext_authz.proto.html#envoy-api-field-config-filter-http-ext-authz-v2-extauthz-deny-at-disable" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">v2 deny_at_disable</span></a>, <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/filters/http/ext_authz/v3/ext_authz.proto.html#envoy-v3-api-field-extensions-filters-http-ext-authz-v3-extauthz-deny-at-disable" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">v3 deny_at_disable</span></a>. This allows force denying protected paths while filter gets disabled, by setting this key to true.</p></li>
<li><p><strong>ext_authz filter</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/filters/http/ext_authz/v3/ext_authz.proto.html#envoy-v3-api-field-extensions-filters-http-ext-authz-v3-authorizationresponse-allowed-upstream-headers-to-append" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">v3 allowed_upstream_headers_to_append</span></a> to allow appending multiple header entries (returned by the authorization server) with the same key to the original request headers.</p></li>
<li><p><strong>ext_authz filter</strong>: added API version field for both <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/filters/http/ext_authz/v3/ext_authz.proto.html#envoy-v3-api-field-extensions-filters-http-ext-authz-v3-extauthz-transport-api-version" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">HTTP</span></a>
and <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/filters/network/ext_authz/v3/ext_authz.proto.html#envoy-v3-api-field-extensions-filters-network-ext-authz-v3-extauthz-transport-api-version" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">Network</span></a> filters to explicitly set the version of gRPC service endpoint and message to be used.</p></li>
<li><p><strong>fault</strong>: added support for controlling the percentage of requests that abort, delay and response rate limits faults
are applied to using <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/http/http_filters/fault_filter.html#config-http-filters-fault-injection-http-header" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">HTTP headers</span></a> to the HTTP fault filter.</p></li>
<li><p><strong>fault</strong>: added support for specifying grpc_status code in abort faults using
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/http/http_filters/fault_filter.html#config-http-filters-fault-injection-http-header" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">HTTP header</span></a> or abort fault configuration in HTTP fault filter.</p></li>
<li><p><strong>filter</strong>: added <code class="docutils literal notranslate"><span class="pre">upstream_rq_time</span></code> stats to the GPRC stats filter.
Disabled by default and can be enabled via <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/filters/http/grpc_stats/v3/config.proto.html#envoy-v3-api-field-extensions-filters-http-grpc-stats-v3-filterconfig-enable-upstream-stats" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">enable_upstream_stats</span></a>.</p></li>
<li><p><strong>grpc</strong>: added support for Google gRPC <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/config/core/v3/grpc_service.proto.html#envoy-v3-api-field-config-core-v3-grpcservice-googlegrpc-channel-args" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">custom channel arguments</span></a>.</p></li>
<li><p><strong>grpc-json</strong>: added support for streaming response using
<a class="reference external" href="https://github.com/googleapis/googleapis/blob/master/google/api/httpbody.proto">google.api.HttpBody</a>.</p></li>
<li><p><strong>grpc-json</strong>: send a <code class="docutils literal notranslate"><span class="pre">x-envoy-original-method</span></code> header to grpc services.</p></li>
<li><p><strong>gzip filter</strong>: added option to set zlib’s next output buffer size.</p></li>
<li><p><strong>hds</strong>: updated to allow to explicitly set the API version of gRPC service endpoint and message to be used.</p></li>
<li><p><strong>header to metadata</strong>: added support for regex substitutions on header values.</p></li>
<li><p><strong>health checks</strong>: allowed configuring health check transport sockets by specifying <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/config/core/v3/health_check.proto.html#envoy-v3-api-field-config-core-v3-healthcheck-transport-socket-match-criteria" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">transport socket match criteria</span></a>.</p></li>
<li><p><strong>http</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto.html#envoy-v3-api-field-extensions-filters-network-http-connection-manager-v3-httpconnectionmanager-local-reply-config" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">local_reply config</span></a> to http_connection_manager to customize <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/http/http_conn_man/local_reply.html#config-http-conn-man-local-reply" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">local reply</span></a>.</p></li>
<li><p><strong>http</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto.html#envoy-v3-api-field-extensions-filters-network-http-connection-manager-v3-httpconnectionmanager-strip-matching-host-port" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">stripping port from host header</span></a> support.</p></li>
<li><p><strong>http</strong>: added support for proxying CONNECT requests, terminating CONNECT requests, and converting raw TCP streams into HTTP/2 CONNECT requests. See <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/intro/arch_overview/http/upgrades.html#arch-overview-upgrades" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">upgrade documentation</span></a> for details.</p></li>
<li><p><strong>listener</strong>: added in place filter chain update flow for tcp listener update which doesn’t close connections if the corresponding network filter chain is equivalent during the listener update.
Can be disabled by setting runtime feature <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.listener_in_place_filterchain_update</span></code> to false.
Also added additional draining filter chain stat for <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/listeners/stats.html#config-listener-manager-stats" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">listener manager</span></a> to track the number of draining filter chains and the number of in place update attempts.</p></li>
<li><p><strong>logger</strong>: added <code class="docutils literal notranslate"><span class="pre">--log-format-prefix-with-location</span></code> command line option to prefix ‘%v’ with file path and line number.</p></li>
<li><p><strong>lrs</strong>: added new <code class="docutils literal notranslate"><span class="pre">envoy_api_field_service.load_stats.v2.LoadStatsResponse.send_all_clusters</span></code> field
in LRS response, which allows management servers to avoid explicitly listing all clusters it is
interested in; behavior is allowed based on new <code class="docutils literal notranslate"><span class="pre">envoy.lrs.supports_send_all_clusters</span></code> capability
in <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/config/core/v3/base.proto.html#envoy-v3-api-field-config-core-v3-node-client-features" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">client_features</span></a> field.</p></li>
<li><p><strong>lrs</strong>: updated to allow to explicitly set the API version of gRPC service endpoint and message to be used.</p></li>
<li><p><strong>lua</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/filters/http/lua/v3/lua.proto.html#envoy-v3-api-msg-extensions-filters-http-lua-v3-luaperroute" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">per route config</span></a> for Lua filter.</p></li>
<li><p><strong>lua</strong>: added tracing to the <code class="docutils literal notranslate"><span class="pre">httpCall()</span></code> API.</p></li>
<li><p><strong>metrics service</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/config/metrics/v3/metrics_service.proto.html#envoy-v3-api-field-config-metrics-v3-metricsserviceconfig-transport-api-version" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">API version</span></a> to explicitly set the version of gRPC service endpoint and message to be used.</p></li>
<li><p><strong>network filters</strong>: added a <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/listeners/network_filters/postgres_proxy_filter.html#config-network-filters-postgres-proxy" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">postgres proxy filter</span></a>.</p></li>
<li><p><strong>network filters</strong>: added a <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/listeners/network_filters/rocketmq_proxy_filter.html#config-network-filters-rocketmq-proxy" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">rocketmq proxy filter</span></a>.</p></li>
<li><p><strong>performance</strong>: enabled stats symbol table implementation by default. To disable it, add
<code class="docutils literal notranslate"><span class="pre">--use-fake-symbol-table</span> <span class="pre">1</span></code> to the command-line arguments when starting Envoy.</p></li>
<li><p><strong>ratelimit</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/config/ratelimit/v3/rls.proto.html#envoy-v3-api-field-config-ratelimit-v3-ratelimitserviceconfig-transport-api-version" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">API version</span></a> to explicitly set the version of gRPC service endpoint and message to be used.</p></li>
<li><p><strong>ratelimit</strong>: added support for use of dynamic metadata <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-ratelimit-action-dynamic-metadata" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">dynamic_metadata</span></a> as a ratelimit action.</p></li>
<li><p><strong>ratelimit</strong>: support specifying dynamic overrides in rate limit descriptors using <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-ratelimit-limit" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">limit override</span></a> config.</p></li>
<li><p><strong>redis</strong>: added acl support <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/filters/network/redis_proxy/v3/redis_proxy.proto.html#envoy-v3-api-field-extensions-filters-network-redis-proxy-v3-redisproxy-downstream-auth-username" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">downstream_auth_username</span></a> for downstream client ACL authentication, and <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/filters/network/redis_proxy/v3/redis_proxy.proto.html#envoy-v3-api-field-extensions-filters-network-redis-proxy-v3-redisprotocoloptions-auth-username" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">auth_username</span></a> to configure authentication usernames for upstream Redis 6+ server clusters with ACL enabled.</p></li>
<li><p><strong>regex</strong>: added support for enforcing max program size via runtime and stats to monitor program size for <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/type/matcher/v3/regex.proto.html#envoy-v3-api-field-type-matcher-v3-regexmatcher-googlere2-max-program-size" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">Google RE2</span></a>.</p></li>
<li><p><strong>request_id</strong>: added to <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto.html#envoy-v3-api-field-extensions-filters-network-http-connection-manager-v3-httpconnectionmanager-always-set-request-id-in-response" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">always_set_request_id_in_response setting</span></a>
to set <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/http/http_conn_man/headers.html#config-http-conn-man-headers-x-request-id" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">x-request-id</span></a> header in response even if
tracing is not forced.</p></li>
<li><p><strong>router</strong>: added more fine grained internal redirect configs to the <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-routeaction-internal-redirect-policy" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">internal_redirect_policy</span></a> field.</p></li>
<li><p><strong>router</strong>: added regex substitution support for header based hashing.</p></li>
<li><p><strong>router</strong>: added support for RESPONSE_FLAGS and RESPONSE_CODE_DETAILS <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/http/http_conn_man/headers.html#config-http-conn-man-headers-custom-request-headers" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">header formatters</span></a>.</p></li>
<li><p><strong>router</strong>: allow Rate Limiting Service to be called in case of missing request header for a descriptor if the <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-ratelimit-action-requestheaders-skip-if-absent" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">skip_if_absent</span></a> field is set to true.</p></li>
<li><p><strong>runtime</strong>: added new gauge <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/operations/runtime.html#runtime-stats" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">deprecated_feature_seen_since_process_start</span></a> that gets reset across hot restarts.</p></li>
<li><p><strong>server</strong>: added <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/observability/statistics.html#server-statistics" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">server.envoy_bug_failures</span></a> statistic to count ENVOY_BUG failures.</p></li>
<li><p><strong>server</strong>: added the option <a class="reference internal" href="../../operations/cli.html#cmdoption-drain-strategy"><code class="xref std std-option docutils literal notranslate"><span class="pre">--drain-strategy</span></code></a> to enable different drain strategies for DrainManager::drainClose().</p></li>
<li><p><strong>stats</strong>: added the option to <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/config/metrics/v3/metrics_service.proto.html#envoy-v3-api-field-config-metrics-v3-metricsserviceconfig-report-counters-as-deltas" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">report counters as deltas</span></a> to the metrics service stats sink.</p></li>
<li><p><strong>tracing</strong>: made tracing configuration fully dynamic and every HTTP connection manager
can now have a separate <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto.html#envoy-v3-api-field-extensions-filters-network-http-connection-manager-v3-httpconnectionmanager-tracing-provider" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">tracing provider</span></a>.</p></li>
<li><p><strong>udp</strong>: upgraded <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/listeners/udp_filters/udp_proxy.html#config-udp-listener-filters-udp-proxy" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">udp_proxy</span></a> filter to v3 and promoted it out of alpha.</p></li>
</ul>
</section>
<section id="deprecated">
<h2>Deprecated<a class="headerlink" href="#deprecated" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><strong>compression</strong>: The <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/http/http_filters/gzip_filter.html#config-http-filters-gzip" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">HTTP Gzip filter</span></a> has been deprecated in favor of
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/http/http_filters/compressor_filter.html#config-http-filters-compressor" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">Compressor</span></a>.</p></li>
<li><p><strong>dns</strong>: Using cluster circuit breakers for DNS Cache is now deprecated in favor of <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/configuration/http/http_filters/dynamic_forward_proxy_filter.html#dns-cache-circuit-breakers" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">DNS cache circuit breakers</span></a>. This behavior can be temporarily disabled by setting <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.enable_dns_cache_circuit_breakers</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>logging</strong>: File access logger fields <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/access_loggers/file/v3/file.proto.html#envoy-v3-api-field-extensions-access-loggers-file-v3-fileaccesslog-format" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">format</span></a>, <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/access_loggers/file/v3/file.proto.html#envoy-v3-api-field-extensions-access-loggers-file-v3-fileaccesslog-json-format" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">json_format</span></a> and <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/access_loggers/file/v3/file.proto.html#envoy-v3-api-field-extensions-access-loggers-file-v3-fileaccesslog-typed-json-format" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">typed_json_format</span></a> are deprecated in favor of <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/access_loggers/file/v3/file.proto.html#envoy-v3-api-field-extensions-access-loggers-file-v3-fileaccesslog-log-format" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">log_format</span></a>.</p></li>
<li><dl class="simple">
<dt><strong>matching</strong>: The - change: |</dt><dd><p><a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/type/matcher/v3/regex.proto.html#envoy-v3-api-field-type-matcher-v3-regexmatcher-googlere2-max-program-size" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">GoogleRE2.max_program_size</span></a>
field is now deprecated. Management servers are expected to validate regexp program sizes
instead of expecting the client to do it. Alternatively, the max program size can be enforced by Envoy via runtime.</p>
</dd>
</dl>
</li>
<li><p><strong>routing</strong>: The <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-routeaction-internal-redirect-action" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">internal_redirect_action</span></a>
field and <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-routeaction-max-internal-redirects" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">max_internal_redirects</span></a> field
are now deprecated. This changes the implemented default cross scheme redirect behavior.
All cross scheme redirects are disallowed by default. To restore
the previous behavior, set allow_cross_scheme_redirect=true and use
<a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/internal_redirect/safe_cross_scheme/v3/safe_cross_scheme_config.proto.html#envoy-v3-api-msg-extensions-internal-redirect-safe-cross-scheme-v3-safecrossschemeconfig" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">safe_cross_scheme</span></a>,
in <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/config/route/v3/route_components.proto.html#envoy-v3-api-field-config-route-v3-internalredirectpolicy-predicates" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">predicates</span></a>.</p></li>
<li><p><strong>tracing</strong>: Tracing provider configuration as part of <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/config/bootstrap/v3/bootstrap.proto.html#envoy-v3-api-field-config-bootstrap-v3-bootstrap-tracing" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">bootstrap config</span></a>
has been deprecated in favor of configuration as part of <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.15.5/api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto.html#envoy-v3-api-field-extensions-filters-network-http-connection-manager-v3-httpconnectionmanager-tracing-provider" title="(in envoy vtag-v1.15.5)"><span class="xref std std-ref">HTTP connection manager</span></a>.</p></li>
<li><p><strong>xds</strong>: A warning is now logged when v2 xDS api is used. This behavior can be temporarily disabled by setting <code class="docutils literal notranslate"><span class="pre">envoy.reloadable_features.enable_deprecated_v2_api_warning</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="v1.15.1.html" class="btn btn-neutral float-left" title="1.15.1 (September 29, 2020)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../v1.14/v1.14.html" class="btn btn-neutral float-right" title="v1.14" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2023, Envoy Project Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
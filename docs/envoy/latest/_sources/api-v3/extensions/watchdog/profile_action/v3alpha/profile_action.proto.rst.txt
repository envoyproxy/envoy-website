.. _envoy_v3_api_file_envoy/extensions/watchdog/profile_action/v3alpha/profile_action.proto:

Watchdog Action that does CPU profiling.
========================================


.. _extension_envoy.watchdog.profile_action:

This extension may be referenced by the qualified name *envoy.watchdog.profile_action*

.. note::
  This extension is functional but has not had substantial production burn time, use only with this caveat.

  This extension does not operate on the data plane and hence is intended to be robust against untrusted traffic.

.. tip::
  This extension extends and can be used with the following extension category:


  - :ref:`envoy.guarddog_actions <extension_category_envoy.guarddog_actions>`

.. warning::
   This API is work-in-progress and is subject to breaking changes.


.. _envoy_v3_api_msg_extensions.watchdog.profile_action.v3alpha.ProfileActionConfig:

extensions.watchdog.profile_action.v3alpha.ProfileActionConfig
--------------------------------------------------------------

`[extensions.watchdog.profile_action.v3alpha.ProfileActionConfig proto] <https://github.com/envoyproxy/envoy/blob/85fa7cacca775c1700f24d1381a81acde21e92e7/api/envoy/extensions/watchdog/profile_action/v3alpha/profile_action.proto#L19>`_

Configuration for the profile watchdog action.

.. code-block:: json

  {
    "profile_duration": "{...}",
    "profile_path": "...",
    "max_profiles": "..."
  }

.. _envoy_v3_api_field_extensions.watchdog.profile_action.v3alpha.ProfileActionConfig.profile_duration:

profile_duration
  (`Duration <https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#duration>`_) How long the profile should last. If not set defaults to 5 seconds.
  
  
.. _envoy_v3_api_field_extensions.watchdog.profile_action.v3alpha.ProfileActionConfig.profile_path:

profile_path
  (`string <https://developers.google.com/protocol-buffers/docs/proto#scalar>`_, *REQUIRED*) File path to the directory to output profiles.
  
  
.. _envoy_v3_api_field_extensions.watchdog.profile_action.v3alpha.ProfileActionConfig.max_profiles:

max_profiles
  (`uint64 <https://developers.google.com/protocol-buffers/docs/proto#scalar>`_) Limits the max number of profiles that can be generated by this action
  over its lifetime to avoid filling the disk.
  If not set (i.e. it's 0), a default of 10 will be used.
  
  


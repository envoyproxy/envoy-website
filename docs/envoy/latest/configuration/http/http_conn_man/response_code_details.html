

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Response Code Details &mdash; envoy 1.17.0-dev-219621 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/sphinx_tabs/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Statistics" href="stats.html" />
    <link rel="prev" title="Local reply modification" href="local_reply.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/envoy-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.17.0-dev-219621
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../start/start.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../configuration.html">Configuration reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../overview/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../listeners/listeners.html">Listeners</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../http.html">HTTP</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="http_conn_man.html">HTTP connection manager</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="route_matching.html">Route matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="traffic_splitting.html">Traffic Shifting/Splitting</a></li>
<li class="toctree-l4"><a class="reference internal" href="header_casing.html">HTTP/1.1 Header Casing</a></li>
<li class="toctree-l4"><a class="reference internal" href="headers.html">HTTP header manipulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="header_sanitizing.html">HTTP header sanitizing</a></li>
<li class="toctree-l4"><a class="reference internal" href="local_reply.html">Local reply modification</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Response Code Details</a></li>
<li class="toctree-l4"><a class="reference internal" href="stats.html">Statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="runtime.html">Runtime</a></li>
<li class="toctree-l4"><a class="reference internal" href="rds.html">Route discovery service (RDS)</a></li>
<li class="toctree-l4"><a class="reference internal" href="vhds.html">Virtual Host Discovery Service (VHDS)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../http_filters/http_filters.html">HTTP filters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../upstream/upstream.html">Upstream clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../observability/observability.html">Observability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../security/security.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/operations.html">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../other_features/other_features.html">Other features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../other_protocols/other_protocols.html">Other protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/advanced.html">Advanced</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../best_practices/best_practices.html">Configuration best practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/overview.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../version_history/version_history.html">Version history</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">envoy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../configuration.html">Configuration reference</a> &raquo;</li>
        
          <li><a href="../http.html">HTTP</a> &raquo;</li>
        
          <li><a href="http_conn_man.html">HTTP connection manager</a> &raquo;</li>
        
      <li>Response Code Details</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/configuration/http/http_conn_man/response_code_details.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="response-code-details">
<span id="config-http-conn-man-details"></span><h1>Response Code Details<a class="headerlink" href="#response-code-details" title="Permalink to this headline">¶</a></h1>
<p>If _%RESPONSE_CODE_DETAILS%_ is configured on via <a class="reference internal" href="../../observability/access_log/usage.html#config-access-log-format-response-code-details"><span class="std std-ref">access logging</span></a>,
or <a class="reference internal" href="headers.html#config-http-conn-man-headers-custom-request-headers"><span class="std std-ref">custom headers</span></a> Envoy will communicate the detailed
reason a given stream ended.
This page lists the details sent by the HttpConnectionManager, Router filter, and codecs. It is not comprehensive as
any other filters may send their own local replies with custom details.</p>
<p>Below are the list of reasons the HttpConnectionManager or Router filter may send responses or reset streams.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The following list is not guaranteed to be stable, since the details are subject to change.</p>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>absolute_path_rejected</p></td>
<td><p>The request was rejected due to using an absolute path on a route not supporting them.</p></td>
</tr>
<tr class="row-odd"><td><p>admin_filter_response</p></td>
<td><p>The response was generated by the admin filter.</p></td>
</tr>
<tr class="row-even"><td><p>cluster_not_found</p></td>
<td><p>The request was rejected by the router filter because there was no cluster found for the selected route.</p></td>
</tr>
<tr class="row-odd"><td><p>downstream_local_disconnect</p></td>
<td><p>The client connection was locally closed for an unspecified reason.</p></td>
</tr>
<tr class="row-even"><td><p>downstream_remote_disconnect</p></td>
<td><p>The client disconnected unexpectedly.</p></td>
</tr>
<tr class="row-odd"><td><p>duration_timeout</p></td>
<td><p>The max connection duration was exceeded.</p></td>
</tr>
<tr class="row-even"><td><p>direct_response</p></td>
<td><p>A direct response was generated by the router filter.</p></td>
</tr>
<tr class="row-odd"><td><p>filter_chain_not_found</p></td>
<td><p>The request was rejected due to no matching filter chain.</p></td>
</tr>
<tr class="row-even"><td><p>internal_redirect</p></td>
<td><p>The original stream was replaced with an internal redirect.</p></td>
</tr>
<tr class="row-odd"><td><p>low_version</p></td>
<td><p>The HTTP/1.0 or HTTP/0.9 request was rejected due to HTTP/1.0 support not being configured.</p></td>
</tr>
<tr class="row-even"><td><p>maintenance_mode</p></td>
<td><p>The request was rejected by the router filter because the cluster was in maintenance mode.</p></td>
</tr>
<tr class="row-odd"><td><p>max_duration_timeout</p></td>
<td><p>The per-stream max duration timeout was exceeded.</p></td>
</tr>
<tr class="row-even"><td><p>missing_host_header</p></td>
<td><p>The request was rejected due to a missing Host: or :authority field.</p></td>
</tr>
<tr class="row-odd"><td><p>missing_path_rejected</p></td>
<td><p>The request was rejected due to a missing Path or :path header field.</p></td>
</tr>
<tr class="row-even"><td><p>no_healthy_upstream</p></td>
<td><p>The request was rejected by the router filter because there was no healthy upstream found.</p></td>
</tr>
<tr class="row-odd"><td><p>overload</p></td>
<td><p>The request was rejected due to the Overload Manager reaching configured resource limits.</p></td>
</tr>
<tr class="row-even"><td><p>path_normalization_failed</p></td>
<td><p>The request was rejected because path normalization was configured on and failed, probably due to an invalid path.</p></td>
</tr>
<tr class="row-odd"><td><p>request_headers_failed_strict_check</p></td>
<td><p>The request was rejected due to x-envoy-* headers failing strict header validation.</p></td>
</tr>
<tr class="row-even"><td><p>request_overall_timeout</p></td>
<td><p>The per-stream total request timeout was exceeded.</p></td>
</tr>
<tr class="row-odd"><td><p>request_payload_exceeded_retry_buffer_limit</p></td>
<td><p>Envoy is doing streaming proxying but too much data arrived while waiting to attempt a retry.</p></td>
</tr>
<tr class="row-even"><td><p>request_payload_too_large</p></td>
<td><p>Envoy is doing non-streaming proxying and the request payload exceeded configured limits.</p></td>
</tr>
<tr class="row-odd"><td><p>response_payload_too_large</p></td>
<td><p>Envoy is doing non-streaming proxying and the response payload exceeded configured limits.</p></td>
</tr>
<tr class="row-even"><td><p>response_payload_too_large</p></td>
<td><p>Envoy is doing non-streaming proxying and the response payload exceeded configured limits.</p></td>
</tr>
<tr class="row-odd"><td><p>route_configuration_not_found</p></td>
<td><p>The request was rejected because there was no route configuration found.</p></td>
</tr>
<tr class="row-even"><td><p>route_not_found</p></td>
<td><p>The request was rejected because there was no route found.</p></td>
</tr>
<tr class="row-odd"><td><p>stream_idle_timeout</p></td>
<td><p>The per-stream keepalive timeout was exceeded.</p></td>
</tr>
<tr class="row-even"><td><p>upgrade_failed</p></td>
<td><p>The request was rejected because it attempted an unsupported upgrade.</p></td>
</tr>
<tr class="row-odd"><td><p>upstream_max_stream_duration_reached</p></td>
<td><p>The request was destroyed because of it exceeded the configured max stream duration.</p></td>
</tr>
<tr class="row-even"><td><p>upstream_per_try_timeout</p></td>
<td><p>The final upstream try timed out.</p></td>
</tr>
<tr class="row-odd"><td><p>upstream_reset_after_response_started{details}</p></td>
<td><p>The upstream connection was reset after a response was started. This may include further details about the cause of the disconnect.</p></td>
</tr>
<tr class="row-even"><td><p>upstream_reset_before_response_started{details}</p></td>
<td><p>The upstream connection was reset before a response was started This may include further details about the cause of the disconnect.</p></td>
</tr>
<tr class="row-odd"><td><p>upstream_response_timeout</p></td>
<td><p>The upstream response timed out.</p></td>
</tr>
<tr class="row-even"><td><p>via_upstream</p></td>
<td><p>The response code was set by the upstream.</p></td>
</tr>
</tbody>
</table>
<div class="section" id="per-codec-details">
<span id="config-http-conn-man-details-per-codec"></span><h2>Per codec details<a class="headerlink" href="#per-codec-details" title="Permalink to this headline">¶</a></h2>
<p>Each codec may send codec-specific details when encountering errors.</p>
<div class="section" id="http1-details">
<h3>Http1 details<a class="headerlink" href="#http1-details" title="Permalink to this headline">¶</a></h3>
<p>All http1 details are rooted at <em>http1.</em></p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>http1.body_disallowed</p></td>
<td><p>A body was sent on a request where bodies are not allowed.</p></td>
</tr>
<tr class="row-odd"><td><p>http1.codec_error</p></td>
<td><p>Some error was encountered in the http_parser internals.</p></td>
</tr>
<tr class="row-even"><td><p>http1.connection_header_rejected</p></td>
<td><p>The Connection header was malformed or overly long.</p></td>
</tr>
<tr class="row-odd"><td><p>http1.content_length_and_chunked_not_allowed</p></td>
<td><p>A request was sent with both Transfer-Encoding: chunked and a Content-Length header when disallowed by configuration.</p></td>
</tr>
<tr class="row-even"><td><p>http1.content_length_not_allowed</p></td>
<td><p>A content length was sent on a response it was disallowed on.</p></td>
</tr>
<tr class="row-odd"><td><p>http1.headers_too_large</p></td>
<td><p>The overall byte size of rquest headers was larger than the configured limits.</p></td>
</tr>
<tr class="row-even"><td><p>http1.invalid_characters</p></td>
<td><p>The headers contained illegal characters.</p></td>
</tr>
<tr class="row-odd"><td><p>http1.invalid_transfer_encoding</p></td>
<td><p>The Transfer-Encoding header was not valid.</p></td>
</tr>
<tr class="row-even"><td><p>http1.invalid_url</p></td>
<td><p>The request URL was not valid.</p></td>
</tr>
<tr class="row-odd"><td><p>http1.too_many_headers</p></td>
<td><p>Too many headers were sent with this request.</p></td>
</tr>
<tr class="row-even"><td><p>http1.transfer_encoding_not_allowed</p></td>
<td><p>A transfer encoding was sent on a response it was disallowed on.</p></td>
</tr>
<tr class="row-odd"><td><p>http1.unexpected_underscore</p></td>
<td><p>An underscore was sent in a header key when disallowed by configuration.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="http2-details">
<h3>Http2 details<a class="headerlink" href="#http2-details" title="Permalink to this headline">¶</a></h3>
<p>All http2 details are rooted at <em>http2.</em></p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>http2.inbound_empty_frames_flood</p></td>
<td><p>Envoy detected an inbound HTTP/2 frame flood.</p></td>
</tr>
<tr class="row-odd"><td><p>http2.invalid.header.field</p></td>
<td><p>One of the HTTP/2 headers was invalid</p></td>
</tr>
<tr class="row-even"><td><p>http2.outbound_frames_flood</p></td>
<td><p>Envoy detected an HTTP/2 frame flood from the server.</p></td>
</tr>
<tr class="row-odd"><td><p>http2.too_many_headers</p></td>
<td><p>The number of headers (or trailers) exceeded the configured limits</p></td>
</tr>
<tr class="row-even"><td><p>http2.unexpected_underscore</p></td>
<td><p>Envoy was configured to drop requests with header keys beginning with underscores.</p></td>
</tr>
<tr class="row-odd"><td><p>http2.unknown.nghttp2.error</p></td>
<td><p>An unknown error was encountered by nghttp2</p></td>
</tr>
<tr class="row-even"><td><p>http2.violation.of.messaging.rule</p></td>
<td><p>The stream was in violation of a HTTP/2 messaging rule.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="stats.html" class="btn btn-neutral float-right" title="Statistics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="local_reply.html" class="btn btn-neutral float-left" title="Local reply modification" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2016-2020, Envoy Project Authors

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
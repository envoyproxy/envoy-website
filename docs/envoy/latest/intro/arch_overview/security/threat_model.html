

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Threat model &mdash; envoy 1.19.0-dev-9785c3 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="External dependencies" href="external_deps.html" />
    <link rel="prev" title="Role Based Access Control" href="rbac_filter.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/envoy-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.19.0-dev-9785c3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../intro.html">Introduction</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../what_is_envoy.html">What is Envoy</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../arch_overview.html">Architecture overview</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../intro/intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../listeners/listeners_toc.html">Listeners</a></li>
<li class="toctree-l3"><a class="reference internal" href="../http/http.html">HTTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upstream/upstream.html">Upstream clusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../observability/observability.html">Observability</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="security.html">Security</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ssl.html">TLS</a></li>
<li class="toctree-l4"><a class="reference internal" href="jwt_authn_filter.html">JSON Web Token (JWT) Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="ext_authz_filter.html">External Authorization</a></li>
<li class="toctree-l4"><a class="reference internal" href="rbac_filter.html">Role Based Access Control</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Threat model</a></li>
<li class="toctree-l4"><a class="reference internal" href="external_deps.html">External dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="google_vrp.html">Google Vulnerability Reward Program (VRP)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operations/operations.html">Operations &amp; configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../other_features/other_features.html">Other features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../other_protocols/other_protocols.html">Other protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../advanced/advanced.html">Advanced</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../life_of_a_request.html">Life of a Request</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../deployment_types/deployment_types.html">Deployment types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_help.html">Getting help</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/overview.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../version_history/version_history.html">Version history</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">envoy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../intro.html">Introduction</a> &raquo;</li>
        
          <li><a href="../arch_overview.html">Architecture overview</a> &raquo;</li>
        
          <li><a href="security.html">Security</a> &raquo;</li>
        
      <li>Threat model</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/intro/arch_overview/security/threat_model.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="threat-model">
<span id="arch-overview-threat-model"></span><h1>Threat model<a class="headerlink" href="#threat-model" title="Permalink to this headline">¶</a></h1>
<p>Below we articulate the Envoy threat model, which is of relevance to Envoy operators, developers and
security researchers. We detail our security release process at
<a class="reference external" href="https://github.com/envoyproxy/envoy/security/policy">https://github.com/envoyproxy/envoy/security/policy</a>.</p>
<div class="section" id="confidentiality-integrity-and-availability">
<h2>Confidentiality, integrity and availability<a class="headerlink" href="#confidentiality-integrity-and-availability" title="Permalink to this headline">¶</a></h2>
<p>We consider vulnerabilities leading to the compromise of data confidentiality or integrity to be our
highest priority concerns. Availability, in particular in areas relating to DoS and resource
exhaustion, is also a serious security concern for Envoy operators, in particular those utilizing
Envoy in edge deployments.</p>
<p>We will activate the security release process for disclosures that meet the following criteria:</p>
<ul class="simple">
<li><p>All issues that lead to loss of data confidentiality or integrity trigger the security release process.</p></li>
<li><p>An availability issue, such as Query-of-Death (QoD) or resource exhaustion needs to meet all of the
following criteria to trigger the security release process:</p>
<ul>
<li><p>A component tagged as hardened is affected (see <a class="reference internal" href="#core-and-extensions">Core and extensions</a> for the list of hardened components).</p></li>
<li><p>The type of traffic (upstream or downstream) that exhibits the issue matches the component’s hardening tag.
I.e. component tagged as “hardened to untrusted downstream” is affected by downstream request.</p></li>
<li><p>A resource exhaustion issue needs to meet these additional criteria:</p>
<ul>
<li><p>Not covered by an existing timeout or where applying short timeout values is impractical and either</p>
<ul>
<li><p>Memory exhaustion, including out of memory conditions, where per-request memory use 100x or more above
the configured header or high watermark limit. I.e. 10 KiB client request leading to 1 MiB bytes of
memory consumed by Envoy;</p></li>
<li><p>Highly asymmetric CPU utilization where Envoy uses 100x or more CPU compared to client.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The Envoy availability stance around CPU and memory DoS is still evolving, especially for brute force
attacks. We acknowledge that brute force (i.e. these with amplification factor less than 100) attacks are
likely for Envoy deployments as part of cloud infrastructure or with the use of botnets. We will continue
to iterate and fix well known resource issues in the open, e.g. overload manager and watermark improvements.
We will activate the security process for brute force disclosures that appear to present a risk to
existing Envoy deployments.</p>
<p>Note that we do not currently consider the default settings for Envoy to be safe from an availability
perspective. It is necessary for operators to explicitly <a class="reference internal" href="../../../configuration/best_practices/edge.html#best-practices-edge"><span class="std std-ref">configure</span></a>
watermarks, the overload manager, circuit breakers and other resource related features in Envoy to
provide a robust availability story. We will not act on any security disclosure that relates to a
lack of safe defaults. Over time, we will work towards improved safe-by-default configuration, but
due to backwards compatibility and performance concerns, this will require following the breaking
change deprecation policy.</p>
</div>
<div class="section" id="data-and-control-plane">
<h2>Data and control plane<a class="headerlink" href="#data-and-control-plane" title="Permalink to this headline">¶</a></h2>
<p>We divide our threat model into data and control plane, reflecting the internal division in Envoy of
these concepts from an architectural perspective. Envoy’s core components are considered to be hardened
against both untrusted downstream and upstream peers. As such our highest priority in risk assessment is the
threat posed by untrusted downstream client or untrusted upstream server traffic on the data plane. This
reflects the use of Envoy in an edge serving capacity and also the use of Envoy as a networking component in a
service mesh deployment with unstrusted services.</p>
<p>The control plane management server is generally trusted. We do not consider wire-level exploits
against the xDS transport protocol to be a concern as a result. However, the configuration delivered
to Envoy over xDS may originate from untrusted sources and may not be fully sanitized. An example of
this might be a service operator that hosts multiple tenants on an Envoy, where tenants may specify
a regular expression on a header match in <code class="docutils literal notranslate"><span class="pre">RouteConfiguration</span></code>. In this case, we expect that Envoy
is resilient against the risks posed by malicious configuration from a confidentiality, integrity
and availability perspective, as described above.</p>
<p>We generally assume that services utilized for side calls during the request processing, e.g.
external authorization, credential suppliers, rate limit services, are trusted. When this is not the
case, an extension will explicitly state this in its documentation.</p>
</div>
<div class="section" id="core-and-extensions">
<h2>Core and extensions<a class="headerlink" href="#core-and-extensions" title="Permalink to this headline">¶</a></h2>
<p>Anything in the Envoy core may be used in both untrusted and trusted deployments, with the exception
of features explicitly marked as alpha; alpha features are only supported in trusted deployments
and do not qualify for treatment under the threat model below. As a consequence, the stable core should be hardened
with this model in mind. Security issues related to core code will usually trigger the security release process as
described in this document.</p>
<p>The following extensions are intended to be hardened against untrusted downstream and upstreams:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/decompressor/v3/decompressor.proto.html#extension-envoy-filters-http-decompressor"><span class="std std-ref">envoy.filters.http.decompressor</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/set_metadata/v3/set_metadata.proto.html#extension-envoy-filters-http-set-metadata"><span class="std std-ref">envoy.filters.http.set_metadata</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/http/header_formatters/preserve_case/v3/preserve_case.proto.html#extension-envoy-http-stateful-header-formatters-preserve-case"><span class="std std-ref">envoy.http.stateful_header_formatters.preserve_case</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/internal_redirect/allow_listed_routes/v3/allow_listed_routes_config.proto.html#extension-envoy-internal-redirect-predicates-allow-listed-routes"><span class="std std-ref">envoy.internal_redirect_predicates.allow_listed_routes</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/internal_redirect/previous_routes/v3/previous_routes_config.proto.html#extension-envoy-internal-redirect-predicates-previous-routes"><span class="std std-ref">envoy.internal_redirect_predicates.previous_routes</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/internal_redirect/safe_cross_scheme/v3/safe_cross_scheme_config.proto.html#extension-envoy-internal-redirect-predicates-safe-cross-scheme"><span class="std std-ref">envoy.internal_redirect_predicates.safe_cross_scheme</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/request_id/uuid/v3/uuid.proto.html#extension-envoy-request-id-uuid"><span class="std std-ref">envoy.request_id.uuid</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/transport_sockets/alts/v3/alts.proto.html#extension-envoy-transport-sockets-alts"><span class="std std-ref">envoy.transport_sockets.alts</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/transport_sockets/starttls/v3/starttls.proto.html#extension-envoy-transport-sockets-starttls"><span class="std std-ref">envoy.transport_sockets.starttls</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/transport_sockets/tls/v3/tls.proto.html#extension-envoy-transport-sockets-tls"><span class="std std-ref">envoy.transport_sockets.tls</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/transport_sockets/proxy_protocol/v3/upstream_proxy_protocol.proto.html#extension-envoy-transport-sockets-upstream-proxy-protocol"><span class="std std-ref">envoy.transport_sockets.upstream_proxy_protocol</span></a></p></li>
</ul>
<p>The following extensions should not be exposed to data plane attack vectors and hence are intended
to be robust to untrusted downstreams and upstreams:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../api-v3/config/grpc_credential/v3/aws_iam.proto.html#extension-envoy-grpc-credentials-aws-iam"><span class="std std-ref">envoy.grpc_credentials.aws_iam</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/config/grpc_credential/v3/file_based_metadata.proto.html#extension-envoy-grpc-credentials-file-based-metadata"><span class="std std-ref">envoy.grpc_credentials.file_based_metadata</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/resource_monitors/fixed_heap/v3/fixed_heap.proto.html#extension-envoy-resource-monitors-fixed-heap"><span class="std std-ref">envoy.resource_monitors.fixed_heap</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/resource_monitors/injected_resource/v3/injected_resource.proto.html#extension-envoy-resource-monitors-injected-resource"><span class="std std-ref">envoy.resource_monitors.injected_resource</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/config/metrics/v3/stats.proto.html#extension-envoy-stat-sinks-dog-statsd"><span class="std std-ref">envoy.stat_sinks.dog_statsd</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/config/metrics/v3/stats.proto.html#extension-envoy-stat-sinks-hystrix"><span class="std std-ref">envoy.stat_sinks.hystrix</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/config/metrics/v3/metrics_service.proto.html#extension-envoy-stat-sinks-metrics-service"><span class="std std-ref">envoy.stat_sinks.metrics_service</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/config/metrics/v3/stats.proto.html#extension-envoy-stat-sinks-statsd"><span class="std std-ref">envoy.stat_sinks.statsd</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/stat_sinks/wasm/v3/wasm.proto.html#extension-envoy-stat-sinks-wasm"><span class="std std-ref">envoy.stat_sinks.wasm</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/watchdog/profile_action/v3alpha/profile_action.proto.html#extension-envoy-watchdog-profile-action"><span class="std std-ref">envoy.watchdog.profile_action</span></a> (alpha)</p></li>
</ul>
<p>The following extensions are intended to be hardened against untrusted downstreams but assume trusted
upstreams:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../api-v3/extensions/access_loggers/file/v3/file.proto.html#extension-envoy-access-loggers-file"><span class="std std-ref">envoy.access_loggers.file</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/access_loggers/grpc/v3/als.proto.html#extension-envoy-access-loggers-http-grpc"><span class="std std-ref">envoy.access_loggers.http_grpc</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/access_loggers/open_telemetry/v3alpha/logs_service.proto.html#extension-envoy-access-loggers-open-telemetry"><span class="std std-ref">envoy.access_loggers.open_telemetry</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/access_loggers/stream/v3/stream.proto.html#extension-envoy-access-loggers-stream"><span class="std std-ref">envoy.access_loggers.stream</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/access_loggers/grpc/v3/als.proto.html#extension-envoy-access-loggers-tcp-grpc"><span class="std std-ref">envoy.access_loggers.tcp_grpc</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/clusters/dynamic_forward_proxy/v3/cluster.proto.html#extension-envoy-clusters-dynamic-forward-proxy"><span class="std std-ref">envoy.clusters.dynamic_forward_proxy</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/compression/brotli/compressor/v3/brotli.proto.html#extension-envoy-compression-brotli-compressor"><span class="std std-ref">envoy.compression.brotli.compressor</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/compression/brotli/decompressor/v3/brotli.proto.html#extension-envoy-compression-brotli-decompressor"><span class="std std-ref">envoy.compression.brotli.decompressor</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/compression/gzip/compressor/v3/gzip.proto.html#extension-envoy-compression-gzip-compressor"><span class="std std-ref">envoy.compression.gzip.compressor</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/compression/gzip/decompressor/v3/gzip.proto.html#extension-envoy-compression-gzip-decompressor"><span class="std std-ref">envoy.compression.gzip.decompressor</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/buffer/v3/buffer.proto.html#extension-envoy-filters-http-buffer"><span class="std std-ref">envoy.filters.http.buffer</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/compressor/v3/compressor.proto.html#extension-envoy-filters-http-compressor"><span class="std std-ref">envoy.filters.http.compressor</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/cors/v3/cors.proto.html#extension-envoy-filters-http-cors"><span class="std std-ref">envoy.filters.http.cors</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/csrf/v3/csrf.proto.html#extension-envoy-filters-http-csrf"><span class="std std-ref">envoy.filters.http.csrf</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/dynamic_forward_proxy/v3/dynamic_forward_proxy.proto.html#extension-envoy-filters-http-dynamic-forward-proxy"><span class="std std-ref">envoy.filters.http.dynamic_forward_proxy</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/ext_authz/v3/ext_authz.proto.html#extension-envoy-filters-http-ext-authz"><span class="std std-ref">envoy.filters.http.ext_authz</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/fault/v3/fault.proto.html#extension-envoy-filters-http-fault"><span class="std std-ref">envoy.filters.http.fault</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/grpc_json_transcoder/v3/transcoder.proto.html#extension-envoy-filters-http-grpc-json-transcoder"><span class="std std-ref">envoy.filters.http.grpc_json_transcoder</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/grpc_web/v3/grpc_web.proto.html#extension-envoy-filters-http-grpc-web"><span class="std std-ref">envoy.filters.http.grpc_web</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/gzip/v3/gzip.proto.html#extension-envoy-filters-http-gzip"><span class="std std-ref">envoy.filters.http.gzip</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/header_to_metadata/v3/header_to_metadata.proto.html#extension-envoy-filters-http-header-to-metadata"><span class="std std-ref">envoy.filters.http.header_to_metadata</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/health_check/v3/health_check.proto.html#extension-envoy-filters-http-health-check"><span class="std std-ref">envoy.filters.http.health_check</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/ip_tagging/v3/ip_tagging.proto.html#extension-envoy-filters-http-ip-tagging"><span class="std std-ref">envoy.filters.http.ip_tagging</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/jwt_authn/v3/config.proto.html#extension-envoy-filters-http-jwt-authn"><span class="std std-ref">envoy.filters.http.jwt_authn</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/kill_request/v3/kill_request.proto.html#extension-envoy-filters-http-kill-request"><span class="std std-ref">envoy.filters.http.kill_request</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/lua/v3/lua.proto.html#extension-envoy-filters-http-lua"><span class="std std-ref">envoy.filters.http.lua</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/oauth2/v3alpha/oauth.proto.html#extension-envoy-filters-http-oauth2"><span class="std std-ref">envoy.filters.http.oauth2</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/on_demand/v3/on_demand.proto.html#extension-envoy-filters-http-on-demand"><span class="std std-ref">envoy.filters.http.on_demand</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/original_src/v3/original_src.proto.html#extension-envoy-filters-http-original-src"><span class="std std-ref">envoy.filters.http.original_src</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/ratelimit/v3/rate_limit.proto.html#extension-envoy-filters-http-ratelimit"><span class="std std-ref">envoy.filters.http.ratelimit</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/rbac/v3/rbac.proto.html#extension-envoy-filters-http-rbac"><span class="std std-ref">envoy.filters.http.rbac</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/router/v3/router.proto.html#extension-envoy-filters-http-router"><span class="std std-ref">envoy.filters.http.router</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/listener/original_dst/v3/original_dst.proto.html#extension-envoy-filters-listener-original-dst"><span class="std std-ref">envoy.filters.listener.original_dst</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/listener/original_src/v3/original_src.proto.html#extension-envoy-filters-listener-original-src"><span class="std std-ref">envoy.filters.listener.original_src</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/listener/proxy_protocol/v3/proxy_protocol.proto.html#extension-envoy-filters-listener-proxy-protocol"><span class="std std-ref">envoy.filters.listener.proxy_protocol</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/listener/tls_inspector/v3/tls_inspector.proto.html#extension-envoy-filters-listener-tls-inspector"><span class="std std-ref">envoy.filters.listener.tls_inspector</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/client_ssl_auth/v3/client_ssl_auth.proto.html#extension-envoy-filters-network-client-ssl-auth"><span class="std std-ref">envoy.filters.network.client_ssl_auth</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/ext_authz/v3/ext_authz.proto.html#extension-envoy-filters-network-ext-authz"><span class="std std-ref">envoy.filters.network.ext_authz</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto.html#extension-envoy-filters-network-http-connection-manager"><span class="std std-ref">envoy.filters.network.http_connection_manager</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/local_ratelimit/v3/local_rate_limit.proto.html#extension-envoy-filters-network-local-ratelimit"><span class="std std-ref">envoy.filters.network.local_ratelimit</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/ratelimit/v3/rate_limit.proto.html#extension-envoy-filters-network-ratelimit"><span class="std std-ref">envoy.filters.network.ratelimit</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/rbac/v3/rbac.proto.html#extension-envoy-filters-network-rbac"><span class="std std-ref">envoy.filters.network.rbac</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/tcp_proxy/v3/tcp_proxy.proto.html#extension-envoy-filters-network-tcp-proxy"><span class="std std-ref">envoy.filters.network.tcp_proxy</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/udp/dns_filter/v3alpha/dns_filter.proto.html#extension-envoy-filters-udp-listener-dns-filter"><span class="std std-ref">envoy.filters.udp_listener.dns_filter</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/udp/udp_proxy/v3/udp_proxy.proto.html#extension-envoy-filters-udp-listener-udp-proxy"><span class="std std-ref">envoy.filters.udp_listener.udp_proxy</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/http/original_ip_detection/custom_header/v3/custom_header.proto.html#extension-envoy-http-original-ip-detection-custom-header"><span class="std std-ref">envoy.http.original_ip_detection.custom_header</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/http/original_ip_detection/xff/v3/xff.proto.html#extension-envoy-http-original-ip-detection-xff"><span class="std std-ref">envoy.http.original_ip_detection.xff</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/matching/common_inputs/environment_variable/v3/input.proto.html#extension-envoy-matching-common-inputs-environment-variable"><span class="std std-ref">envoy.matching.common_inputs.environment_variable</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/matching/input_matchers/consistent_hashing/v3/consistent_hashing.proto.html#extension-envoy-matching-input-matchers-consistent-hashing"><span class="std std-ref">envoy.matching.input_matchers.consistent_hashing</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/retry/host/omit_canary_hosts/v3/omit_canary_hosts.proto.html#extension-envoy-retry-host-predicates-omit-canary-hosts"><span class="std std-ref">envoy.retry_host_predicates.omit_canary_hosts</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/retry/host/omit_host_metadata/v3/omit_host_metadata_config.proto.html#extension-envoy-retry-host-predicates-omit-host-metadata"><span class="std std-ref">envoy.retry_host_predicates.omit_host_metadata</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/retry/host/previous_hosts/v3/previous_hosts.proto.html#extension-envoy-retry-host-predicates-previous-hosts"><span class="std std-ref">envoy.retry_host_predicates.previous_hosts</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/retry/priority/previous_priorities/v3/previous_priorities_config.proto.html#extension-envoy-retry-priorities-previous-priorities"><span class="std std-ref">envoy.retry_priorities.previous_priorities</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/config/trace/v3/datadog.proto.html#extension-envoy-tracers-datadog"><span class="std std-ref">envoy.tracers.datadog</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/config/trace/v3/dynamic_ot.proto.html#extension-envoy-tracers-dynamic-ot"><span class="std std-ref">envoy.tracers.dynamic_ot</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/config/trace/v3/lightstep.proto.html#extension-envoy-tracers-lightstep"><span class="std std-ref">envoy.tracers.lightstep</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/config/trace/v3/opencensus.proto.html#extension-envoy-tracers-opencensus"><span class="std std-ref">envoy.tracers.opencensus</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/config/trace/v3/xray.proto.html#extension-envoy-tracers-xray"><span class="std std-ref">envoy.tracers.xray</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/config/trace/v3/zipkin.proto.html#extension-envoy-tracers-zipkin"><span class="std std-ref">envoy.tracers.zipkin</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/upstreams/http/generic/v3/generic_connection_pool.proto.html#extension-envoy-upstreams-http-generic"><span class="std std-ref">envoy.upstreams.http.generic</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/upstreams/http/http/v3/http_connection_pool.proto.html#extension-envoy-upstreams-http-http"><span class="std std-ref">envoy.upstreams.http.http</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/upstreams/http/v3/http_protocol_options.proto.html#extension-envoy-upstreams-http-http-protocol-options"><span class="std std-ref">envoy.upstreams.http.http_protocol_options</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/upstreams/http/tcp/v3/tcp_connection_pool.proto.html#extension-envoy-upstreams-http-tcp"><span class="std std-ref">envoy.upstreams.http.tcp</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/upstreams/tcp/generic/v3/generic_connection_pool.proto.html#extension-envoy-upstreams-tcp-generic"><span class="std std-ref">envoy.upstreams.tcp.generic</span></a></p></li>
</ul>
<p>The following extensions should only be used when both the downstream and upstream are trusted:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../api-v3/extensions/clusters/aggregate/v3/cluster.proto.html#extension-envoy-clusters-aggregate"><span class="std std-ref">envoy.clusters.aggregate</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/clusters/redis/v3/redis_cluster.proto.html#extension-envoy-clusters-redis"><span class="std std-ref">envoy.clusters.redis</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/aws_lambda/v3/aws_lambda.proto.html#extension-envoy-filters-http-aws-lambda"><span class="std std-ref">envoy.filters.http.aws_lambda</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/aws_request_signing/v3/aws_request_signing.proto.html#extension-envoy-filters-http-aws-request-signing"><span class="std std-ref">envoy.filters.http.aws_request_signing</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/dynamo/v3/dynamo.proto.html#extension-envoy-filters-http-dynamo"><span class="std std-ref">envoy.filters.http.dynamo</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/squash/v3/squash.proto.html#extension-envoy-filters-http-squash"><span class="std std-ref">envoy.filters.http.squash</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/tap/v3/tap.proto.html#extension-envoy-filters-http-tap"><span class="std std-ref">envoy.filters.http.tap</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/listener/http_inspector/v3/http_inspector.proto.html#extension-envoy-filters-listener-http-inspector"><span class="std std-ref">envoy.filters.listener.http_inspector</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/dubbo_proxy/v3/dubbo_proxy.proto.html#extension-envoy-filters-network-dubbo-proxy"><span class="std std-ref">envoy.filters.network.dubbo_proxy</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/mongo_proxy/v3/mongo_proxy.proto.html#extension-envoy-filters-network-mongo-proxy"><span class="std std-ref">envoy.filters.network.mongo_proxy</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/mysql_proxy/v3/mysql_proxy.proto.html#extension-envoy-filters-network-mysql-proxy"><span class="std std-ref">envoy.filters.network.mysql_proxy</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/postgres_proxy/v3alpha/postgres_proxy.proto.html#extension-envoy-filters-network-postgres-proxy"><span class="std std-ref">envoy.filters.network.postgres_proxy</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/redis_proxy/v3/redis_proxy.proto.html#extension-envoy-filters-network-redis-proxy"><span class="std std-ref">envoy.filters.network.redis_proxy</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/rocketmq_proxy/v3/rocketmq_proxy.proto.html#extension-envoy-filters-network-rocketmq-proxy"><span class="std std-ref">envoy.filters.network.rocketmq_proxy</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/thrift_proxy/v3/thrift_proxy.proto.html#extension-envoy-filters-network-thrift-proxy"><span class="std std-ref">envoy.filters.network.thrift_proxy</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/zookeeper_proxy/v3/zookeeper_proxy.proto.html#extension-envoy-filters-network-zookeeper-proxy"><span class="std std-ref">envoy.filters.network.zookeeper_proxy</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/thrift_proxy/filters/ratelimit/v3/rate_limit.proto.html#extension-envoy-filters-thrift-ratelimit"><span class="std std-ref">envoy.filters.thrift.ratelimit</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/thrift_proxy/router/v3/router.proto.html#extension-envoy-filters-thrift-router"><span class="std std-ref">envoy.filters.thrift.router</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/health_checkers/redis/v3/redis.proto.html#extension-envoy-health-checkers-redis"><span class="std std-ref">envoy.health_checkers.redis</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/transport_sockets/raw_buffer/v3/raw_buffer.proto.html#extension-envoy-transport-sockets-raw-buffer"><span class="std std-ref">envoy.transport_sockets.raw_buffer</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/transport_sockets/tap/v3/tap.proto.html#extension-envoy-transport-sockets-tap"><span class="std std-ref">envoy.transport_sockets.tap</span></a> (alpha)</p></li>
</ul>
<p>The following extensions have an unknown security posture:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../api-v3/extensions/access_loggers/wasm/v3/wasm.proto.html#extension-envoy-access-loggers-wasm"><span class="std std-ref">envoy.access_loggers.wasm</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/wasm/v3/wasm.proto.html#extension-envoy-bootstrap-wasm"><span class="std std-ref">envoy.bootstrap.wasm</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/adaptive_concurrency/v3/adaptive_concurrency.proto.html#extension-envoy-filters-http-adaptive-concurrency"><span class="std std-ref">envoy.filters.http.adaptive_concurrency</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/admission_control/v3alpha/admission_control.proto.html#extension-envoy-filters-http-admission-control"><span class="std std-ref">envoy.filters.http.admission_control</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/bandwidth_limit/v3alpha/bandwidth_limit.proto.html#extension-envoy-filters-http-bandwidth-limit"><span class="std std-ref">envoy.filters.http.bandwidth_limit</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/cdn_loop/v3alpha/cdn_loop.proto.html#extension-envoy-filters-http-cdn-loop"><span class="std std-ref">envoy.filters.http.cdn_loop</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/composite/v3/composite.proto.html#extension-envoy-filters-http-composite"><span class="std std-ref">envoy.filters.http.composite</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/ext_proc/v3alpha/processing_mode.proto.html#extension-envoy-filters-http-ext-proc"><span class="std std-ref">envoy.filters.http.ext_proc</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/grpc_http1_bridge/v3/config.proto.html#extension-envoy-filters-http-grpc-http1-bridge"><span class="std std-ref">envoy.filters.http.grpc_http1_bridge</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/grpc_http1_reverse_bridge/v3/config.proto.html#extension-envoy-filters-http-grpc-http1-reverse-bridge"><span class="std std-ref">envoy.filters.http.grpc_http1_reverse_bridge</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/grpc_stats/v3/config.proto.html#extension-envoy-filters-http-grpc-stats"><span class="std std-ref">envoy.filters.http.grpc_stats</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/local_ratelimit/v3/local_rate_limit.proto.html#extension-envoy-filters-http-local-ratelimit"><span class="std std-ref">envoy.filters.http.local_ratelimit</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/http/wasm/v3/wasm.proto.html#extension-envoy-filters-http-wasm"><span class="std std-ref">envoy.filters.http.wasm</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/direct_response/v3/config.proto.html#extension-envoy-filters-network-direct-response"><span class="std std-ref">envoy.filters.network.direct_response</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/echo/v3/echo.proto.html#extension-envoy-filters-network-echo"><span class="std std-ref">envoy.filters.network.echo</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/sni_cluster/v3/sni_cluster.proto.html#extension-envoy-filters-network-sni-cluster"><span class="std std-ref">envoy.filters.network.sni_cluster</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/sni_dynamic_forward_proxy/v3alpha/sni_dynamic_forward_proxy.proto.html#extension-envoy-filters-network-sni-dynamic-forward-proxy"><span class="std std-ref">envoy.filters.network.sni_dynamic_forward_proxy</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/filters/network/wasm/v3/wasm.proto.html#extension-envoy-filters-network-wasm"><span class="std std-ref">envoy.filters.network.wasm</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/rate_limit_descriptors/expr/v3/expr.proto.html#extension-envoy-rate-limit-descriptors-expr"><span class="std std-ref">envoy.rate_limit_descriptors.expr</span></a></p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/wasm/v3/wasm.proto.html#extension-envoy-wasm-runtime-null"><span class="std std-ref">envoy.wasm.runtime.null</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/wasm/v3/wasm.proto.html#extension-envoy-wasm-runtime-v8"><span class="std std-ref">envoy.wasm.runtime.v8</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/wasm/v3/wasm.proto.html#extension-envoy-wasm-runtime-wasmtime"><span class="std std-ref">envoy.wasm.runtime.wasmtime</span></a> (alpha)</p></li>
<li><p><a class="reference internal" href="../../../api-v3/extensions/wasm/v3/wasm.proto.html#extension-envoy-wasm-runtime-wavm"><span class="std std-ref">envoy.wasm.runtime.wavm</span></a> (alpha)</p></li>
</ul>
<p>Envoy currently has two dynamic filter extensions that support loadable code; WASM and Lua. In both
cases, we assume that the dynamically loaded code is trusted. We expect the runtime for Lua to be
robust to untrusted data plane traffic with the assumption of a trusted script. WASM is still in
development, but will eventually have a similar security stance.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="external_deps.html" class="btn btn-neutral float-right" title="External dependencies" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="rbac_filter.html" class="btn btn-neutral float-left" title="Role Based Access Control" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2016-2021, Envoy Project Authors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Health Discovery Service (HDS) &mdash; envoy 1.17.0-dev-5607d1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/sphinx_tabs/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/copybutton.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
        <script src="../../../../_static/clipboard.min.js"></script>
        <script src="../../../../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Metrics service" href="../../metrics/v3/metrics_service.proto.html" />
    <link rel="prev" title="Load Reporting service (LRS)" href="../../load_stats/v3/lrs.proto.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html">
          

          
            
            <img src="../../../../_static/envoy-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.17.0-dev-5607d1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../api/api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../api/api_supported_versions.html">Supported API versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api-v2/api.html">v2 API reference</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../api.html">v3 API reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../bootstrap/bootstrap.html">Bootstrap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../listeners/listeners.html">Listeners</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../clusters/clusters.html">Clusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../http_routes/http_routes.html">HTTP route management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../config/config.html">Extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../admin/admin.html">Admin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../data/data.html">Envoy data</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../service.html">Services</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../accesslog/v3/als.proto.html">gRPC Access Log Service (ALS)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../load_stats/v3/lrs.proto.html">Load Reporting service (LRS)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../auth/v3/attribute_context.proto.html">Attribute Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../auth/v3/external_auth.proto.html">Authorization Service</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Health Discovery Service (HDS)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../metrics/v3/metrics_service.proto.html">Metrics service</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ratelimit/v3/rls.proto.html">Rate Limit Service (RLS)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../runtime/v3/rtds.proto.html">Runtime Discovery Service (RTDS)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../status/v3/csds.proto.html">Client Status Discovery Service (CSDS)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tap/v3/tap.proto.html">Tap Sink Service</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../config/tap/v3/common.proto.html">Common tap configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../trace/v3/trace_service.proto.html">Trace service</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../extension/v3/config_discovery.proto.html">Extension Config Discovery Service (ECDS)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../common_messages/common_messages.html">Common messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../types/types.html">Types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api-docs/xds_protocol.html">xDS REST and gRPC protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api/client_features.html">Well Known Client Features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faq/overview.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../version_history/version_history.html">Version history</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">envoy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../../api/api.html">API</a> &raquo;</li>
        
          <li><a href="../../../api.html">v3 API reference</a> &raquo;</li>
        
          <li><a href="../../service.html">Services</a> &raquo;</li>
        
      <li>Health Discovery Service (HDS)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../_sources/api-v3/service/health/v3/hds.proto.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="health-discovery-service-hds">
<span id="envoy-v3-api-file-envoy-service-health-v3-hds-proto"></span><h1>Health Discovery Service (HDS)<a class="headerlink" href="#health-discovery-service-hds" title="Permalink to this headline">¶</a></h1>
<div class="section" id="service-health-v3-capability">
<span id="envoy-v3-api-msg-service-health-v3-capability"></span><h2>service.health.v3.Capability<a class="headerlink" href="#service-health-v3-capability" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/5607d1bdd693c145bad019763399817a4f80a3dc/api/envoy/service/health/v3/hds.proto#L79">[service.health.v3.Capability proto]</a></p>
<p>Defines supported protocols etc, so the management server can assign proper
endpoints to healthcheck.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;health_check_protocols&quot;</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-capability-health-check-protocols">
<dt>health_check_protocols</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-enum-service-health-v3-capability-protocol"><span class="std std-ref">service.health.v3.Capability.Protocol</span></a>)</p>
</dd>
</dl>
</div>
<div class="section" id="enum-service-health-v3-capability-protocol">
<span id="envoy-v3-api-enum-service-health-v3-capability-protocol"></span><h2>Enum service.health.v3.Capability.Protocol<a class="headerlink" href="#enum-service-health-v3-capability-protocol" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/5607d1bdd693c145bad019763399817a4f80a3dc/api/envoy/service/health/v3/hds.proto#L85">[service.health.v3.Capability.Protocol proto]</a></p>
<p>Different Envoy instances may have different capabilities (e.g. Redis)
and/or have ports enabled for different protocols.</p>
<dl class="simple" id="envoy-v3-api-enum-value-service-health-v3-capability-protocol-http">
<dt>HTTP</dt><dd><p><em>(DEFAULT)</em> ⁣</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-service-health-v3-capability-protocol-tcp">
<dt>TCP</dt><dd><p>⁣</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-service-health-v3-capability-protocol-redis">
<dt>REDIS</dt><dd><p>⁣</p>
</dd>
</dl>
</div>
<div class="section" id="service-health-v3-healthcheckrequest">
<span id="envoy-v3-api-msg-service-health-v3-healthcheckrequest"></span><h2>service.health.v3.HealthCheckRequest<a class="headerlink" href="#service-health-v3-healthcheckrequest" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/5607d1bdd693c145bad019763399817a4f80a3dc/api/envoy/service/health/v3/hds.proto#L94">[service.health.v3.HealthCheckRequest proto]</a></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;node&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;capability&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-healthcheckrequest-node">
<dt>node</dt><dd><p>(<a class="reference internal" href="../../../config/core/v3/base.proto.html#envoy-v3-api-msg-config-core-v3-node"><span class="std std-ref">config.core.v3.Node</span></a>)</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-healthcheckrequest-capability">
<dt>capability</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-service-health-v3-capability"><span class="std std-ref">service.health.v3.Capability</span></a>)</p>
</dd>
</dl>
</div>
<div class="section" id="service-health-v3-endpointhealth">
<span id="envoy-v3-api-msg-service-health-v3-endpointhealth"></span><h2>service.health.v3.EndpointHealth<a class="headerlink" href="#service-health-v3-endpointhealth" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/5607d1bdd693c145bad019763399817a4f80a3dc/api/envoy/service/health/v3/hds.proto#L103">[service.health.v3.EndpointHealth proto]</a></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;endpoint&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;health_status&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-endpointhealth-endpoint">
<dt>endpoint</dt><dd><p>(<a class="reference internal" href="../../../config/endpoint/v3/endpoint_components.proto.html#envoy-v3-api-msg-config-endpoint-v3-endpoint"><span class="std std-ref">config.endpoint.v3.Endpoint</span></a>)</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-endpointhealth-health-status">
<dt>health_status</dt><dd><p>(<a class="reference internal" href="../../../config/core/v3/health_check.proto.html#envoy-v3-api-enum-config-core-v3-healthstatus"><span class="std std-ref">config.core.v3.HealthStatus</span></a>)</p>
</dd>
</dl>
</div>
<div class="section" id="service-health-v3-localityendpointshealth">
<span id="envoy-v3-api-msg-service-health-v3-localityendpointshealth"></span><h2>service.health.v3.LocalityEndpointsHealth<a class="headerlink" href="#service-health-v3-localityendpointshealth" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/5607d1bdd693c145bad019763399817a4f80a3dc/api/envoy/service/health/v3/hds.proto#L113">[service.health.v3.LocalityEndpointsHealth proto]</a></p>
<p>Group endpoint health by locality under each cluster.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;locality&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;endpoints_health&quot;</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-localityendpointshealth-locality">
<dt>locality</dt><dd><p>(<a class="reference internal" href="../../../config/core/v3/base.proto.html#envoy-v3-api-msg-config-core-v3-locality"><span class="std std-ref">config.core.v3.Locality</span></a>)</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-localityendpointshealth-endpoints-health">
<dt>endpoints_health</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-service-health-v3-endpointhealth"><span class="std std-ref">service.health.v3.EndpointHealth</span></a>)</p>
</dd>
</dl>
</div>
<div class="section" id="service-health-v3-clusterendpointshealth">
<span id="envoy-v3-api-msg-service-health-v3-clusterendpointshealth"></span><h2>service.health.v3.ClusterEndpointsHealth<a class="headerlink" href="#service-health-v3-clusterendpointshealth" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/5607d1bdd693c145bad019763399817a4f80a3dc/api/envoy/service/health/v3/hds.proto#L121">[service.health.v3.ClusterEndpointsHealth proto]</a></p>
<p>The health status of endpoints in a cluster. The cluster name and locality
should match the corresponding fields in ClusterHealthCheck message.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;cluster_name&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;locality_endpoints_health&quot;</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-clusterendpointshealth-cluster-name">
<dt>cluster_name</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>)</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-clusterendpointshealth-locality-endpoints-health">
<dt>locality_endpoints_health</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-service-health-v3-localityendpointshealth"><span class="std std-ref">service.health.v3.LocalityEndpointsHealth</span></a>)</p>
</dd>
</dl>
</div>
<div class="section" id="service-health-v3-endpointhealthresponse">
<span id="envoy-v3-api-msg-service-health-v3-endpointhealthresponse"></span><h2>service.health.v3.EndpointHealthResponse<a class="headerlink" href="#service-health-v3-endpointhealthresponse" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/5607d1bdd693c145bad019763399817a4f80a3dc/api/envoy/service/health/v3/hds.proto#L127">[service.health.v3.EndpointHealthResponse proto]</a></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;endpoints_health&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="nt">&quot;cluster_endpoints_health&quot;</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-endpointhealthresponse-endpoints-health">
<dt>endpoints_health</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-service-health-v3-endpointhealth"><span class="std std-ref">service.health.v3.EndpointHealth</span></a>) Deprecated - Flat list of endpoint health information.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-endpointhealthresponse-cluster-endpoints-health">
<dt>cluster_endpoints_health</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-service-health-v3-clusterendpointshealth"><span class="std std-ref">service.health.v3.ClusterEndpointsHealth</span></a>) Organize Endpoint health information by cluster.</p>
</dd>
</dl>
</div>
<div class="section" id="service-health-v3-healthcheckrequestorendpointhealthresponse">
<span id="envoy-v3-api-msg-service-health-v3-healthcheckrequestorendpointhealthresponse"></span><h2>service.health.v3.HealthCheckRequestOrEndpointHealthResponse<a class="headerlink" href="#service-health-v3-healthcheckrequestorendpointhealthresponse" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/5607d1bdd693c145bad019763399817a4f80a3dc/api/envoy/service/health/v3/hds.proto#L138">[service.health.v3.HealthCheckRequestOrEndpointHealthResponse proto]</a></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;health_check_request&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;endpoint_health_response&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl id="envoy-v3-api-field-service-health-v3-healthcheckrequestorendpointhealthresponse-health-check-request">
<dt>health_check_request</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-service-health-v3-healthcheckrequest"><span class="std std-ref">service.health.v3.HealthCheckRequest</span></a>)</p>
<p>Only one of <a class="reference internal" href="#envoy-v3-api-field-service-health-v3-healthcheckrequestorendpointhealthresponse-health-check-request"><span class="std std-ref">health_check_request</span></a>, <a class="reference internal" href="#envoy-v3-api-field-service-health-v3-healthcheckrequestorendpointhealthresponse-endpoint-health-response"><span class="std std-ref">endpoint_health_response</span></a> may be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-service-health-v3-healthcheckrequestorendpointhealthresponse-endpoint-health-response">
<dt>endpoint_health_response</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-service-health-v3-endpointhealthresponse"><span class="std std-ref">service.health.v3.EndpointHealthResponse</span></a>)</p>
<p>Only one of <a class="reference internal" href="#envoy-v3-api-field-service-health-v3-healthcheckrequestorendpointhealthresponse-health-check-request"><span class="std std-ref">health_check_request</span></a>, <a class="reference internal" href="#envoy-v3-api-field-service-health-v3-healthcheckrequestorendpointhealthresponse-endpoint-health-response"><span class="std std-ref">endpoint_health_response</span></a> may be set.</p>
</dd>
</dl>
</div>
<div class="section" id="service-health-v3-localityendpoints">
<span id="envoy-v3-api-msg-service-health-v3-localityendpoints"></span><h2>service.health.v3.LocalityEndpoints<a class="headerlink" href="#service-health-v3-localityendpoints" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/5607d1bdd693c145bad019763399817a4f80a3dc/api/envoy/service/health/v3/hds.proto#L149">[service.health.v3.LocalityEndpoints proto]</a></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;locality&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;endpoints&quot;</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-localityendpoints-locality">
<dt>locality</dt><dd><p>(<a class="reference internal" href="../../../config/core/v3/base.proto.html#envoy-v3-api-msg-config-core-v3-locality"><span class="std std-ref">config.core.v3.Locality</span></a>)</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-localityendpoints-endpoints">
<dt>endpoints</dt><dd><p>(<a class="reference internal" href="../../../config/endpoint/v3/endpoint_components.proto.html#envoy-v3-api-msg-config-endpoint-v3-endpoint"><span class="std std-ref">config.endpoint.v3.Endpoint</span></a>)</p>
</dd>
</dl>
</div>
<div class="section" id="service-health-v3-clusterhealthcheck">
<span id="envoy-v3-api-msg-service-health-v3-clusterhealthcheck"></span><h2>service.health.v3.ClusterHealthCheck<a class="headerlink" href="#service-health-v3-clusterhealthcheck" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/5607d1bdd693c145bad019763399817a4f80a3dc/api/envoy/service/health/v3/hds.proto#L162">[service.health.v3.ClusterHealthCheck proto]</a></p>
<p>The cluster name and locality is provided to Envoy for the endpoints that it
health checks to support statistics reporting, logging and debugging by the
Envoy instance (outside of HDS). For maximum usefulness, it should match the
same cluster structure as that provided by EDS.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;cluster_name&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;health_checks&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="nt">&quot;locality_endpoints&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="nt">&quot;transport_socket_matches&quot;</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-clusterhealthcheck-cluster-name">
<dt>cluster_name</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>)</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-clusterhealthcheck-health-checks">
<dt>health_checks</dt><dd><p>(<a class="reference internal" href="../../../config/core/v3/health_check.proto.html#envoy-v3-api-msg-config-core-v3-healthcheck"><span class="std std-ref">config.core.v3.HealthCheck</span></a>)</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-clusterhealthcheck-locality-endpoints">
<dt>locality_endpoints</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-service-health-v3-localityendpoints"><span class="std std-ref">service.health.v3.LocalityEndpoints</span></a>)</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-clusterhealthcheck-transport-socket-matches">
<dt>transport_socket_matches</dt><dd><p>(<a class="reference internal" href="../../../config/cluster/v3/cluster.proto.html#envoy-v3-api-msg-config-cluster-v3-cluster-transportsocketmatch"><span class="std std-ref">config.cluster.v3.Cluster.TransportSocketMatch</span></a>) Optional map that gets filtered by <a class="reference internal" href="../../../config/core/v3/health_check.proto.html#envoy-v3-api-field-config-core-v3-healthcheck-transport-socket-match-criteria"><span class="std std-ref">health_checks.transport_socket_match_criteria</span></a>
on connection when health checking. For more details, see
<a class="reference internal" href="../../../config/cluster/v3/cluster.proto.html#envoy-v3-api-field-config-cluster-v3-cluster-transport-socket-matches"><span class="std std-ref">config.cluster.v3.Cluster.transport_socket_matches</span></a>.</p>
</dd>
</dl>
</div>
<div class="section" id="service-health-v3-healthcheckspecifier">
<span id="envoy-v3-api-msg-service-health-v3-healthcheckspecifier"></span><h2>service.health.v3.HealthCheckSpecifier<a class="headerlink" href="#service-health-v3-healthcheckspecifier" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/5607d1bdd693c145bad019763399817a4f80a3dc/api/envoy/service/health/v3/hds.proto#L178">[service.health.v3.HealthCheckSpecifier proto]</a></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;cluster_health_checks&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="nt">&quot;interval&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-healthcheckspecifier-cluster-health-checks">
<dt>cluster_health_checks</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-service-health-v3-clusterhealthcheck"><span class="std std-ref">service.health.v3.ClusterHealthCheck</span></a>)</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-service-health-v3-healthcheckspecifier-interval">
<dt>interval</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#duration">Duration</a>) The default is 1 second.</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../metrics/v3/metrics_service.proto.html" class="btn btn-neutral float-right" title="Metrics service" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../../load_stats/v3/lrs.proto.html" class="btn btn-neutral float-left" title="Load Reporting service (LRS)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2016-2020, Envoy Project Authors

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
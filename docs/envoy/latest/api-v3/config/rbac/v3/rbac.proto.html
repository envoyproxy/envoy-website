

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Role Based Access Control (RBAC) &mdash; envoy 1.20.0-dev-9f5e9f documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/tabs.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/clipboard.min.js"></script>
        <script src="../../../../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Health checkers" href="../../health_checker/health_checker.html" />
    <link rel="prev" title="RBAC" href="../rbac.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html">
          

          
            
            <img src="../../../../_static/envoy-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.20.0-dev-9f5e9f
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../api/api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../api/api_supported_versions.html">Supported API versions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../api.html">v3 API reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../bootstrap/bootstrap.html">Bootstrap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../listeners/listeners.html">Listeners</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../clusters/clusters.html">Clusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../http_routes/http_routes.html">HTTP route management</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../config.html">Extensions</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../filter/filter.html">Filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../accesslog/accesslog.html">Access loggers</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../rbac.html">RBAC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../health_checker/health_checker.html">Health checkers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../transport_socket/transport_socket.html">Transport sockets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../resource_monitor/resource_monitor.html">Resource monitors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../common/common.html">Common</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compression/compression.html">Compression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cluster/cluster.html">Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../grpc_credential/grpc_credential.html">Grpc Credentials</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../retry/retry.html">Retry Predicates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../trace/trace.html">HTTP Tracers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../internal_redirect/internal_redirect.html">Internal Redirect Predicates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../endpoint/endpoint.html">Endpoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../upstream/upstream.html">Upstream Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wasm/wasm.html">WASM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../watchdog/watchdog.html">Watchdog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../descriptors/descriptors.html">Rate limit descriptors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../request_id/request_id.html">Request ID</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../http/header_formatters.html">HTTP header formatters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../http/original_ip_detection.html">Original IP Detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../stat_sinks/stat_sinks.html">Stat sinks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../quic/quic_extensions.html">Quic Extensions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../formatter/formatter.html">Access log formatters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../admin/admin.html">Admin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../data/data.html">Envoy data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../service/service.html">Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../common_messages/common_messages.html">Common messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../types/types.html">Types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api-docs/xds_protocol.html">xDS REST and gRPC protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api/client_features.html">Well Known Client Features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faq/overview.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../version_history/version_history.html">Version history</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">envoy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../../api/api.html">API</a> &raquo;</li>
        
          <li><a href="../../../api.html">v3 API reference</a> &raquo;</li>
        
          <li><a href="../../config.html">Extensions</a> &raquo;</li>
        
          <li><a href="../rbac.html">RBAC</a> &raquo;</li>
        
      <li>Role Based Access Control (RBAC)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/api-v3/config/rbac/v3/rbac.proto.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="role-based-access-control-rbac">
<span id="envoy-v3-api-file-envoy-config-rbac-v3-rbac-proto"></span><h1>Role Based Access Control (RBAC)<a class="headerlink" href="#role-based-access-control-rbac" title="Permalink to this headline">¶</a></h1>
<p>This documentation is for the Envoy v3 API.</p>
<p>As of Envoy v1.18 the v2 API has been removed and is no longer supported.</p>
<p>If you are upgrading from v2 API config you may wish to view the v2 API documentation:</p>
<blockquote>
<div><p><a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.17.2/api-v2/config/rbac/v2/rbac.proto.html#envoy-api-file-envoy-config-rbac-v2-rbac-proto" title="(in envoy vtag-v1.17.2)"><span class="xref std std-ref">config/rbac/v2/rbac.proto</span></a></p>
</div></blockquote>
<div class="section" id="config-rbac-v3-rbac">
<span id="envoy-v3-api-msg-config-rbac-v3-rbac"></span><h2>config.rbac.v3.RBAC<a class="headerlink" href="#config-rbac-v3-rbac" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/9f5e9fbadbb132a2b664131b96ef438eaa4e9cd6/api/envoy/config/rbac/v3/rbac.proto#L76">[config.rbac.v3.RBAC proto]</a></p>
<p>Role Based Access Control (RBAC) provides service-level and method-level access control for a
service. Requests are allowed or denied based on the <cite>action</cite> and whether a matching policy is
found. For instance, if the action is ALLOW and a matching policy is found the request should be
allowed.</p>
<p>RBAC can also be used to make access logging decisions by communicating with access loggers
through dynamic metadata. When the action is LOG and at least one policy matches, the
<cite>access_log_hint</cite> value in the shared key namespace ‘envoy.common’ is set to <cite>true</cite> indicating
the request should be logged.</p>
<p>Here is an example of RBAC configuration. It has two policies:</p>
<ul class="simple">
<li><p>Service account “cluster.local/ns/default/sa/admin” has full access to the service, and so
does “cluster.local/ns/default/sa/superuser”.</p></li>
<li><p>Any user can read (“GET”) the service at paths with prefix “/products”, so long as the
destination port is either 80 or 443.</p></li>
</ul>
<blockquote>
<div><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">action</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ALLOW</span>
<span class="nt">policies</span><span class="p">:</span>
  <span class="s">&quot;service-admin&quot;</span><span class="p p-Indicator">:</span>
    <span class="nt">permissions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">any</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="nt">principals</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">authenticated</span><span class="p">:</span>
          <span class="nt">principal_name</span><span class="p">:</span>
            <span class="nt">exact</span><span class="p">:</span> <span class="s">&quot;cluster.local/ns/default/sa/admin&quot;</span>
      <span class="p p-Indicator">-</span> <span class="nt">authenticated</span><span class="p">:</span>
          <span class="nt">principal_name</span><span class="p">:</span>
            <span class="nt">exact</span><span class="p">:</span> <span class="s">&quot;cluster.local/ns/default/sa/superuser&quot;</span>
  <span class="s">&quot;product-viewer&quot;</span><span class="p p-Indicator">:</span>
    <span class="nt">permissions</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">and_rules</span><span class="p">:</span>
            <span class="nt">rules</span><span class="p">:</span>
              <span class="p p-Indicator">-</span> <span class="nt">header</span><span class="p">:</span>
                  <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;:method&quot;</span>
                  <span class="nt">string_match</span><span class="p">:</span>
                    <span class="nt">exact</span><span class="p">:</span> <span class="s">&quot;GET&quot;</span>
              <span class="p p-Indicator">-</span> <span class="nt">url_path</span><span class="p">:</span>
                  <span class="nt">path</span><span class="p">:</span> <span class="p p-Indicator">{</span><span class="nt"> prefix</span><span class="p">:</span> <span class="s">&quot;/products&quot;</span> <span class="p p-Indicator">}</span>
              <span class="p p-Indicator">-</span> <span class="nt">or_rules</span><span class="p">:</span>
                  <span class="nt">rules</span><span class="p">:</span>
                    <span class="p p-Indicator">-</span> <span class="nt">destination_port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
                    <span class="p p-Indicator">-</span> <span class="nt">destination_port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">443</span>
    <span class="nt">principals</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">any</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
</div></blockquote>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;policies&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl id="envoy-v3-api-field-config-rbac-v3-rbac-action">
<dt>action</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-enum-config-rbac-v3-rbac-action"><span class="std std-ref">config.rbac.v3.RBAC.Action</span></a>) The action to take if a policy matches. Every action either allows or denies a request,
and can also carry out action-specific operations.</p>
<p>Actions:</p>
<blockquote>
<div><ul class="simple">
<li><p>ALLOW: Allows the request if and only if there is a policy that matches
the request.</p></li>
<li><p>DENY: Allows the request if and only if there are no policies that
match the request.</p></li>
<li><p>LOG: Allows all requests. If at least one policy matches, the dynamic
metadata key <cite>access_log_hint</cite> is set to the value <cite>true</cite> under the shared
key namespace ‘envoy.common’. If no policies match, it is set to <cite>false</cite>.
Other actions do not modify this key.</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-config-rbac-v3-rbac-policies">
<dt>policies</dt><dd><p>(<strong>repeated</strong> map&lt;<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>, <a class="reference internal" href="#envoy-v3-api-msg-config-rbac-v3-policy"><span class="std std-ref">config.rbac.v3.Policy</span></a>&gt;) Maps from policy name to policy. A match occurs when at least one policy matches the request.
The policies are evaluated in lexicographic order of the policy name.</p>
</dd>
</dl>
</div>
<div class="section" id="enum-config-rbac-v3-rbac-action">
<span id="envoy-v3-api-enum-config-rbac-v3-rbac-action"></span><h2>Enum config.rbac.v3.RBAC.Action<a class="headerlink" href="#enum-config-rbac-v3-rbac-action" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/9f5e9fbadbb132a2b664131b96ef438eaa4e9cd6/api/envoy/config/rbac/v3/rbac.proto#L80">[config.rbac.v3.RBAC.Action proto]</a></p>
<p>Should we do safe-list or block-list style access control?</p>
<dl class="simple" id="envoy-v3-api-enum-value-config-rbac-v3-rbac-action-allow">
<dt>ALLOW</dt><dd><p><em>(DEFAULT)</em> ⁣The policies grant access to principals. The rest are denied. This is safe-list style
access control. This is the default type.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-config-rbac-v3-rbac-action-deny">
<dt>DENY</dt><dd><p>⁣The policies deny access to principals. The rest are allowed. This is block-list style
access control.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-config-rbac-v3-rbac-action-log">
<dt>LOG</dt><dd><p>⁣The policies set the <cite>access_log_hint</cite> dynamic metadata key based on if requests match.
All requests are allowed.</p>
</dd>
</dl>
</div>
<div class="section" id="config-rbac-v3-policy">
<span id="envoy-v3-api-msg-config-rbac-v3-policy"></span><h2>config.rbac.v3.Policy<a class="headerlink" href="#config-rbac-v3-policy" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/9f5e9fbadbb132a2b664131b96ef438eaa4e9cd6/api/envoy/config/rbac/v3/rbac.proto#L119">[config.rbac.v3.Policy proto]</a></p>
<p>Policy specifies a role and the principals that are assigned/denied the role.
A policy matches if and only if at least one of its permissions match the
action taking place AND at least one of its principals match the downstream
AND the condition is true if specified.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;permissions&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="nt">&quot;principals&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="nt">&quot;condition&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-config-rbac-v3-policy-permissions">
<dt>permissions</dt><dd><p>(<strong>repeated</strong> <a class="reference internal" href="#envoy-v3-api-msg-config-rbac-v3-permission"><span class="std std-ref">config.rbac.v3.Permission</span></a>, <em>REQUIRED</em>) Required. The set of permissions that define a role. Each permission is
matched with OR semantics. To match all actions for this policy, a single
Permission with the <cite>any</cite> field set to true should be used.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-config-rbac-v3-policy-principals">
<dt>principals</dt><dd><p>(<strong>repeated</strong> <a class="reference internal" href="#envoy-v3-api-msg-config-rbac-v3-principal"><span class="std std-ref">config.rbac.v3.Principal</span></a>, <em>REQUIRED</em>) Required. The set of principals that are assigned/denied the role based on
“action”. Each principal is matched with OR semantics. To match all
downstreams for this policy, a single Principal with the <cite>any</cite> field set to
true should be used.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-config-rbac-v3-policy-condition">
<dt>condition</dt><dd><p>(.google.api.expr.v1alpha1.Expr) An optional symbolic expression specifying an access control
<a class="reference internal" href="../../../../intro/arch_overview/security/rbac_filter.html#arch-overview-condition"><span class="std std-ref">condition</span></a>. The condition is combined
with the permissions and the principals as a clause with AND semantics.
Only be used when checked_condition is not used.</p>
</dd>
</dl>
</div>
<div class="section" id="config-rbac-v3-permission">
<span id="envoy-v3-api-msg-config-rbac-v3-permission"></span><h2>config.rbac.v3.Permission<a class="headerlink" href="#config-rbac-v3-permission" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/9f5e9fbadbb132a2b664131b96ef438eaa4e9cd6/api/envoy/config/rbac/v3/rbac.proto#L149">[config.rbac.v3.Permission proto]</a></p>
<p>Permission defines an action (or actions) that a principal can take.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;and_rules&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;or_rules&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;any&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;url_path&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;destination_ip&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;destination_port&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;destination_port_range&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;metadata&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;not_rule&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;requested_server_name&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl id="envoy-v3-api-field-config-rbac-v3-permission-and-rules">
<dt>and_rules</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-config-rbac-v3-permission-set"><span class="std std-ref">config.rbac.v3.Permission.Set</span></a>) A set of rules that all must match in order to define the action.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-and-rules"><span class="std std-ref">and_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-or-rules"><span class="std std-ref">or_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-ip"><span class="std std-ref">destination_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port"><span class="std std-ref">destination_port</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port-range"><span class="std std-ref">destination_port_range</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-not-rule"><span class="std std-ref">not_rule</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-requested-server-name"><span class="std std-ref">requested_server_name</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-permission-or-rules">
<dt>or_rules</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-config-rbac-v3-permission-set"><span class="std std-ref">config.rbac.v3.Permission.Set</span></a>) A set of rules where at least one must match in order to define the action.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-and-rules"><span class="std std-ref">and_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-or-rules"><span class="std std-ref">or_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-ip"><span class="std std-ref">destination_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port"><span class="std std-ref">destination_port</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port-range"><span class="std std-ref">destination_port_range</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-not-rule"><span class="std std-ref">not_rule</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-requested-server-name"><span class="std std-ref">requested_server_name</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-permission-any">
<dt>any</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">bool</a>) When any is set, it matches any action.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-and-rules"><span class="std std-ref">and_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-or-rules"><span class="std std-ref">or_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-ip"><span class="std std-ref">destination_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port"><span class="std std-ref">destination_port</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port-range"><span class="std std-ref">destination_port_range</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-not-rule"><span class="std std-ref">not_rule</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-requested-server-name"><span class="std std-ref">requested_server_name</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-permission-header">
<dt>header</dt><dd><p>(<a class="reference internal" href="../../route/v3/route_components.proto.html#envoy-v3-api-msg-config-route-v3-headermatcher"><span class="std std-ref">config.route.v3.HeaderMatcher</span></a>) A header (or pseudo-header such as :path or :method) on the incoming HTTP request. Only
available for HTTP request.
Note: the pseudo-header :path includes the query and fragment string. Use the <cite>url_path</cite>
field if you want to match the URL path without the query and fragment string.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-and-rules"><span class="std std-ref">and_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-or-rules"><span class="std std-ref">or_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-ip"><span class="std std-ref">destination_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port"><span class="std std-ref">destination_port</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port-range"><span class="std std-ref">destination_port_range</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-not-rule"><span class="std std-ref">not_rule</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-requested-server-name"><span class="std std-ref">requested_server_name</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-permission-url-path">
<dt>url_path</dt><dd><p>(<a class="reference internal" href="../../../type/matcher/v3/path.proto.html#envoy-v3-api-msg-type-matcher-v3-pathmatcher"><span class="std std-ref">type.matcher.v3.PathMatcher</span></a>) A URL path on the incoming HTTP request. Only available for HTTP.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-and-rules"><span class="std std-ref">and_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-or-rules"><span class="std std-ref">or_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-ip"><span class="std std-ref">destination_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port"><span class="std std-ref">destination_port</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port-range"><span class="std std-ref">destination_port_range</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-not-rule"><span class="std std-ref">not_rule</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-requested-server-name"><span class="std std-ref">requested_server_name</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-permission-destination-ip">
<dt>destination_ip</dt><dd><p>(<a class="reference internal" href="../../core/v3/address.proto.html#envoy-v3-api-msg-config-core-v3-cidrrange"><span class="std std-ref">config.core.v3.CidrRange</span></a>) A CIDR block that describes the destination IP.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-and-rules"><span class="std std-ref">and_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-or-rules"><span class="std std-ref">or_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-ip"><span class="std std-ref">destination_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port"><span class="std std-ref">destination_port</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port-range"><span class="std std-ref">destination_port_range</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-not-rule"><span class="std std-ref">not_rule</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-requested-server-name"><span class="std std-ref">requested_server_name</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-permission-destination-port">
<dt>destination_port</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">uint32</a>) A port number that describes the destination port connecting to.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-and-rules"><span class="std std-ref">and_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-or-rules"><span class="std std-ref">or_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-ip"><span class="std std-ref">destination_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port"><span class="std std-ref">destination_port</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port-range"><span class="std std-ref">destination_port_range</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-not-rule"><span class="std std-ref">not_rule</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-requested-server-name"><span class="std std-ref">requested_server_name</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-permission-destination-port-range">
<dt>destination_port_range</dt><dd><p>(<a class="reference internal" href="../../../type/v3/range.proto.html#envoy-v3-api-msg-type-v3-int32range"><span class="std std-ref">type.v3.Int32Range</span></a>) A port number range that describes a range of destination ports connecting to.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-and-rules"><span class="std std-ref">and_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-or-rules"><span class="std std-ref">or_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-ip"><span class="std std-ref">destination_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port"><span class="std std-ref">destination_port</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port-range"><span class="std std-ref">destination_port_range</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-not-rule"><span class="std std-ref">not_rule</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-requested-server-name"><span class="std std-ref">requested_server_name</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-permission-metadata">
<dt>metadata</dt><dd><p>(<a class="reference internal" href="../../../type/matcher/v3/metadata.proto.html#envoy-v3-api-msg-type-matcher-v3-metadatamatcher"><span class="std std-ref">type.matcher.v3.MetadataMatcher</span></a>) Metadata that describes additional information about the action.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-and-rules"><span class="std std-ref">and_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-or-rules"><span class="std std-ref">or_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-ip"><span class="std std-ref">destination_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port"><span class="std std-ref">destination_port</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port-range"><span class="std std-ref">destination_port_range</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-not-rule"><span class="std std-ref">not_rule</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-requested-server-name"><span class="std std-ref">requested_server_name</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-permission-not-rule">
<dt>not_rule</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-config-rbac-v3-permission"><span class="std std-ref">config.rbac.v3.Permission</span></a>) Negates matching the provided permission. For instance, if the value of
<cite>not_rule</cite> would match, this permission would not match. Conversely, if
the value of <cite>not_rule</cite> would not match, this permission would match.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-and-rules"><span class="std std-ref">and_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-or-rules"><span class="std std-ref">or_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-ip"><span class="std std-ref">destination_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port"><span class="std std-ref">destination_port</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port-range"><span class="std std-ref">destination_port_range</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-not-rule"><span class="std std-ref">not_rule</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-requested-server-name"><span class="std std-ref">requested_server_name</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-permission-requested-server-name">
<dt>requested_server_name</dt><dd><p>(<a class="reference internal" href="../../../type/matcher/v3/string.proto.html#envoy-v3-api-msg-type-matcher-v3-stringmatcher"><span class="std std-ref">type.matcher.v3.StringMatcher</span></a>) The request server from the client’s connection request. This is
typically TLS SNI.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>The behavior of this field may be affected by how Envoy is configured
as explained below.</p>
<ul class="simple">
<li><p>If the <a class="reference internal" href="../../../../configuration/listeners/listener_filters/tls_inspector.html#config-listener-filters-tls-inspector"><span class="std std-ref">TLS Inspector</span></a>
filter is not added, and if a <cite>FilterChainMatch</cite> is not defined for
the <a class="reference internal" href="../../listener/v3/listener_components.proto.html#envoy-v3-api-field-config-listener-v3-filterchainmatch-server-names"><span class="std std-ref">server name</span></a>,
a TLS connection’s requested SNI server name will be treated as if it
wasn’t present.</p></li>
<li><p>A <a class="reference internal" href="../../../../intro/arch_overview/listeners/listener_filters.html#arch-overview-listener-filters"><span class="std std-ref">listener filter</span></a> may
overwrite a connection’s requested server name within Envoy.</p></li>
</ul>
</div>
<p>Please refer to <a class="reference internal" href="../../../../faq/configuration/sni.html#faq-how-to-setup-sni"><span class="std std-ref">this FAQ entry</span></a> to learn to
setup SNI.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-and-rules"><span class="std std-ref">and_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-or-rules"><span class="std std-ref">or_rules</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-ip"><span class="std std-ref">destination_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port"><span class="std std-ref">destination_port</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-destination-port-range"><span class="std std-ref">destination_port_range</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-not-rule"><span class="std std-ref">not_rule</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-permission-requested-server-name"><span class="std std-ref">requested_server_name</span></a> must be set.</p>
</dd>
</dl>
</div>
<div class="section" id="config-rbac-v3-permission-set">
<span id="envoy-v3-api-msg-config-rbac-v3-permission-set"></span><h2>config.rbac.v3.Permission.Set<a class="headerlink" href="#config-rbac-v3-permission-set" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/9f5e9fbadbb132a2b664131b96ef438eaa4e9cd6/api/envoy/config/rbac/v3/rbac.proto#L154">[config.rbac.v3.Permission.Set proto]</a></p>
<p>Used in the <cite>and_rules</cite> and <cite>or_rules</cite> fields in the <cite>rule</cite> oneof. Depending on the context,
each are applied with the associated behavior.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;rules&quot;</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-config-rbac-v3-permission-set-rules">
<dt>rules</dt><dd><p>(<strong>repeated</strong> <a class="reference internal" href="#envoy-v3-api-msg-config-rbac-v3-permission"><span class="std std-ref">config.rbac.v3.Permission</span></a>, <em>REQUIRED</em>)</p>
</dd>
</dl>
</div>
<div class="section" id="config-rbac-v3-principal">
<span id="envoy-v3-api-msg-config-rbac-v3-principal"></span><h2>config.rbac.v3.Principal<a class="headerlink" href="#config-rbac-v3-principal" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/9f5e9fbadbb132a2b664131b96ef438eaa4e9cd6/api/envoy/config/rbac/v3/rbac.proto#L226">[config.rbac.v3.Principal proto]</a></p>
<p>Principal defines an identity or a group of identities for a downstream
subject.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;and_ids&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;or_ids&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;any&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;authenticated&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source_ip&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;direct_remote_ip&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;remote_ip&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;url_path&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;metadata&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;not_id&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl id="envoy-v3-api-field-config-rbac-v3-principal-and-ids">
<dt>and_ids</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-config-rbac-v3-principal-set"><span class="std std-ref">config.rbac.v3.Principal.Set</span></a>) A set of identifiers that all must match in order to define the
downstream.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-and-ids"><span class="std std-ref">and_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-or-ids"><span class="std std-ref">or_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-authenticated"><span class="std std-ref">authenticated</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-source-ip"><span class="std std-ref">source_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-direct-remote-ip"><span class="std std-ref">direct_remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-remote-ip"><span class="std std-ref">remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-not-id"><span class="std std-ref">not_id</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-principal-or-ids">
<dt>or_ids</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-config-rbac-v3-principal-set"><span class="std std-ref">config.rbac.v3.Principal.Set</span></a>) A set of identifiers at least one must match in order to define the
downstream.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-and-ids"><span class="std std-ref">and_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-or-ids"><span class="std std-ref">or_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-authenticated"><span class="std std-ref">authenticated</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-source-ip"><span class="std std-ref">source_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-direct-remote-ip"><span class="std std-ref">direct_remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-remote-ip"><span class="std std-ref">remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-not-id"><span class="std std-ref">not_id</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-principal-any">
<dt>any</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">bool</a>) When any is set, it matches any downstream.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-and-ids"><span class="std std-ref">and_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-or-ids"><span class="std std-ref">or_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-authenticated"><span class="std std-ref">authenticated</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-source-ip"><span class="std std-ref">source_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-direct-remote-ip"><span class="std std-ref">direct_remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-remote-ip"><span class="std std-ref">remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-not-id"><span class="std std-ref">not_id</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-principal-authenticated">
<dt>authenticated</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-config-rbac-v3-principal-authenticated"><span class="std std-ref">config.rbac.v3.Principal.Authenticated</span></a>) Authenticated attributes that identify the downstream.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-and-ids"><span class="std std-ref">and_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-or-ids"><span class="std std-ref">or_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-authenticated"><span class="std std-ref">authenticated</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-source-ip"><span class="std std-ref">source_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-direct-remote-ip"><span class="std std-ref">direct_remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-remote-ip"><span class="std std-ref">remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-not-id"><span class="std std-ref">not_id</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-principal-source-ip">
<dt>source_ip</dt><dd><p>(<a class="reference internal" href="../../core/v3/address.proto.html#envoy-v3-api-msg-config-core-v3-cidrrange"><span class="std std-ref">config.core.v3.CidrRange</span></a>) A CIDR block that describes the downstream IP.
This address will honor proxy protocol, but will not honor XFF.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-and-ids"><span class="std std-ref">and_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-or-ids"><span class="std std-ref">or_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-authenticated"><span class="std std-ref">authenticated</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-source-ip"><span class="std std-ref">source_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-direct-remote-ip"><span class="std std-ref">direct_remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-remote-ip"><span class="std std-ref">remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-not-id"><span class="std std-ref">not_id</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-principal-direct-remote-ip">
<dt>direct_remote_ip</dt><dd><p>(<a class="reference internal" href="../../core/v3/address.proto.html#envoy-v3-api-msg-config-core-v3-cidrrange"><span class="std std-ref">config.core.v3.CidrRange</span></a>) A CIDR block that describes the downstream remote/origin address.
Note: This is always the physical peer even if the
<a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-remote-ip"><span class="std std-ref">remote_ip</span></a> is
inferred from for example the x-forwarder-for header, proxy protocol,
etc.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-and-ids"><span class="std std-ref">and_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-or-ids"><span class="std std-ref">or_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-authenticated"><span class="std std-ref">authenticated</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-source-ip"><span class="std std-ref">source_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-direct-remote-ip"><span class="std std-ref">direct_remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-remote-ip"><span class="std std-ref">remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-not-id"><span class="std std-ref">not_id</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-principal-remote-ip">
<dt>remote_ip</dt><dd><p>(<a class="reference internal" href="../../core/v3/address.proto.html#envoy-v3-api-msg-config-core-v3-cidrrange"><span class="std std-ref">config.core.v3.CidrRange</span></a>) A CIDR block that describes the downstream remote/origin address.
Note: This may not be the physical peer and could be different from the
<a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-direct-remote-ip"><span class="std std-ref">direct_remote_ip</span></a>. E.g, if the
remote ip is inferred from for example the x-forwarder-for header, proxy
protocol, etc.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-and-ids"><span class="std std-ref">and_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-or-ids"><span class="std std-ref">or_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-authenticated"><span class="std std-ref">authenticated</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-source-ip"><span class="std std-ref">source_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-direct-remote-ip"><span class="std std-ref">direct_remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-remote-ip"><span class="std std-ref">remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-not-id"><span class="std std-ref">not_id</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-principal-header">
<dt>header</dt><dd><p>(<a class="reference internal" href="../../route/v3/route_components.proto.html#envoy-v3-api-msg-config-route-v3-headermatcher"><span class="std std-ref">config.route.v3.HeaderMatcher</span></a>) A header (or pseudo-header such as :path or :method) on the incoming HTTP
request. Only available for HTTP request. Note: the pseudo-header :path
includes the query and fragment string. Use the <cite>url_path</cite> field if you
want to match the URL path without the query and fragment string.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-and-ids"><span class="std std-ref">and_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-or-ids"><span class="std std-ref">or_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-authenticated"><span class="std std-ref">authenticated</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-source-ip"><span class="std std-ref">source_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-direct-remote-ip"><span class="std std-ref">direct_remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-remote-ip"><span class="std std-ref">remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-not-id"><span class="std std-ref">not_id</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-principal-url-path">
<dt>url_path</dt><dd><p>(<a class="reference internal" href="../../../type/matcher/v3/path.proto.html#envoy-v3-api-msg-type-matcher-v3-pathmatcher"><span class="std std-ref">type.matcher.v3.PathMatcher</span></a>) A URL path on the incoming HTTP request. Only available for HTTP.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-and-ids"><span class="std std-ref">and_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-or-ids"><span class="std std-ref">or_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-authenticated"><span class="std std-ref">authenticated</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-source-ip"><span class="std std-ref">source_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-direct-remote-ip"><span class="std std-ref">direct_remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-remote-ip"><span class="std std-ref">remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-not-id"><span class="std std-ref">not_id</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-principal-metadata">
<dt>metadata</dt><dd><p>(<a class="reference internal" href="../../../type/matcher/v3/metadata.proto.html#envoy-v3-api-msg-type-matcher-v3-metadatamatcher"><span class="std std-ref">type.matcher.v3.MetadataMatcher</span></a>) Metadata that describes additional information about the principal.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-and-ids"><span class="std std-ref">and_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-or-ids"><span class="std std-ref">or_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-authenticated"><span class="std std-ref">authenticated</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-source-ip"><span class="std std-ref">source_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-direct-remote-ip"><span class="std std-ref">direct_remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-remote-ip"><span class="std std-ref">remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-not-id"><span class="std std-ref">not_id</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-config-rbac-v3-principal-not-id">
<dt>not_id</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-config-rbac-v3-principal"><span class="std std-ref">config.rbac.v3.Principal</span></a>) Negates matching the provided principal. For instance, if the value of
<cite>not_id</cite> would match, this principal would not match. Conversely, if the
value of <cite>not_id</cite> would not match, this principal would match.</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-and-ids"><span class="std std-ref">and_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-or-ids"><span class="std std-ref">or_ids</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-any"><span class="std std-ref">any</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-authenticated"><span class="std std-ref">authenticated</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-source-ip"><span class="std std-ref">source_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-direct-remote-ip"><span class="std std-ref">direct_remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-remote-ip"><span class="std std-ref">remote_ip</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-header"><span class="std std-ref">header</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-url-path"><span class="std std-ref">url_path</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-metadata"><span class="std std-ref">metadata</span></a>, <a class="reference internal" href="#envoy-v3-api-field-config-rbac-v3-principal-not-id"><span class="std std-ref">not_id</span></a> must be set.</p>
</dd>
</dl>
</div>
<div class="section" id="config-rbac-v3-principal-set">
<span id="envoy-v3-api-msg-config-rbac-v3-principal-set"></span><h2>config.rbac.v3.Principal.Set<a class="headerlink" href="#config-rbac-v3-principal-set" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/9f5e9fbadbb132a2b664131b96ef438eaa4e9cd6/api/envoy/config/rbac/v3/rbac.proto#L231">[config.rbac.v3.Principal.Set proto]</a></p>
<p>Used in the <cite>and_ids</cite> and <cite>or_ids</cite> fields in the <cite>identifier</cite> oneof.
Depending on the context, each are applied with the associated behavior.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;ids&quot;</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-config-rbac-v3-principal-set-ids">
<dt>ids</dt><dd><p>(<strong>repeated</strong> <a class="reference internal" href="#envoy-v3-api-msg-config-rbac-v3-principal"><span class="std std-ref">config.rbac.v3.Principal</span></a>, <em>REQUIRED</em>)</p>
</dd>
</dl>
</div>
<div class="section" id="config-rbac-v3-principal-authenticated">
<span id="envoy-v3-api-msg-config-rbac-v3-principal-authenticated"></span><h2>config.rbac.v3.Principal.Authenticated<a class="headerlink" href="#config-rbac-v3-principal-authenticated" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/9f5e9fbadbb132a2b664131b96ef438eaa4e9cd6/api/envoy/config/rbac/v3/rbac.proto#L239">[config.rbac.v3.Principal.Authenticated proto]</a></p>
<p>Authentication attributes for a downstream.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;principal_name&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-config-rbac-v3-principal-authenticated-principal-name">
<dt>principal_name</dt><dd><p>(<a class="reference internal" href="../../../type/matcher/v3/string.proto.html#envoy-v3-api-msg-type-matcher-v3-stringmatcher"><span class="std std-ref">type.matcher.v3.StringMatcher</span></a>) The name of the principal. If set, The URI SAN or DNS SAN in that order
is used from the certificate, otherwise the subject field is used. If
unset, it applies to any user that is authenticated.</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../../health_checker/health_checker.html" class="btn btn-neutral float-right" title="Health checkers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../rbac.html" class="btn btn-neutral float-left" title="RBAC" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2016-2021, Envoy Project Authors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
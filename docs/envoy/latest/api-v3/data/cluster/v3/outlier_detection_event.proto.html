

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Outlier detection logging events &mdash; envoy 1.19.0-dev-fe8f22 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/tabs.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/clipboard.min.js"></script>
        <script src="../../../../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Core data" href="../../core/core.html" />
    <link rel="prev" title="Cluster data" href="../cluster.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html">
          

          
            
            <img src="../../../../_static/envoy-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.19.0-dev-fe8f22
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../api/api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../api/api_supported_versions.html">Supported API versions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../api.html">v3 API reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../bootstrap/bootstrap.html">Bootstrap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../listeners/listeners.html">Listeners</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../clusters/clusters.html">Clusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../http_routes/http_routes.html">HTTP route management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../config/config.html">Extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../admin/admin.html">Admin</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../data.html">Envoy data</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../accesslog/accesslog.html">Access logs</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../cluster.html">Cluster data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../core/core.html">Core data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dns/dns.html">Extensions objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tap/tap.html">Tap</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../service/service.html">Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../common_messages/common_messages.html">Common messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../types/types.html">Types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api-docs/xds_protocol.html">xDS REST and gRPC protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api/client_features.html">Well Known Client Features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faq/overview.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../version_history/version_history.html">Version history</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">envoy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../../api/api.html">API</a> &raquo;</li>
        
          <li><a href="../../../api.html">v3 API reference</a> &raquo;</li>
        
          <li><a href="../../data.html">Envoy data</a> &raquo;</li>
        
          <li><a href="../cluster.html">Cluster data</a> &raquo;</li>
        
      <li>Outlier detection logging events</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/api-v3/data/cluster/v3/outlier_detection_event.proto.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="outlier-detection-logging-events">
<span id="envoy-v3-api-file-envoy-data-cluster-v3-outlier-detection-event-proto"></span><h1>Outlier detection logging events<a class="headerlink" href="#outlier-detection-logging-events" title="Permalink to this headline">¶</a></h1>
<p>This documentation is for the Envoy v3 API.</p>
<p>As of Envoy v1.18 the v2 API has been removed and is no longer supported.</p>
<p>If you are upgrading from v2 API config you may wish to view the v2 API documentation:</p>
<blockquote>
<div><p><a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.17.2/api-v2/data/cluster/v2alpha/outlier_detection_event.proto.html#envoy-api-file-envoy-data-cluster-v2alpha-outlier-detection-event-proto" title="(in envoy vtag-v1.17.2)"><span class="xref std std-ref">data/cluster/v2alpha/outlier_detection_event.proto</span></a></p>
</div></blockquote>
<p><a class="reference internal" href="../../../../intro/arch_overview/upstream/outlier.html#arch-overview-outlier-detection-logging"><span class="std std-ref">Outlier detection logging</span></a>.</p>
<div class="section" id="data-cluster-v3-outlierdetectionevent">
<span id="envoy-v3-api-msg-data-cluster-v3-outlierdetectionevent"></span><h2>data.cluster.v3.OutlierDetectionEvent<a class="headerlink" href="#data-cluster-v3-outlierdetectionevent" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/fe8f2243b287feb2d6868a151e299e54c71036d3/api/envoy/data/cluster/v3/outlier_detection_event.proto#L76">[data.cluster.v3.OutlierDetectionEvent proto]</a></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;secs_since_last_action&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;cluster_name&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;upstream_url&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;num_ejections&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;enforced&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;eject_success_rate_event&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;eject_consecutive_event&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span><span class="p">,</span>
  <span class="nt">&quot;eject_failure_percentage_event&quot;</span><span class="p">:</span> <span class="s2">&quot;{...}&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-type">
<dt>type</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-enum-data-cluster-v3-outlierejectiontype"><span class="std std-ref">data.cluster.v3.OutlierEjectionType</span></a>) In case of eject represents type of ejection that took place.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-timestamp">
<dt>timestamp</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#timestamp">Timestamp</a>) Timestamp for event.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-secs-since-last-action">
<dt>secs_since_last_action</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#uint64value">UInt64Value</a>) The time in seconds since the last action (either an ejection or unejection) took place.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-cluster-name">
<dt>cluster_name</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>, <em>REQUIRED</em>) The <a class="reference internal" href="../../../config/cluster/v3/cluster.proto.html#envoy-v3-api-msg-config-cluster-v3-cluster"><span class="std std-ref">cluster</span></a> that owns the ejected host.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-upstream-url">
<dt>upstream_url</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">string</a>, <em>REQUIRED</em>) The URL of the ejected host. E.g., <code class="docutils literal notranslate"><span class="pre">tcp://1.2.3.4:80</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-action">
<dt>action</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-enum-data-cluster-v3-action"><span class="std std-ref">data.cluster.v3.Action</span></a>) The action that took place.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-num-ejections">
<dt>num_ejections</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">uint32</a>) If <code class="docutils literal notranslate"><span class="pre">action</span></code> is <code class="docutils literal notranslate"><span class="pre">eject</span></code>, specifies the number of times the host has been ejected (local to
that Envoy and gets reset if the host gets removed from the upstream cluster for any reason and
then re-added).</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-enforced">
<dt>enforced</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">bool</a>) If <code class="docutils literal notranslate"><span class="pre">action</span></code> is <code class="docutils literal notranslate"><span class="pre">eject</span></code>, specifies if the ejection was enforced. <code class="docutils literal notranslate"><span class="pre">true</span></code> means the host was
ejected. <code class="docutils literal notranslate"><span class="pre">false</span></code> means the event was logged but the host was not actually ejected.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-eject-success-rate-event">
<dt>eject_success_rate_event</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-data-cluster-v3-outlierejectsuccessrate"><span class="std std-ref">data.cluster.v3.OutlierEjectSuccessRate</span></a>)</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-eject-success-rate-event"><span class="std std-ref">eject_success_rate_event</span></a>, <a class="reference internal" href="#envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-eject-consecutive-event"><span class="std std-ref">eject_consecutive_event</span></a>, <a class="reference internal" href="#envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-eject-failure-percentage-event"><span class="std std-ref">eject_failure_percentage_event</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-eject-consecutive-event">
<dt>eject_consecutive_event</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-data-cluster-v3-outlierejectconsecutive"><span class="std std-ref">data.cluster.v3.OutlierEjectConsecutive</span></a>)</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-eject-success-rate-event"><span class="std std-ref">eject_success_rate_event</span></a>, <a class="reference internal" href="#envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-eject-consecutive-event"><span class="std std-ref">eject_consecutive_event</span></a>, <a class="reference internal" href="#envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-eject-failure-percentage-event"><span class="std std-ref">eject_failure_percentage_event</span></a> must be set.</p>
</dd>
</dl>
<dl id="envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-eject-failure-percentage-event">
<dt>eject_failure_percentage_event</dt><dd><p>(<a class="reference internal" href="#envoy-v3-api-msg-data-cluster-v3-outlierejectfailurepercentage"><span class="std std-ref">data.cluster.v3.OutlierEjectFailurePercentage</span></a>)</p>
<p>Precisely one of <a class="reference internal" href="#envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-eject-success-rate-event"><span class="std std-ref">eject_success_rate_event</span></a>, <a class="reference internal" href="#envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-eject-consecutive-event"><span class="std std-ref">eject_consecutive_event</span></a>, <a class="reference internal" href="#envoy-v3-api-field-data-cluster-v3-outlierdetectionevent-eject-failure-percentage-event"><span class="std std-ref">eject_failure_percentage_event</span></a> must be set.</p>
</dd>
</dl>
</div>
<div class="section" id="data-cluster-v3-outlierejectsuccessrate">
<span id="envoy-v3-api-msg-data-cluster-v3-outlierejectsuccessrate"></span><h2>data.cluster.v3.OutlierEjectSuccessRate<a class="headerlink" href="#data-cluster-v3-outlierejectsuccessrate" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/fe8f2243b287feb2d6868a151e299e54c71036d3/api/envoy/data/cluster/v3/outlier_detection_event.proto#L118">[data.cluster.v3.OutlierEjectSuccessRate proto]</a></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;host_success_rate&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;cluster_average_success_rate&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
  <span class="nt">&quot;cluster_success_rate_ejection_threshold&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-data-cluster-v3-outlierejectsuccessrate-host-success-rate">
<dt>host_success_rate</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">uint32</a>) Host’s success rate at the time of the ejection event on a 0-100 range.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-data-cluster-v3-outlierejectsuccessrate-cluster-average-success-rate">
<dt>cluster_average_success_rate</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">uint32</a>) Average success rate of the hosts in the cluster at the time of the ejection event on a 0-100
range.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-field-data-cluster-v3-outlierejectsuccessrate-cluster-success-rate-ejection-threshold">
<dt>cluster_success_rate_ejection_threshold</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">uint32</a>) Success rate ejection threshold at the time of the ejection event.</p>
</dd>
</dl>
</div>
<div class="section" id="data-cluster-v3-outlierejectconsecutive">
<span id="envoy-v3-api-msg-data-cluster-v3-outlierejectconsecutive"></span><h2>data.cluster.v3.OutlierEjectConsecutive<a class="headerlink" href="#data-cluster-v3-outlierejectconsecutive" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/fe8f2243b287feb2d6868a151e299e54c71036d3/api/envoy/data/cluster/v3/outlier_detection_event.proto#L133">[data.cluster.v3.OutlierEjectConsecutive proto]</a></p>
</div>
<div class="section" id="data-cluster-v3-outlierejectfailurepercentage">
<span id="envoy-v3-api-msg-data-cluster-v3-outlierejectfailurepercentage"></span><h2>data.cluster.v3.OutlierEjectFailurePercentage<a class="headerlink" href="#data-cluster-v3-outlierejectfailurepercentage" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/fe8f2243b287feb2d6868a151e299e54c71036d3/api/envoy/data/cluster/v3/outlier_detection_event.proto#L138">[data.cluster.v3.OutlierEjectFailurePercentage proto]</a></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;host_success_rate&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple" id="envoy-v3-api-field-data-cluster-v3-outlierejectfailurepercentage-host-success-rate">
<dt>host_success_rate</dt><dd><p>(<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/proto#scalar">uint32</a>) Host’s success rate at the time of the ejection event on a 0-100 range.</p>
</dd>
</dl>
</div>
<div class="section" id="enum-data-cluster-v3-outlierejectiontype">
<span id="envoy-v3-api-enum-data-cluster-v3-outlierejectiontype"></span><h2>Enum data.cluster.v3.OutlierEjectionType<a class="headerlink" href="#enum-data-cluster-v3-outlierejectiontype" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/fe8f2243b287feb2d6868a151e299e54c71036d3/api/envoy/data/cluster/v3/outlier_detection_event.proto#L20">[data.cluster.v3.OutlierEjectionType proto]</a></p>
<p>Type of ejection that took place</p>
<dl class="simple" id="envoy-v3-api-enum-value-data-cluster-v3-outlierejectiontype-consecutive-5xx">
<dt>CONSECUTIVE_5XX</dt><dd><p><em>(DEFAULT)</em> ⁣In case upstream host returns certain number of consecutive 5xx.
If
<a class="reference internal" href="../../../config/cluster/v3/outlier_detection.proto.html#envoy-v3-api-field-config-cluster-v3-outlierdetection-split-external-local-origin-errors"><span class="std std-ref">outlier_detection.split_external_local_origin_errors</span></a>
is <em>false</em>, all type of errors are treated as HTTP 5xx errors.
See <a class="reference internal" href="../../../../intro/arch_overview/upstream/outlier.html#arch-overview-outlier-detection"><span class="std std-ref">Cluster outlier detection</span></a> documentation for
details.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-data-cluster-v3-outlierejectiontype-consecutive-gateway-failure">
<dt>CONSECUTIVE_GATEWAY_FAILURE</dt><dd><p>⁣In case upstream host returns certain number of consecutive gateway errors</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-data-cluster-v3-outlierejectiontype-success-rate">
<dt>SUCCESS_RATE</dt><dd><p>⁣Runs over aggregated success rate statistics from every host in cluster
and selects hosts for which ratio of successful replies deviates from other hosts
in the cluster.
If
<a class="reference internal" href="../../../config/cluster/v3/outlier_detection.proto.html#envoy-v3-api-field-config-cluster-v3-outlierdetection-split-external-local-origin-errors"><span class="std std-ref">outlier_detection.split_external_local_origin_errors</span></a>
is <em>false</em>, all errors (externally and locally generated) are used to calculate success rate
statistics. See <a class="reference internal" href="../../../../intro/arch_overview/upstream/outlier.html#arch-overview-outlier-detection"><span class="std std-ref">Cluster outlier detection</span></a>
documentation for details.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-data-cluster-v3-outlierejectiontype-consecutive-local-origin-failure">
<dt>CONSECUTIVE_LOCAL_ORIGIN_FAILURE</dt><dd><p>⁣Consecutive local origin failures: Connection failures, resets, timeouts, etc
This type of ejection happens only when
<a class="reference internal" href="../../../config/cluster/v3/outlier_detection.proto.html#envoy-v3-api-field-config-cluster-v3-outlierdetection-split-external-local-origin-errors"><span class="std std-ref">outlier_detection.split_external_local_origin_errors</span></a>
is set to <em>true</em>.
See <a class="reference internal" href="../../../../intro/arch_overview/upstream/outlier.html#arch-overview-outlier-detection"><span class="std std-ref">Cluster outlier detection</span></a> documentation for</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-data-cluster-v3-outlierejectiontype-success-rate-local-origin">
<dt>SUCCESS_RATE_LOCAL_ORIGIN</dt><dd><p>⁣Runs over aggregated success rate statistics for local origin failures
for all hosts in the cluster and selects hosts for which success rate deviates from other
hosts in the cluster. This type of ejection happens only when
<a class="reference internal" href="../../../config/cluster/v3/outlier_detection.proto.html#envoy-v3-api-field-config-cluster-v3-outlierdetection-split-external-local-origin-errors"><span class="std std-ref">outlier_detection.split_external_local_origin_errors</span></a>
is set to <em>true</em>.
See <a class="reference internal" href="../../../../intro/arch_overview/upstream/outlier.html#arch-overview-outlier-detection"><span class="std std-ref">Cluster outlier detection</span></a> documentation for</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-data-cluster-v3-outlierejectiontype-failure-percentage">
<dt>FAILURE_PERCENTAGE</dt><dd><p>⁣Runs over aggregated success rate statistics from every host in cluster and selects hosts for
which ratio of failed replies is above configured value.</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-data-cluster-v3-outlierejectiontype-failure-percentage-local-origin">
<dt>FAILURE_PERCENTAGE_LOCAL_ORIGIN</dt><dd><p>⁣Runs over aggregated success rate statistics for local origin failures from every host in
cluster and selects hosts for which ratio of failed replies is above configured value.</p>
</dd>
</dl>
</div>
<div class="section" id="enum-data-cluster-v3-action">
<span id="envoy-v3-api-enum-data-cluster-v3-action"></span><h2>Enum data.cluster.v3.Action<a class="headerlink" href="#enum-data-cluster-v3-action" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/envoyproxy/envoy/blob/fe8f2243b287feb2d6868a151e299e54c71036d3/api/envoy/data/cluster/v3/outlier_detection_event.proto#L67">[data.cluster.v3.Action proto]</a></p>
<p>Represents possible action applied to upstream host</p>
<dl class="simple" id="envoy-v3-api-enum-value-data-cluster-v3-action-eject">
<dt>EJECT</dt><dd><p><em>(DEFAULT)</em> ⁣In case host was excluded from service</p>
</dd>
</dl>
<dl class="simple" id="envoy-v3-api-enum-value-data-cluster-v3-action-uneject">
<dt>UNEJECT</dt><dd><p>⁣In case host was brought back into service</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../../core/core.html" class="btn btn-neutral float-right" title="Core data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../cluster.html" class="btn btn-neutral float-left" title="Cluster data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2016-2021, Envoy Project Authors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1.11.0 (July 11, 2019) &mdash; envoy 1.18.0-dev-502d9c documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.10.0 (Apr 5, 2019)" href="v1.10.0.html" />
    <link rel="prev" title="1.11.1 (August 13, 2019)" href="v1.11.1.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/envoy-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.18.0-dev-502d9c
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/overview.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="version_history.html">Version history</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="current.html">1.18.0 (Pending)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.17.0.html">1.17.0 (January 11, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.16.2.html">1.16.2 (December 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.16.1.html">1.16.1 (November 20, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.16.0.html">1.16.0 (October 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.3.html">1.15.3 (December 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.2.html">1.15.2 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.1.html">1.15.1 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.0.html">1.15.0 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.6.html">1.14.6 (December 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.5.html">1.14.5 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.4.html">1.14.4 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.3.html">1.14.3 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.2.html">1.14.2 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.1.html">1.14.1 (April 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.0.html">1.14.0 (April 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.8.html">1.13.8 (January 15, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.7.html">1.13.7 (December 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.6.html">1.13.6 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.5.html">1.13.5 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.4.html">1.13.4 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.3.html">1.13.3 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.2.html">1.13.2 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.1.html">1.13.1 (March 3, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.0.html">1.13.0 (January 20, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.7.html">1.12.7 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.6.html">1.12.6 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.5.html">1.12.5 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.4.html">1.12.4 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.3.html">1.12.3 (March 3, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.2.html">1.12.2 (December 10, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.1.html">1.12.1 (November 8, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.0.html">1.12.0 (October 31, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.2.html">1.11.2 (October 8, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.1.html">1.11.1 (August 13, 2019)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">1.11.0 (July 11, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#changes">Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deprecated">Deprecated</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="v1.10.0.html">1.10.0 (Apr 5, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.9.1.html">1.9.1 (Apr 2, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.9.0.html">1.9.0 (Dec 20, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.8.0.html">1.8.0 (Oct 4, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.7.0.html">1.7.0 (Jun 21, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.6.0.html">1.6.0 (March 20, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.5.0.html">1.5.0 (December 4, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.4.0.html">1.4.0 (August 24, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.3.0.html">1.3.0 (May 17, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.2.0.html">1.2.0 (March 7, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.1.0.html">1.1.0 (November 30, 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.0.0.html">1.0.0 (September 12, 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="version_history.html#deprecation-policy">Deprecation Policy</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">envoy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="version_history.html">Version history</a> &raquo;</li>
        
      <li>1.11.0 (July 11, 2019)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/version_history/v1.11.0.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="july-11-2019">
<h1>1.11.0 (July 11, 2019)<a class="headerlink" href="#july-11-2019" title="Permalink to this headline">¶</a></h1>
<div class="section" id="changes">
<h2>Changes<a class="headerlink" href="#changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>access log: added a new field for downstream TLS session ID to file and gRPC access logger.</p></li>
<li><p>access log: added a new field for route name to file and gRPC access logger.</p></li>
<li><p>access log: added a new field for response code details in <a class="reference internal" href="../configuration/observability/access_log/usage.html#config-access-log-format-response-code-details"><span class="std std-ref">file access logger</span></a> and <a class="reference internal" href="../api-v2/data/accesslog/v2/accesslog.proto.html#envoy-api-field-data-accesslog-v2-httpresponseproperties-response-code-details"><span class="std std-ref">gRPC access logger</span></a>.</p></li>
<li><p>access log: added several new variables for exposing information about the downstream TLS connection to <a class="reference internal" href="../configuration/observability/access_log/usage.html#config-access-log-format-response-code-details"><span class="std std-ref">file access logger</span></a> and <a class="reference internal" href="../api-v2/data/accesslog/v2/accesslog.proto.html#envoy-api-field-data-accesslog-v2-accesslogcommon-tls-properties"><span class="std std-ref">gRPC access logger</span></a>.</p></li>
<li><p>access log: added a new flag for request rejected due to failed strict header check.</p></li>
<li><p>admin: the administration interface now includes a <a class="reference internal" href="../operations/admin.html#operations-admin-interface"><span class="std std-ref">/ready endpoint</span></a> for easier readiness checks.</p></li>
<li><p>admin: extend <a class="reference internal" href="../operations/admin.html#operations-admin-interface-runtime-modify"><span class="std std-ref">/runtime_modify endpoint</span></a> to support parameters within the request body.</p></li>
<li><p>admin: the <a class="reference internal" href="../operations/admin.html#operations-admin-interface-listeners"><span class="std std-ref">/listener endpoint</span></a> now returns <a class="reference internal" href="../api-v2/admin/v2alpha/listeners.proto.html#envoy-api-msg-admin-v2alpha-listeners"><span class="std std-ref">listeners.proto</span></a> which includes listener names and ports.</p></li>
<li><p>admin: added host priority to <a class="reference internal" href="../operations/admin.html#get--clusters" title="GET /clusters"><code class="xref http http-get docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/clusters</span></code></a> and <a class="reference internal" href="../operations/admin.html#get--clusters?format=json" title="GET /clusters?format=json"><code class="xref http http-get docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/clusters?format=json</span></code></a> endpoint response</p></li>
<li><p>admin: the <a class="reference internal" href="../operations/admin.html#operations-admin-interface-clusters"><span class="std std-ref">/clusters endpoint</span></a> now shows hostname
for each host, useful for DNS based clusters.</p></li>
<li><p>api: track and report requests issued since last load report.</p></li>
<li><p>build: releases are built with Clang and linked with LLD.</p></li>
<li><p>config: added :ref:stats_server_version_override` &lt;envoy_api_field_config.bootstrap.v2.Bootstrap.stats_server_version_override&gt;` in bootstrap, that can be used to override <a class="reference internal" href="../configuration/observability/statistics.html#server-statistics"><span class="std std-ref">server.version statistic</span></a>.</p></li>
<li><p>control-plane: management servers can respond with HTTP 304 to indicate that config is up to date for Envoy proxies polling a <a class="reference internal" href="../api-v2/api/v2/core/config_source.proto.html#envoy-api-field-core-apiconfigsource-api-type"><span class="std std-ref">REST API Config Type</span></a></p></li>
<li><p>csrf: added support for allowlisting additional source origins.</p></li>
<li><p>dns: added support for getting DNS record TTL which is used by STRICT_DNS/LOGICAL_DNS cluster as DNS refresh rate.</p></li>
<li><p>dubbo_proxy: support the <a class="reference internal" href="../configuration/listeners/network_filters/dubbo_proxy_filter.html#config-network-filters-dubbo-proxy"><span class="std std-ref">dubbo proxy filter</span></a>.</p></li>
<li><p>dynamo_request_parser: adding support for transactions. Adds check for new types of dynamodb operations (TransactWriteItems, TransactGetItems) and awareness for new types of dynamodb errors (IdempotentParameterMismatchException, TransactionCanceledException, TransactionInProgressException).</p></li>
<li><p>eds: added support to specify max time for which endpoints can be used <a class="reference internal" href="../api-v2/api/v2/endpoint.proto.html#envoy-api-msg-clusterloadassignment-policy"><span class="std std-ref">gRPC filter</span></a>.</p></li>
<li><p>eds: removed max limit for <cite>load_balancing_weight</cite>.</p></li>
<li><p>event: added <a class="reference internal" href="../operations/performance.html#operations-performance"><span class="std std-ref">loop duration and poll delay statistics</span></a>.</p></li>
<li><p>ext_authz: added a <cite>x-envoy-auth-partial-body</cite> metadata header set to <cite>false|true</cite> indicating if there is a partial body sent in the authorization request message.</p></li>
<li><p>ext_authz: added configurable status code that allows customizing HTTP responses on filter check status errors.</p></li>
<li><p>ext_authz: added option to <cite>ext_authz</cite> that allows the filter clearing route cache.</p></li>
<li><p>grpc-json: added support for <a class="reference internal" href="../api-v2/config/filter/http/transcoder/v2/transcoder.proto.html#envoy-api-field-config-filter-http-transcoder-v2-grpcjsontranscoder-auto-mapping"><span class="std std-ref">auto mapping</span></a>.</p></li>
<li><p>health check: added <a class="reference internal" href="../api-v2/api/v2/core/health_check.proto.html#envoy-api-field-core-healthcheck-initial-jitter"><span class="std std-ref">initial jitter</span></a> to add jitter to the first health check in order to prevent thundering herd on Envoy startup.</p></li>
<li><p>hot restart: stats are no longer shared between hot restart parent/child via shared memory, but rather by RPC. Hot restart version incremented to 11.</p></li>
<li><p>http: added the ability to pass a URL encoded PEM encoded peer certificate chain in the
<a class="reference internal" href="../configuration/http/http_conn_man/headers.html#config-http-conn-man-headers-x-forwarded-client-cert"><span class="std std-ref">x-forwarded-client-cert</span></a> header.</p></li>
<li><p>http: fixed a bug where large unbufferable responses were not tracked in stats and logs correctly.</p></li>
<li><p>http: fixed a crashing bug where gRPC local replies would cause segfaults when upstream access logging was on.</p></li>
<li><p>http: mitigated a race condition with the <a class="reference internal" href="../api-v2/config/filter/network/http_connection_manager/v2/http_connection_manager.proto.html#envoy-api-field-config-filter-network-http-connection-manager-v2-httpconnectionmanager-delayed-close-timeout"><span class="std std-ref">delayed_close_timeout</span></a> where it could trigger while actively flushing a pending write buffer for a downstream connection.</p></li>
<li><p>http: added support for <a class="reference internal" href="../api-v2/config/filter/network/http_connection_manager/v2/http_connection_manager.proto.html#envoy-api-field-config-filter-network-http-connection-manager-v2-httpconnectionmanager-preserve-external-request-id"><span class="std std-ref">preserve_external_request_id</span></a> that represents whether the x-request-id should not be reset on edge entry inside mesh</p></li>
<li><p>http: changed <cite>sendLocalReply</cite> to send percent-encoded <cite>GrpcMessage</cite>.</p></li>
<li><p>http: added a :ref:header_prefix` &lt;envoy_api_field_config.bootstrap.v2.Bootstrap.header_prefix&gt;` configuration option to allow Envoy to send and process x-custom- prefixed headers rather than x-envoy.</p></li>
<li><p>http: added <a class="reference internal" href="../intro/arch_overview/http/http_proxy.html#arch-overview-http-dynamic-forward-proxy"><span class="std std-ref">dynamic forward proxy</span></a> support.</p></li>
<li><p>http: tracking the active stream and dumping state in Envoy crash handlers. This can be disabled by building with <cite>–define disable_object_dump_on_signal_trace=disabled</cite></p></li>
<li><p>jwt_authn: make filter’s parsing of JWT more flexible, allowing syntax like <code class="docutils literal notranslate"><span class="pre">jwt=eyJhbGciOiJS...ZFnFIw,extra=7,realm=123</span></code></p></li>
<li><p>listener: added <a class="reference internal" href="../api-v2/api/v2/listener/listener_components.proto.html#envoy-api-field-listener-filterchainmatch-source-prefix-ranges"><span class="std std-ref">source IP</span></a>
and <a class="reference internal" href="../api-v2/api/v2/listener/listener_components.proto.html#envoy-api-field-listener-filterchainmatch-source-ports"><span class="std std-ref">source port</span></a> filter
chain matching.</p></li>
<li><p>lua: exposed functions to Lua to verify digital signature.</p></li>
<li><p>original_src filter: added the <a class="reference internal" href="../configuration/http/http_filters/original_src_filter.html#config-http-filters-original-src"><span class="std std-ref">filter</span></a>.</p></li>
<li><p>outlier_detector: added configuration <a class="reference internal" href="../api-v2/api/v2/cluster/outlier_detection.proto.html#envoy-api-field-cluster-outlierdetection-split-external-local-origin-errors"><span class="std std-ref">outlier_detection.split_external_local_origin_errors</span></a> to distinguish locally and externally generated errors. See <a class="reference internal" href="../intro/arch_overview/upstream/outlier.html#arch-overview-outlier-detection"><span class="std std-ref">Outlier detection</span></a> for full details.</p></li>
<li><p>rbac: migrated from v2alpha to v2.</p></li>
<li><p>redis: add support for Redis cluster custom cluster type.</p></li>
<li><p>redis: automatically route commands using cluster slots for Redis cluster.</p></li>
<li><p>redis: added <a class="reference internal" href="../api-v2/config/filter/network/redis_proxy/v2/redis_proxy.proto.html#envoy-api-field-config-filter-network-redis-proxy-v2-redisproxy-prefix-routes"><span class="std std-ref">prefix routing</span></a> to enable routing commands based on their key’s prefix to different upstream.</p></li>
<li><p>redis: added <a class="reference internal" href="../api-v2/config/filter/network/redis_proxy/v2/redis_proxy.proto.html#envoy-api-field-config-filter-network-redis-proxy-v2-redisproxy-prefixroutes-route-request-mirror-policy"><span class="std std-ref">request mirror policy</span></a> to enable shadow traffic and/or dual writes.</p></li>
<li><p>redis: add support for zpopmax and zpopmin commands.</p></li>
<li><p>redis: added
<a class="reference internal" href="../api-v2/config/filter/network/redis_proxy/v2/redis_proxy.proto.html#envoy-api-field-config-filter-network-redis-proxy-v2-redisproxy-connpoolsettings-max-buffer-size-before-flush"><span class="std std-ref">max_buffer_size_before_flush</span></a> to batch commands together until the encoder buffer hits a certain size, and
<a class="reference internal" href="../api-v2/config/filter/network/redis_proxy/v2/redis_proxy.proto.html#envoy-api-field-config-filter-network-redis-proxy-v2-redisproxy-connpoolsettings-buffer-flush-timeout"><span class="std std-ref">buffer_flush_timeout</span></a> to control how quickly the buffer is flushed if it is not full.</p></li>
<li><p>redis: added auth support <a class="reference internal" href="../api-v2/config/filter/network/redis_proxy/v2/redis_proxy.proto.html#envoy-api-field-config-filter-network-redis-proxy-v2-redisproxy-downstream-auth-password"><span class="std std-ref">downstream_auth_password</span></a> for downstream client authentication, and <a class="reference internal" href="../api-v2/config/filter/network/redis_proxy/v2/redis_proxy.proto.html#envoy-api-field-config-filter-network-redis-proxy-v2-redisprotocoloptions-auth-password"><span class="std std-ref">auth_password</span></a> to configure authentication passwords for upstream server clusters.</p></li>
<li><p>retry: added a retry predicate that <a class="reference internal" href="../api-v2/api/v2/route/route_components.proto.html#envoy-api-field-route-retrypolicy-retry-host-predicate"><span class="std std-ref">rejects canary hosts.</span></a></p></li>
<li><p>router: add support for configuring a <a class="reference internal" href="../api-v2/api/v2/route/route_components.proto.html#envoy-api-field-route-routeaction-grpc-timeout-offset"><span class="std std-ref">gRPC timeout offset</span></a> on incoming requests.</p></li>
<li><p>router: added ability to control retry back-off intervals via <a class="reference internal" href="../api-v2/api/v2/route/route_components.proto.html#envoy-api-msg-route-retrypolicy-retrybackoff"><span class="std std-ref">retry policy</span></a>.</p></li>
<li><p>router: added ability to issue a hedged retry in response to a per try timeout via a <a class="reference internal" href="../api-v2/api/v2/route/route_components.proto.html#envoy-api-msg-route-hedgepolicy"><span class="std std-ref">hedge policy</span></a>.</p></li>
<li><p>router: added a route name field to each http route in route.Route list</p></li>
<li><p>router: added several new variables for exposing information about the downstream TLS connection via <a class="reference internal" href="../configuration/http/http_conn_man/headers.html#config-http-conn-man-headers-custom-request-headers"><span class="std std-ref">header
formatters</span></a>.</p></li>
<li><p>router: per try timeouts will no longer start before the downstream request has been received in full by the router.This ensures that the per try timeout does not account for slow downstreams and that will not start before the global timeout.</p></li>
<li><p>router: added <a class="reference internal" href="../api-v2/api/v2/route/route_components.proto.html#envoy-api-field-route-routeaction-auto-host-rewrite-header"><span class="std std-ref">RouteAction’s auto_host_rewrite_header</span></a> to allow upstream host header substitution with some other header’s value</p></li>
<li><p>router: added support for UPSTREAM_REMOTE_ADDRESS <a class="reference internal" href="../configuration/http/http_conn_man/headers.html#config-http-conn-man-headers-custom-request-headers"><span class="std std-ref">header formatter</span></a>.</p></li>
<li><p>router: add ability to reject a request that includes invalid values for
headers configured in <a class="reference internal" href="../api-v2/config/filter/http/router/v2/router.proto.html#envoy-api-field-config-filter-http-router-v2-router-strict-check-headers"><span class="std std-ref">strict_check_headers</span></a></p></li>
<li><p>runtime: added support for <a class="reference internal" href="../api-v2/config/bootstrap/v2/bootstrap.proto.html#envoy-api-field-config-bootstrap-v2-bootstrap-layered-runtime"><span class="std std-ref">flexible layering configuration</span></a>.</p></li>
<li><p>runtime: added support for statically <a class="reference internal" href="../api-v2/config/bootstrap/v2/bootstrap.proto.html#envoy-api-field-config-bootstrap-v2-runtime-base"><span class="std std-ref">specifying the runtime in the bootstrap configuration</span></a>.</p></li>
<li><p>runtime: <a class="reference internal" href="../configuration/operations/runtime.html#config-runtime-rtds"><span class="std std-ref">Runtime Discovery Service (RTDS)</span></a> support added to layered runtime configuration.</p></li>
<li><p>sandbox: added <a class="reference internal" href="../start/sandboxes/csrf.html#install-sandboxes-csrf"><span class="std std-ref">CSRF sandbox</span></a>.</p></li>
<li><p>server: <code class="docutils literal notranslate"><span class="pre">--define</span> <span class="pre">manual_stamp=manual_stamp</span></code> was added to allow server stamping outside of binary rules.
more info in the <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/main/bazel/README.md#enabling-optional-features">bazel docs</a>.</p></li>
<li><p>server: added <a class="reference internal" href="../configuration/observability/statistics.html#statistics"><span class="std std-ref">server state</span></a> statistic.</p></li>
<li><p>server: added <a class="reference internal" href="../configuration/observability/statistics.html#statistics"><span class="std std-ref">initialization_time_ms</span></a> statistic.</p></li>
<li><p>subset: added <a class="reference internal" href="../api-v2/api/v2/cluster.proto.html#envoy-api-field-cluster-lbsubsetconfig-list-as-any"><span class="std std-ref">list_as_any</span></a> option to
the subset lb which allows matching metadata against any of the values in a list value
on the endpoints.</p></li>
<li><p>tools: added <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/502d9cb5c7d8d9061337aec6e94c07afcc514e00/test/tools/router_check/validation.proto">proto</a> support for <a class="reference internal" href="../operations/tools/route_table_check_tool.html#install-tools-route-table-check-tool"><span class="std std-ref">router check tool</span></a> tests.</p></li>
<li><p>tracing: add trace sampling configuration to the route, to override the route level.</p></li>
<li><p>upstream: added <a class="reference internal" href="../configuration/upstream/cluster_manager/cluster_stats.html#config-cluster-manager-cluster-stats"><span class="std std-ref">upstream_cx_pool_overflow</span></a> for the connection pool circuit breaker.</p></li>
<li><p>upstream: an EDS management server can now force removal of a host that is still passing active
health checking by first marking the host as failed via EDS health check and subsequently removing
it in a future update. This is a mechanism to work around a race condition in which an EDS
implementation may remove a host before it has stopped passing active HC, thus causing the host
to become stranded until a future update.</p></li>
<li><p>upstream: added <a class="reference internal" href="../api-v2/api/v2/cluster.proto.html#envoy-api-field-cluster-commonlbconfig-ignore-new-hosts-until-first-hc"><span class="std std-ref">an option</span></a>
that allows ignoring new hosts for the purpose of load balancing calculations until they have
been health checked for the first time.</p></li>
<li><p>upstream: added runtime error checking to prevent setting dns type to STRICT_DNS or LOGICAL_DNS when custom resolver name is specified.</p></li>
<li><p>upstream: added possibility to override fallback_policy per specific selector in <a class="reference internal" href="../intro/arch_overview/upstream/load_balancing/subsets.html#arch-overview-load-balancer-subsets"><span class="std std-ref">subset load balancer</span></a>.</p></li>
<li><p>upstream: the <a class="reference internal" href="../intro/arch_overview/upstream/service_discovery.html#arch-overview-service-discovery-types-logical-dns"><span class="std std-ref">logical DNS cluster</span></a> now
displays the current resolved IP address in admin output instead of 0.0.0.0.</p></li>
</ul>
</div>
<div class="section" id="deprecated">
<h2>Deprecated<a class="headerlink" href="#deprecated" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The –max-stats and –max-obj-name-len flags no longer has any effect.</p></li>
<li><p>Use of <a class="reference internal" href="../api-v2/config/filter/network/redis_proxy/v2/redis_proxy.proto.html#envoy-api-field-config-filter-network-redis-proxy-v2-redisproxy-cluster"><span class="std std-ref">cluster</span></a> in <a class="reference internal" href="../api-v2/config/filter/network/redis_proxy/v2/redis_proxy.proto.html#envoy-api-file-envoy-config-filter-network-redis-proxy-v2-redis-proxy-proto"><span class="std std-ref">redis_proxy.proto</span></a> is deprecated. Set a <a class="reference internal" href="../api-v2/config/filter/network/redis_proxy/v2/redis_proxy.proto.html#envoy-api-field-config-filter-network-redis-proxy-v2-redisproxy-prefixroutes-catch-all-route"><span class="std std-ref">catch_all_route</span></a> instead.</p></li>
<li><p>Use of <a class="reference internal" href="../api-v2/config/filter/network/redis_proxy/v2/redis_proxy.proto.html#envoy-api-field-config-filter-network-redis-proxy-v2-redisproxy-prefixroutes-catch-all-cluster"><span class="std std-ref">catch_all_cluster</span></a> in <a class="reference internal" href="../api-v2/config/filter/network/redis_proxy/v2/redis_proxy.proto.html#envoy-api-file-envoy-config-filter-network-redis-proxy-v2-redis-proxy-proto"><span class="std std-ref">redis_proxy.proto</span></a> is deprecated. Set a <a class="reference internal" href="../api-v2/config/filter/network/redis_proxy/v2/redis_proxy.proto.html#envoy-api-field-config-filter-network-redis-proxy-v2-redisproxy-prefixroutes-catch-all-route"><span class="std std-ref">catch_all_route</span></a> instead.</p></li>
<li><p>Use of json based schema in router check tool tests. The tests should follow validation <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/502d9cb5c7d8d9061337aec6e94c07afcc514e00/test/tools/router_check/validation.proto">schema</a>.</p></li>
<li><p>Use of the v1 style route configuration for the <a class="reference internal" href="../configuration/listeners/network_filters/tcp_proxy_filter.html#config-network-filters-tcp-proxy"><span class="std std-ref">TCP proxy filter</span></a>
is now fully replaced with listener <a class="reference internal" href="../api-v2/api/v2/listener/listener_components.proto.html#envoy-api-msg-listener-filterchainmatch"><span class="std std-ref">filter chain matching</span></a>.
Use this instead.</p></li>
<li><p>Use of <a class="reference internal" href="../api-v2/config/bootstrap/v2/bootstrap.proto.html#envoy-api-field-config-bootstrap-v2-bootstrap-runtime"><span class="std std-ref">runtime</span></a> in <a class="reference internal" href="../api-v2/config/bootstrap/v2/bootstrap.proto.html#envoy-api-msg-config-bootstrap-v2-bootstrap"><span class="std std-ref">Bootstrap</span></a>. Use <a class="reference internal" href="../api-v2/config/bootstrap/v2/bootstrap.proto.html#envoy-api-field-config-bootstrap-v2-bootstrap-layered-runtime"><span class="std std-ref">layered_runtime</span></a> instead.</p></li>
<li><p>Specifying “deprecated_v1: true” in HTTP and network filter configuration to allow loading JSON
configuration is now deprecated and will be removed in a following release. Update any custom
filters to use protobuf configuration. A struct can be used for a mostly 1:1 conversion if needed.
The <cite>envoy.deprecated_features.v1_filter_json_config</cite> runtime key can be used to temporarily
enable this feature once the deprecation becomes fail by default.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="v1.10.0.html" class="btn btn-neutral float-right" title="1.10.0 (Apr 5, 2019)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="v1.11.1.html" class="btn btn-neutral float-left" title="1.11.1 (August 13, 2019)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2016-2021, Envoy Project Authors

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
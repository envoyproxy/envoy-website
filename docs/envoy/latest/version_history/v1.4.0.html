

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1.4.0 (August 24, 2017) &mdash; envoy 1.16.0-dev-3d9640 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.3.0 (May 17, 2017)" href="v1.3.0.html" />
    <link rel="prev" title="1.5.0 (December 4, 2017)" href="v1.5.0.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/envoy-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.16.0-dev-3d9640
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/install.html">Building and installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="version_history.html">Version history</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="current.html">1.16.0 (Pending)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.0.html">1.15.0 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.3.html">1.14.3 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.2.html">1.14.2 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.1.html">1.14.1 (April 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.0.html">1.14.0 (April 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.3.html">1.13.3 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.2.html">1.13.2 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.1.html">1.13.1 (March 3, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.0.html">1.13.0 (January 20, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.5.html">1.12.5 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.4.html">1.12.4 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.3.html">1.12.3 (March 3, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.2.html">1.12.2 (December 10, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.1.html">1.12.1 (November 8, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.0.html">1.12.0 (October 31, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.2.html">1.11.2 (October 8, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.1.html">1.11.1 (August 13, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.0.html">1.11.0 (July 11, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.10.0.html">1.10.0 (Apr 5, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.9.1.html">1.9.1 (Apr 2, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.9.0.html">1.9.0 (Dec 20, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.8.0.html">1.8.0 (Oct 4, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.7.0.html">1.7.0 (Jun 21, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.6.0.html">1.6.0 (March 20, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.5.0.html">1.5.0 (December 4, 2017)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">1.4.0 (August 24, 2017)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#changes">Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deprecated">Deprecated</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="v1.3.0.html">1.3.0 (May 17, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.2.0.html">1.2.0 (March 7, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.1.0.html">1.1.0 (November 30, 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.0.0.html">1.0.0 (September 12, 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="version_history.html#deprecation-policy">Deprecation Policy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/overview.html">FAQ</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">envoy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="version_history.html">Version history</a> &raquo;</li>
        
      <li>1.4.0 (August 24, 2017)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/version_history/v1.4.0.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="august-24-2017">
<h1>1.4.0 (August 24, 2017)<a class="headerlink" href="#august-24-2017" title="Permalink to this headline">¶</a></h1>
<div class="section" id="changes">
<h2>Changes<a class="headerlink" href="#changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>macOS is <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/3d9640c65df4a93ba41e341f7d7617551a43a625//bazel#quick-start-bazel-build-for-developers">now supported</a>. (A few features
are missing such as hot restart and original destination routing).</p></li>
<li><p>YAML is now directly supported for config files.</p></li>
<li><p>Added /routes admin endpoint.</p></li>
<li><p>End-to-end flow control is now supported for TCP proxy, HTTP/1, and HTTP/2. HTTP flow control
that includes filter buffering is incomplete and will be implemented in 1.5.0.</p></li>
<li><p>Log verbosity <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/3d9640c65df4a93ba41e341f7d7617551a43a625//bazel#log-verbosity">compile time flag</a> added.</p></li>
<li><p>Hot restart <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/3d9640c65df4a93ba41e341f7d7617551a43a625//bazel#hot-restart">compile time flag</a> added.</p></li>
<li><p>Original destination <a class="reference internal" href="../intro/arch_overview/upstream/service_discovery.html#arch-overview-service-discovery-types-original-destination"><span class="std std-ref">cluster</span></a>
and <a class="reference internal" href="../intro/arch_overview/upstream/load_balancing/original_dst.html#arch-overview-load-balancing-types-original-destination"><span class="std std-ref">load balancer</span></a> added.</p></li>
<li><p><a class="reference internal" href="../intro/arch_overview/http/upgrades.html#arch-overview-upgrades"><span class="std std-ref">WebSocket</span></a> is now supported.</p></li>
<li><p>Virtual cluster priorities have been hard removed without deprecation as we are reasonably sure
no one is using this feature.</p></li>
<li><p>Route <cite>validate_clusters</cite> option added.</p></li>
<li><p><a class="reference internal" href="../configuration/http/http_conn_man/headers.html#config-http-conn-man-headers-downstream-service-node"><span class="std std-ref">x-envoy-downstream-service-node</span></a>
header added.</p></li>
<li><p><a class="reference internal" href="../configuration/http/http_conn_man/headers.html#config-http-conn-man-headers-x-forwarded-client-cert"><span class="std std-ref">x-forwarded-client-cert</span></a> header
added.</p></li>
<li><p>Initial HTTP/1 forward proxy support for absolute URLs has been added.</p></li>
<li><p>HTTP/2 codec settings are now configurable.</p></li>
<li><p>gRPC/JSON transcoder <a class="reference internal" href="../configuration/http/http_filters/grpc_json_transcoder_filter.html#config-http-filters-grpc-json-transcoder"><span class="std std-ref">filter</span></a> added.</p></li>
<li><p>gRPC web <a class="reference internal" href="../configuration/http/http_filters/grpc_web_filter.html#config-http-filters-grpc-web"><span class="std std-ref">filter</span></a> added.</p></li>
<li><p>Configurable timeout for the rate limit service call in the <a class="reference internal" href="../configuration/listeners/network_filters/rate_limit_filter.html#config-network-filters-rate-limit"><span class="std std-ref">network</span></a> and <a class="reference internal" href="../configuration/http/http_filters/rate_limit_filter.html#config-http-filters-rate-limit"><span class="std std-ref">HTTP</span></a> rate limit
filters.</p></li>
<li><p><a class="reference internal" href="../configuration/http/http_filters/router_filter.html#config-http-filters-router-x-envoy-retry-grpc-on"><span class="std std-ref">x-envoy-retry-grpc-on</span></a> header added.</p></li>
<li><p><a class="reference internal" href="../intro/arch_overview/operations/dynamic_configuration.html#arch-overview-dynamic-config-lds"><span class="std std-ref">LDS API</span></a> added.</p></li>
<li><p>TLS :<cite>require_client_certificate</cite> option added.</p></li>
<li><p><a class="reference internal" href="../install/tools/config_load_check_tool.html#install-tools-config-load-check-tool"><span class="std std-ref">Configuration check tool</span></a> added.</p></li>
<li><p><a class="reference internal" href="../install/tools/schema_validator_check_tool.html#install-tools-schema-validator-check-tool"><span class="std std-ref">JSON schema check tool</span></a> added.</p></li>
<li><p>Config validation mode added via the <a class="reference internal" href="../operations/cli.html#cmdoption-mode"><code class="xref std std-option docutils literal notranslate"><span class="pre">--mode</span></code></a> option.</p></li>
<li><p><a class="reference internal" href="../operations/cli.html#cmdoption-local-address-ip-version"><code class="xref std std-option docutils literal notranslate"><span class="pre">--local-address-ip-version</span></code></a> option added.</p></li>
<li><p>IPv6 support is now complete.</p></li>
<li><p>UDP <cite>statsd_ip_address</cite> option added.</p></li>
<li><p>Per-cluster DNS resolvers added.</p></li>
<li><p><a class="reference internal" href="../configuration/http/http_filters/fault_filter.html#config-http-filters-fault-injection"><span class="std std-ref">Fault filter</span></a> enhancements and fixes.</p></li>
<li><p>Several features are <a class="reference internal" href="version_history.html#deprecated"><span class="std std-ref">deprecated as of the 1.4.0 release</span></a>. They
will be removed at the beginning of the 1.5.0 release cycle. We explicitly call out that the
<cite>HttpFilterConfigFactory</cite> filter API has been deprecated in favor of
<cite>NamedHttpFilterConfigFactory</cite>.</p></li>
<li><p>Many small bug fixes and performance improvements not listed.</p></li>
</ul>
</div>
<div class="section" id="deprecated">
<h2>Deprecated<a class="headerlink" href="#deprecated" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Config option <cite>statsd_local_udp_port</cite> has been deprecated and has been replaced with
<cite>statsd_udp_ip_address</cite>.</p></li>
<li><p><cite>HttpFilterConfigFactory</cite> filter API has been deprecated in favor of <cite>NamedHttpFilterConfigFactory</cite>.</p></li>
<li><p>Config option <cite>http_codec_options</cite> has been deprecated and has been replaced with <cite>http2_settings</cite>.</p></li>
<li><p>The following log macros have been deprecated: <cite>log_trace</cite>, <cite>log_debug</cite>, <cite>conn_log</cite>,
<cite>conn_log_info</cite>, <cite>conn_log_debug</cite>, <cite>conn_log_trace</cite>, <cite>stream_log</cite>, <cite>stream_log_info</cite>,
<cite>stream_log_debug</cite>, <cite>stream_log_trace</cite>. For replacements, please see
<a class="reference external" href="https://github.com/envoyproxy/envoy/blob/master/source/common/common/logger.h">logger.h</a>.</p></li>
<li><p>The connectionId() and ssl() callbacks of StreamFilterCallbacks have been deprecated and
replaced with a more general connection() callback, which, when not returning a nullptr, can be
used to get the connection id and SSL connection from the returned Connection object pointer.</p></li>
<li><p>The protobuf stub gRPC support via <cite>Grpc::RpcChannelImpl</cite> is now replaced with <cite>Grpc::AsyncClientImpl</cite>.
This no longer uses <cite>protoc</cite> generated stubs but instead utilizes C++ template generation of the
RPC stubs. <cite>Grpc::AsyncClientImpl</cite> supports streaming, in addition to the previous unary, RPCs.</p></li>
<li><p>The direction of network and HTTP filters in the configuration will be ignored from 1.4.0 and
later removed from the configuration in the v2 APIs. Filter direction is now implied at the C++ type
level. The <cite>type()</cite> methods on the <cite>NamedNetworkFilterConfigFactory</cite> and
<cite>NamedHttpFilterConfigFactory</cite> interfaces have been removed to reflect this.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="v1.3.0.html" class="btn btn-neutral float-right" title="1.3.0 (May 17, 2017)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="v1.5.0.html" class="btn btn-neutral float-left" title="1.5.0 (December 4, 2017)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2016-2020, Envoy Project Authors

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
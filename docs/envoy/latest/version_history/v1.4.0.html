

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>1.4.0 (August 24, 2017) &mdash; envoy 1.19.0-dev-1d488f documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.3.0 (May 17, 2017)" href="v1.3.0.html" />
    <link rel="prev" title="1.5.0 (December 4, 2017)" href="v1.5.0.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/envoy-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.19.0-dev-1d488f
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about_docs.html">About the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/configuration.html">Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/operations.html">Operations and administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending/extending.html">Extending Envoy for custom use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/overview.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="version_history.html">Version history</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="current.html">1.19.0 (Pending)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.18.2.html">1.18.2 (April 15, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.18.1.html">1.18.1 (April 15, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.18.0.html">1.18.0 (April 15, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.17.2.html">1.17.2 (April 15, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.17.1.html">1.17.1 (February 25, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.17.0.html">1.17.0 (January 11, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.16.3.html">1.16.3 (April 15, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.16.2.html">1.16.2 (December 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.16.1.html">1.16.1 (November 20, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.16.0.html">1.16.0 (October 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.4.html">1.15.4 (April 15, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.3.html">1.15.3 (December 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.2.html">1.15.2 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.1.html">1.15.1 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.15.0.html">1.15.0 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.7.html">1.14.7 (April 15, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.6.html">1.14.6 (December 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.5.html">1.14.5 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.4.html">1.14.4 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.3.html">1.14.3 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.2.html">1.14.2 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.1.html">1.14.1 (April 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.14.0.html">1.14.0 (April 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.8.html">1.13.8 (January 15, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.7.html">1.13.7 (December 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.6.html">1.13.6 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.5.html">1.13.5 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.4.html">1.13.4 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.3.html">1.13.3 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.2.html">1.13.2 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.1.html">1.13.1 (March 3, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.13.0.html">1.13.0 (January 20, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.7.html">1.12.7 (September 29, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.6.html">1.12.6 (July 7, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.5.html">1.12.5 (June 30, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.4.html">1.12.4 (June 8, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.3.html">1.12.3 (March 3, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.2.html">1.12.2 (December 10, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.1.html">1.12.1 (November 8, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.12.0.html">1.12.0 (October 31, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.2.html">1.11.2 (October 8, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.1.html">1.11.1 (August 13, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.11.0.html">1.11.0 (July 11, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.10.0.html">1.10.0 (Apr 5, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.9.1.html">1.9.1 (Apr 2, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.9.0.html">1.9.0 (Dec 20, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.8.0.html">1.8.0 (Oct 4, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.7.0.html">1.7.0 (Jun 21, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.6.0.html">1.6.0 (March 20, 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.5.0.html">1.5.0 (December 4, 2017)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">1.4.0 (August 24, 2017)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#changes">Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deprecated">Deprecated</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="v1.3.0.html">1.3.0 (May 17, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.2.0.html">1.2.0 (March 7, 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.1.0.html">1.1.0 (November 30, 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.0.0.html">1.0.0 (September 12, 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="version_history.html#deprecation-policy">Deprecation Policy</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">envoy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="version_history.html">Version history</a> &raquo;</li>
        
      <li>1.4.0 (August 24, 2017)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/version_history/v1.4.0.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="august-24-2017">
<h1>1.4.0 (August 24, 2017)<a class="headerlink" href="#august-24-2017" title="Permalink to this headline">¶</a></h1>
<div class="section" id="changes">
<h2>Changes<a class="headerlink" href="#changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>macOS is <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/1d488f1aed8c0acfb0150b49ab5792607c3fbe2b/v1.5.0:/bazel#quick-start-bazel-build-for-developers">now supported</a>. (A few features
are missing such as hot restart and original destination routing).</p></li>
<li><p>YAML is now directly supported for config files.</p></li>
<li><p>Added /routes admin endpoint.</p></li>
<li><p>End-to-end flow control is now supported for TCP proxy, HTTP/1, and HTTP/2. HTTP flow control
that includes filter buffering is incomplete and will be implemented in 1.5.0.</p></li>
<li><p>Log verbosity <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/1d488f1aed8c0acfb0150b49ab5792607c3fbe2b/v1.5.0:/bazel#log-verbosity">compile time flag</a> added.</p></li>
<li><p>Hot restart <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/1d488f1aed8c0acfb0150b49ab5792607c3fbe2b/v1.5.0:/bazel#hot-restart">compile time flag</a> added.</p></li>
<li><p>Original destination <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/intro/arch_overview/service_discovery.html#arch-overview-service-discovery-types-original-destination" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">cluster</span></a>
and <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/intro/arch_overview/load_balancing.html#arch-overview-load-balancing-types-original-destination" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">load balancer</span></a> added.</p></li>
<li><p><a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/intro/arch_overview/websocket.html#arch-overview-websocket" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">WebSocket</span></a> is now supported.</p></li>
<li><p>Virtual cluster priorities have been hard removed without deprecation as we are reasonably sure
no one is using this feature.</p></li>
<li><p>Route <code class="docutils literal notranslate"><span class="pre">validate_clusters</span></code> option added.</p></li>
<li><p><a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/configuration/http_conn_man/headers.html#config-http-conn-man-headers-downstream-service-node" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">x-envoy-downstream-service-node</span></a>
header added.</p></li>
<li><p><a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/configuration/http_conn_man/headers.html#config-http-conn-man-headers-x-forwarded-client-cert" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">x-forwarded-client-cert</span></a> header
added.</p></li>
<li><p>Initial HTTP/1 forward proxy support for absolute URLs has been added.</p></li>
<li><p>HTTP/2 codec settings are now configurable.</p></li>
<li><p>gRPC/JSON transcoder <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/configuration/http_filters/grpc_json_transcoder_filter.html#config-http-filters-grpc-json-transcoder" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">filter</span></a> added.</p></li>
<li><p>gRPC web <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/configuration/http_filters/grpc_web_filter.html#config-http-filters-grpc-web" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">filter</span></a> added.</p></li>
<li><p>Configurable timeout for the rate limit service call in the <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/configuration/network_filters/rate_limit_filter.html#config-network-filters-rate-limit" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">network</span></a> and <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/configuration/http_filters/rate_limit_filter.html#config-http-filters-rate-limit" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">HTTP</span></a> rate limit
filters.</p></li>
<li><p><a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/configuration/http_filters/router_filter.html#config-http-filters-router-x-envoy-retry-grpc-on" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">x-envoy-retry-grpc-on</span></a> header added.</p></li>
<li><p><a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/intro/arch_overview/dynamic_configuration.html#arch-overview-dynamic-config-lds" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">LDS API</span></a> added.</p></li>
<li><p>TLS :<code class="docutils literal notranslate"><span class="pre">require_client_certificate</span></code> option added.</p></li>
<li><p><a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/install/tools/config_load_check_tool.html#install-tools-config-load-check-tool" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">Configuration check tool</span></a> added.</p></li>
<li><p><a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/install/tools/schema_validator_check_tool.html#install-tools-schema-validator-check-tool" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">JSON schema check tool</span></a> added.</p></li>
<li><p>Config validation mode added via the <a class="reference internal" href="../operations/cli.html#cmdoption-mode"><code class="xref std std-option docutils literal notranslate"><span class="pre">--mode</span></code></a> option.</p></li>
<li><p><a class="reference internal" href="../operations/cli.html#cmdoption-local-address-ip-version"><code class="xref std std-option docutils literal notranslate"><span class="pre">--local-address-ip-version</span></code></a> option added.</p></li>
<li><p>IPv6 support is now complete.</p></li>
<li><p>UDP <code class="docutils literal notranslate"><span class="pre">statsd_ip_address</span></code> option added.</p></li>
<li><p>Per-cluster DNS resolvers added.</p></li>
<li><p><a class="reference external" href="https://www.envoyproxy.io/docs/envoy/v1.5.0/configuration/http_filters/fault_filter.html#config-http-filters-fault-injection" title="(in envoy v1.5.0-tag-v1.5.0)"><span class="xref std std-ref">Fault filter</span></a> enhancements and fixes.</p></li>
<li><p>Several features are <a class="reference external" href="https://github.com/envoyproxy/envoy/blob/v1.4.0/DEPRECATED.md">deprecated as of the 1.4.0 release</a>. They
will be removed at the beginning of the 1.5.0 release cycle. We explicitly call out that the
<code class="docutils literal notranslate"><span class="pre">HttpFilterConfigFactory</span></code> filter API has been deprecated in favor of
<code class="docutils literal notranslate"><span class="pre">NamedHttpFilterConfigFactory</span></code>.</p></li>
<li><p>Many small bug fixes and performance improvements not listed.</p></li>
</ul>
</div>
<div class="section" id="deprecated">
<h2>Deprecated<a class="headerlink" href="#deprecated" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Config option <code class="docutils literal notranslate"><span class="pre">statsd_local_udp_port</span></code> has been deprecated and has been replaced with
<code class="docutils literal notranslate"><span class="pre">statsd_udp_ip_address</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HttpFilterConfigFactory</span></code> filter API has been deprecated in favor of <code class="docutils literal notranslate"><span class="pre">NamedHttpFilterConfigFactory</span></code>.</p></li>
<li><p>Config option <code class="docutils literal notranslate"><span class="pre">http_codec_options</span></code> has been deprecated and has been replaced with <code class="docutils literal notranslate"><span class="pre">http2_settings</span></code>.</p></li>
<li><p>The following log macros have been deprecated: <code class="docutils literal notranslate"><span class="pre">log_trace</span></code>, <code class="docutils literal notranslate"><span class="pre">log_debug</span></code>, <code class="docutils literal notranslate"><span class="pre">conn_log</span></code>,
<code class="docutils literal notranslate"><span class="pre">conn_log_info</span></code>, <code class="docutils literal notranslate"><span class="pre">conn_log_debug</span></code>, <code class="docutils literal notranslate"><span class="pre">conn_log_trace</span></code>, <code class="docutils literal notranslate"><span class="pre">stream_log</span></code>, <code class="docutils literal notranslate"><span class="pre">stream_log_info</span></code>,
<code class="docutils literal notranslate"><span class="pre">stream_log_debug</span></code>, <code class="docutils literal notranslate"><span class="pre">stream_log_trace</span></code>. For replacements, please see
<a class="reference external" href="https://github.com/envoyproxy/envoy/blob/main/source/common/common/logger.h">logger.h</a>.</p></li>
<li><p>The connectionId() and ssl() callbacks of StreamFilterCallbacks have been deprecated and
replaced with a more general connection() callback, which, when not returning a nullptr, can be
used to get the connection id and SSL connection from the returned Connection object pointer.</p></li>
<li><p>The protobuf stub gRPC support via <code class="docutils literal notranslate"><span class="pre">Grpc::RpcChannelImpl</span></code> is now replaced with <code class="docutils literal notranslate"><span class="pre">Grpc::AsyncClientImpl</span></code>.
This no longer uses <code class="docutils literal notranslate"><span class="pre">protoc</span></code> generated stubs but instead utilizes C++ template generation of the
RPC stubs. <code class="docutils literal notranslate"><span class="pre">Grpc::AsyncClientImpl</span></code> supports streaming, in addition to the previous unary, RPCs.</p></li>
<li><p>The direction of network and HTTP filters in the configuration will be ignored from 1.4.0 and
later removed from the configuration in the v2 APIs. Filter direction is now implied at the C++ type
level. The <code class="docutils literal notranslate"><span class="pre">type()</span></code> methods on the <code class="docutils literal notranslate"><span class="pre">NamedNetworkFilterConfigFactory</span></code> and
<code class="docutils literal notranslate"><span class="pre">NamedHttpFilterConfigFactory</span></code> interfaces have been removed to reflect this.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="v1.3.0.html" class="btn btn-neutral float-right" title="1.3.0 (May 17, 2017)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="v1.5.0.html" class="btn btn-neutral float-left" title="1.5.0 (December 4, 2017)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2016-2021, Envoy Project Authors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>